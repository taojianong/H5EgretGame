var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(r,o){function s(t){try{l(n.next(t))}catch(e){o(e)}}function a(t){try{l(n["throw"](t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new i(function(e){e(t.value)}).then(s,a)}l((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return n([t,e])}}function n(i){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,o&&(s=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(s=s.call(o,i[1])).done)return s;switch(o=0,s&&(i=[0,s.value]),i[0]){case 0:case 1:s=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,o=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===i[0]||2===i[0])){l=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){l.label=i[1];break}if(6===i[0]&&l.label<s[1]){l.label=s[1],s=i;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(i);break}s[2]&&l.ops.pop(),l.trys.pop();continue}i=e.call(t,l)}catch(n){i=[6,n],o=0}finally{r=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,o,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},fairui;!function(t){var e=function(e){function i(t){void 0===t&&(t=null);var i=e.call(this)||this;return i._data=null,i._isGray=!1,i.ower=null,i.m_componentDic=null,i.m_eventPool=null,i._currentState="",i.ower=t,i.m_eventPool=EventPool.create(),i.m_componentDic=new flash.Dictionary,i}return __extends(i,e),i.prototype.constructExtension=function(t){e.prototype.constructExtension.call(this,t)},Object.defineProperty(i.prototype,"icon",{get:function(){return this._iconLoader?this._iconLoader.url:""},set:function(t){null!=this._iconLoader&&(this._iconLoader.url=t)},enumerable:!0,configurable:!0}),i.prototype.constructFromXML=function(i){e.prototype.constructFromXML.call(this,i),this.initController(),t.FairyUtils.setVar(this,this)},i.prototype.initController=function(){this._buttonController=this.getController("button"),this._iconLoader=this.getChild("icon")},i.prototype.isInited=function(){return this.isInit},Object.defineProperty(i.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState=t,this._buttonController&&(this._buttonController.selectedPage=t)},enumerable:!0,configurable:!0}),i.prototype.containsGlobalPoint=function(t,e){var i=this.globalToLocal(t,e),n=new egret.Rectangle(0,0,this.width,this.height);return n.contains(i.x,i.y)},i.prototype.addChild=function(t){return egret.is(t,"IComponent")&&this.addComponent(t),e.prototype.addChild.call(this,t)},i.prototype.addChildAt=function(t,i){return egret.is(t,"IComponent")&&this.addComponent(t),e.prototype.addChildAt.call(this,t,i)},i.prototype.getElement=function(t,e){return void 0===e&&(e=null),e=e||this,e.getChild(t)},i.prototype.contains=function(t){return-1!=this.getChildIndex(t)},i.prototype.addEgretChild=function(t){this._rootContainer.addChild(t)},i.prototype.addEgretChildAt=function(t,e){this._rootContainer.addChildAt(t,e)},i.prototype.removeEgretChild=function(t){t&&this._rootContainer.contains(t)?this._rootContainer.removeChild(t):t&&null!=t.parent&&t.parent.removeChild(t)},Object.defineProperty(i.prototype,"touchEnabled",{get:function(){return this._rootContainer.touchEnabled},set:function(t){this._rootContainer.touchEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"touchChildren",{get:function(){return this._rootContainer.touchChildren},set:function(t){this._rootContainer.touchChildren=t},enumerable:!0,configurable:!0}),i.prototype.addAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.relistenerAll(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.addAllListener()},this))},i.prototype.removeAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.removeAllListener()},this))},i.prototype.addGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.addListener(t,e,n,i)},i.prototype.removeGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.removeListener(t,e,n,i)},i.prototype.addComponent=function(t){if(t){var e=t.getHashCode();this.m_componentDic.setItem(e,t)}return t},i.prototype.removeComponent=function(t){if(null!=t){var e=t.getHashCode();this.m_componentDic.delItem(e)}},i.prototype.removeAllComponent=function(){this.m_componentDic.reset()},i.prototype.clear=function(){null!=this.m_eventPool&&this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.clear()},this)},i.prototype.destroyComponent=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.dispose()},this)},i.prototype.getHashCode=function(){return this.hashCode},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._disposed||(e.prototype.dispose.call(this),this.clear(),this.m_eventPool&&this.m_eventPool.dispose(),this.m_componentDic=null,this.m_eventPool=null)},i}(fairygui.GComponent);t.BaseSprite=e,__reflect(e.prototype,"fairui.BaseSprite",["IComponent","IDispose"])}(fairui||(fairui={}));var base;!function(t){var e=function(){function e(){this._totalMovieTime=1,this._isDispose=!1,this._blendMode=egret.BlendMode.NORMAL,this._width=-1,this._height=-1,this.isCache=!1}return e.prototype.findFromCache=function(t,e){var i=this;i._list=[],i._width=e.textureWidth,i._height=e.textureHeight,i._spriteSheet=new egret.SpriteSheet(e),i._blendMode=t.blendMode;for(var n,r=t.data,o=r.length,s=0;o>s;s++)n=i.getSingleImage(),n.offsetX=r[s].offx,n.offsetY=r[s].offy,n.width=r[s].width,n.height=r[s].height,n.x=r[s].x,n.y=r[s].y,n.delayTime=r[s].delay,n.imageName=r[s].imgName,i._totalMovieTime+=n.delayTime,i._list.push(n);this._isDispose=!1},e.prototype.createTexture=function(t,e,i,n,r,o,s,a,l){return this._spriteSheet.createTexture(t,e,i,n,r,o,s,a,l)},e.prototype.getImage=function(t){return this._list?this._list[t]:null},e.prototype.getSingleImage=function(){return new t.SingleImage},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalMovieTime",{get:function(){return this._totalMovieTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this._blendMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDispose",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._list){for(var t=this._list.length,e=0;t>e;e++)this._list[e].dispose();this._list.slice(0,t)}this._list=null,this._spriteSheet&&this._spriteSheet.dispose(),this._spriteSheet=null,this._url=null,this._totalMovieTime=0,this._isDispose=!0},e}();t.Animator=e,__reflect(e.prototype,"base.Animator")}(base||(base={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._aniLength=-1,e._scaleX=1,e._scaleY=1,e._x=0,e._y=0,e._alpha=1,e._visible=!0,e._isDisposed=!1,e._currentIndex=0,e.init(),e}return __extends(e,t),Object.defineProperty(e.prototype,"father",{get:function(){return this._father},set:function(t){this._father=t},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._bitmap=this.makeBitmap(),this._isDisposed=!1},e.prototype.makeBitmap=function(){return new base.GBitmap},e.prototype.setTo=function(t,e){this._x=t,this._y=e},e.prototype.seToPoint=function(t){this.setTo(t.x,t.y)},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._scaleX!=t&&(this._scaleX=t,this.view.scaleX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){this._scaleY!=t&&(this._scaleY=t,this.view.scaleY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!=t&&(this._visible=t,this.view&&(this.view.visible=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t,this.view&&(this.view.alpha=t))},enumerable:!0,configurable:!0}),e.prototype.deleteAnimator=function(){this._bitmap&&(this._bitmap.texture=null),this._ani&&(this._ani=null),this._aniLength=0,this._currentIndex=0},Object.defineProperty(e.prototype,"aniLength",{get:function(){return this._aniLength},enumerable:!0,configurable:!0}),e.prototype.addAnimatior=function(t){null==t?this.deleteAnimator():(this._ani=t,this._aniLength=this._ani.length,this._bitmap.blendMode=this._ani.blendMode,this.updateViewBmd())},Object.defineProperty(e.prototype,"animator",{get:function(){return this._ani},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._bitmap},enumerable:!0,configurable:!0}),e.prototype.restart=function(){this._currentIndex=0},e.prototype.updateViewBmd=function(){if(this._ani&&0==this._ani.isDispose){var t=this._ani.getImage(this._currentIndex);t&&this._bitmap&&t.bitmapData&&(this._bitmap.texture=t.bitmapData,this._bitmap.x=t.offsetX*this._scaleX+this._x,this._bitmap.y=t.offsetY*this._scaleY+this._y)}},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){t=Math.floor(t),this._currentIndex!=t&&(this._currentIndex=t,this.updateViewBmd())},enumerable:!0,configurable:!0}),e.prototype.addParent=function(t){this._parent!=t&&(this._parent=t,this._parent.addChild(this.view))},e.prototype.addParentAt=function(t,e){this._parent!=t&&(this._parent=t,this._parent.addChildAt(this.view,e))},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.removeParent=function(){this.view&&this.view.parent&&this.view.parent.removeChild(this.view),this._parent=null},e.prototype.resetAndClear=function(){this.removeParent(),this.deleteAnimator(),this._x=0,this._y=0,this._scaleX=1,this._scaleY=1,this.view.scaleX=1,this.view.scaleY=1,this.alpha=1,this.visible=!0,this._father=null},e.prototype.dispose=function(){this.resetAndClear(),this._bitmap=null,this._isDisposed=!0},e}(egret.HashObject);t.FramePlayer=e,__reflect(e.prototype,"fairui.FramePlayer",["IDispose"])}(fairui||(fairui={}));var com;!function(t){var e;!function(t){var e=function(){function t(){this._isDispose=!1,this._handlerDict=new flash.Dictionary}return t.prototype.addListnerHandler=function(t,e,i){void 0===i&&(i=null);var n=this._handlerDict.getItem(t);if(n){var r=n.getItem(e);r?r.params!=i&&(r.params=i):n.setItem(e,new CHandler(e,i))}else n=new flash.Dictionary,n.setItem(e,new CHandler(e,i)),this._handlerDict.setItem(t,n)},t.prototype.removeListnerHandler=function(t,e){var i=this._handlerDict.getItem(t);i&&i.delItem(e)},t.prototype.execute=function(t,e){void 0===e&&(e=null);var i=this._handlerDict.getItem(t);if(i)for(var n in i.map){var r=i.map[n][1];r.executeWith(e)}},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._handlerDict=null,this._isDispose=!0},t}();t.ListenerHandlers=e,__reflect(e.prototype,"com.utils.ListenerHandlers",["IDispose"])}(e=t.utils||(t.utils={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.smoothstep=function(t,e,i){if(t>i)return 0;if(i>e)return 1;var n=(i-t)/(e-t);return-2*Math.pow(n,3)+3*Math.pow(n,2)},t.getPointDirInLine=function(t,e,i,n,r,o){var s=(i-r)/(n-o)*(e-o)+r;return s>t?-1:s==t?0:1},t.getPointDirInLine_v2=function(t,e,i,n,r,o){var s=(n-o)*t+(r-i)*e+i*o-r*n;return s>0?-1:0==s?0:1},t.getPointDirInLine_v3=function(t,e,i,n,r,o){var s=(r-i)*(e-n)-(o-n)*(t-i);return s>0?-1:0==s?0:1},t.prototype.cosa_leng=function(t,e,i){return Math.sqrt(t*t+e*e-2*t*e*Math.cos(i))},t.rectInsetRound=function(t,e,i,n){return!1},t.distance4_3D=function(t,e,i,n){var r=4*(e-n)/3;return Math.sqrt((t-i)*(t-i)+r*r)},t.distance3_2D=function(t,e,i,n){var r=3*(e-n)/2;return Math.sqrt((t-i)*(t-i)+r*r)},t.distance25D=function(t,e,i,n){return Math.sqrt((t-i)*(t-i)+4*(e-n)*(e-n))},t.randRange=function(t,e){var i=Math.floor(Math.random()*(e-t+1))+t;return i},t.degreesToRadin=function(t){return t*Math.PI/180},t.radinToDegrees=function(t){return 180*t/Math.PI},t.getDistributionPointOnPoint=function(e,i,n,r,o,s,a){void 0===s&&(s=3),void 0===a&&(a=-1);var l=new Array,h=o*(s-1),u=.5*h,c=t.radinToDegrees(t.atan2Angle(n,r,e,i));0>c&&(c+=360);var p=c-u,f=-1==a?t.distancePoint2Point(e,i,n,r):a,d=t.degreesToRadin(o),g=t.degreesToRadin(p);0>g&&(g+=2*Math.PI);for(var _=0;s>_;_++){var m=g+_*d,y=new egret.Point;y.x=Math.cos(m)*f+e,y.y=Math.sin(m)*f+i,l.push(y)}return l},t.distanceMinPoint=function(t,e,i,n){var r=Math.abs(t-i),o=Math.abs(e-n);return r>o?r:o},t.distancePoint2Point=function(t,e,i,n){var r=Math.sqrt(Math.pow(t-i,2)+Math.pow(e-n,2));return r},t.selectMonsterInSectorFromVector=function(e,i,n,r,o){var s=t.get_angle(e,n,i),a=egret.Point.distance(new egret.Point(n.x,n.y),new egret.Point(i.x,i.y));return r/2>=s&&o>=a?!0:!1},t.get_angle=function(t,e,i){var n=0,r=3.1415926,o=t.subtract(i),s=e.subtract(i),a=o.x*s.x+o.y*s.y,l=Math.sqrt(o.x*o.x+o.y*o.y),h=Math.sqrt(s.x*s.x+s.y*s.y),u=a/(l*h);return-1>u&&u>-2?u=-1:u>1&&2>u&&(u=1),n=180*Math.acos(u)/r},t.getPointInSector=function(e,i,n,r,o,s,a,l){var h=!1,u=t.distancePoint2Point(e,i,a,l),c=t.distancePoint2Point(a,l,n,r);if(u>c)return!1;var p=t.atan2Angle(n,r,a,l),f=t.atan2Angle(o,s,a,l),d=!1;0>p&&(p+=2*Math.PI,f+=2*Math.PI,d=!0),0>f&&(f+=2*Math.PI);var g=t.atan2Angle(e,i,a,l);return(d||0>g)&&(g+=2*Math.PI),g>=p&&f>=g&&(h=!0),h},t.atan2Angle=function(t,e,i,n,r){void 0===r&&(r=0);var o=e-n,s=t-i,a=0;return a=0==o&&0==s?Math.PI*(r/4-.5):Math.atan2(o,s)},t.toPoint=function(t,e,i,n,r){var o=new egret.Matrix;o.translate(i,n),o.rotate(r),o.concat(e),o.translate(-1*i,-1*n),t.matrix=o},t}();t.MathUnit=e,__reflect(e.prototype,"com.utils.MathUnit")}(e=t.utils||(t.utils={}))}(com||(com={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.initComplete()},e.prototype.isInited=function(){return!this.isComplyed},e.prototype.initComplete=function(){return this.isInited()?(this.isOpened||(this.isOpened=!0,this.init(null)),this.initData(this.param),this.addAllListener(),this.isComplyed=!0,!0):!1},e.prototype.init=function(t){this.param=t,this.initUI()},e.prototype.initUI=function(){},e.prototype.initData=function(t){void 0===t&&(t=null)},e.prototype.clear=function(){t.prototype.clear.call(this),this.param=null,this.isComplyed=!1},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.param=null},e}(t.BaseSprite);t.UIComponent=e,__reflect(e.prototype,"fairui.UIComponent")}(fairui||(fairui={}));var base;!function(t){var e=function(){function t(t){this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.frameNum=0,this.delayTime=0,this.x=0,this.y=0,this._isDispose=!1,this.bitmapData=t,this.bitmapData&&(this.width=this.bitmapData.textureWidth,this.height=this.bitmapData.textureHeight)}return Object.defineProperty(t.prototype,"isDispose",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bitmapData&&this.bitmapData.dispose(),this.bitmapData=null,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.frameNum=0,this.imageName=null,this._isDispose=!0},t}();t.SingleImage=e,__reflect(e.prototype,"base.SingleImage")}(base||(base={}));var fairui;!function(t){var e=com.utils.MathUnit,i=com.utils.ListenerHandlers,n=function(n){function r(){var t=n.call(this)||this;return t._matrix=new egret.Matrix,t._currentPasstime=0,t._angle=0,t._speed=1,t._isPlaying=!1,t._isCache=!0,t}return __extends(r,n),Object.defineProperty(r.prototype,"isCache",{get:function(){return this._isCache},set:function(t){this._isCache=t},enumerable:!0,configurable:!0}),r.prototype.init=function(){n.prototype.init.call(this)},r.prototype.makeBitmap=function(){return new t.EffectBitmap(this)},r.prototype.setTo=function(t,e){if(egret.superSetter(r,this,"x",t),egret.superSetter(r,this,"y",e),this.animator){var i=this.animator.getImage(this._currentIndex);i&&(this.view.x=i.offsetX*this.view.scaleX+this.x,this.view.y=i.offsetY+this.y)}},Object.defineProperty(r.prototype,"x",{get:function(){return egret.superGetter(r,this,"x")},set:function(t){if(egret.superSetter(r,this,"x",t),this.animator){var e=this.animator.getImage(this._currentIndex);e&&(this.view.x=e.offsetX*this.view.scaleX+this.x)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return egret.superGetter(r,this,"y")},set:function(t){if(egret.superSetter(r,this,"y",t),this.animator){var e=this.animator.getImage(this._currentIndex);e&&(this.view.y=e.offsetY+this.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"degrees",{get:function(){return e.radinToDegrees(this._angle)},set:function(t){this.angle=e.degreesToRadin(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this._angle},set:function(t){t!=this._angle&&(this._angle=t,0==t?(this._matrix.identity(),this.view.matrix=this._matrix):this.rantionView())},enumerable:!0,configurable:!0}),r.prototype.rantionView=function(){if(0!=this._angle&&0==this.isDisposed&&this.animator){var t=this.animator.getImage(this._currentIndex);t&&(this._matrix.tx=this.x+t.offsetX,this._matrix.ty=this.y+t.offsetY,e.toPoint(this.view,this._matrix,t.offsetX,t.offsetY,this._angle))}},Object.defineProperty(r.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),r.prototype.play=function(){this._isPlaying=!0},r.prototype.stop=function(){this._isPlaying=!1},r.prototype.restart=function(){this._currentPasstime=0,n.prototype.restart.call(this)},r.prototype.updateFrame=function(t){if(this._currentPasstime+=t,null!=this.animator&&!this.animator.isDispose){var e=Math.floor(this._currentPasstime/this.animator.totalMovieTime);this._currentPasstime=this._currentPasstime%this.animator.totalMovieTime;for(var i=this.currentIndex,n=this.animator.getImage(i);n&&this._currentPasstime>=n.delayTime*this._speed;)this._currentPasstime-=n.delayTime*this._speed,i++,i>=this.aniLength&&(i=0,e++),n=this.animator.getImage(i);if(e>0&&this.aniLength>0)for(var r=0;e>r;r++)this.lastFrameHandler();this.isPlaying&&(this.currentIndex=i)}},r.prototype.lastFrameHandler=function(){},Object.defineProperty(r.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed!=t&&(this._speed=.1>=t?.1:t)},enumerable:!0,configurable:!0}),r.prototype.updateViewBmd=function(){n.prototype.updateViewBmd.call(this),this.rantionView()},r.prototype.addvanceTime=function(t){this._isPlaying&&this.updateFrame(t)},Object.defineProperty(r.prototype,"frameHandler",{get:function(){return null==this._frameHandler&&(this._frameHandler=new i),this._frameHandler},enumerable:!0,configurable:!0}),r.prototype.resetAndClear=function(){n.prototype.resetAndClear.call(this),this._currentPasstime=0,this._speed=1,this._angle=0,this.stop(),this._matrix&&(this._matrix.identity(),this.view.matrix=this._matrix)},r.prototype.dispose=function(){n.prototype.dispose.call(this),this._matrix=null},r}(t.FramePlayer);t.Effect=n,__reflect(n.prototype,"fairui.Effect")}(fairui||(fairui={}));var flash;!function(t){var e=function(){function t(t){this._count=0,this._maps={},this._hashMaps={},this._objectMaps={}}return Object.defineProperty(t.prototype,"map",{get:function(){return this._maps},enumerable:!0,configurable:!0}),t.prototype.setItem=function(e,i){if("string"==typeof e||"number"==typeof e)this._maps[e]||this._count++,this._maps[e]=i;else if(e instanceof egret.HashObject)this._hashMaps[e.hashCode]||this._count++,this._hashMaps[e.hashCode]=[e,i];else{if(!e)return void egret.error("key can not null.");e.hasOwnProperty(t.HASCODE_NAME)||(e[t.HASCODE_NAME]=t.hashCode,t.hashCode++),this._objectMaps[e[t.HASCODE_NAME]]=[e,i],this._count++}},t.prototype.delItem=function(e){"string"==typeof e||"number"==typeof e?this._maps[e]&&(delete this._maps[e],this._count--):e instanceof egret.HashObject?this._hashMaps[e.hashCode]&&(delete this._hashMaps[e.hashCode],this._count--):e&&e.hasOwnProperty(t.HASCODE_NAME)&&this._objectMaps[e[t.HASCODE_NAME]]&&(delete this._objectMaps[e[t.HASCODE_NAME]],this._count--)},t.prototype.getItem=function(e){return"string"==typeof e||"number"==typeof e?null==this._maps[e]||void 0==this._maps[e]?null:this._maps[e]:e instanceof egret.HashObject?this._hashMaps[e.hashCode]?this._hashMaps[e.hashCode][1]:null:e&&e.hasOwnProperty(t.HASCODE_NAME)&&this._objectMaps[e[t.HASCODE_NAME]]?this._objectMaps[e[t.HASCODE_NAME]][1]:null},t.prototype.hasOwnProperty=function(e){return"string"==typeof e||"number"==typeof e?this._maps[e]?!0:!1:e instanceof egret.HashObject?this._hashMaps[e.hashCode]?!0:!1:e.hasOwnProperty(t.HASCODE_NAME)&&this._objectMaps[e[t.HASCODE_NAME]]?!0:!1},Object.defineProperty(t.prototype,"length",{get:function(){return this._count},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r,o;for(r in this._maps)t.call(e,r,this._maps[r],i);for(r in this._hashMaps)o=this._hashMaps[r],t.apply(e,[o[0],o[1],i]);for(r in this._objectMaps)t.call(e,this._objectMaps[r][0],this._objectMaps[r][1],i)},Object.defineProperty(t.prototype,"elements",{get:function(){var t,e,i=[];for(t in this._maps)i.push({key:t,data:this._maps[t]});for(t in this._hashMaps)e=this._hashMaps[t],i.push({key:e[0],data:e[1]});for(t in this._objectMaps)i.push({key:this._objectMaps[t][0],data:this._objectMaps[t][1]});return i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var t,e=[];for(t in this._maps)e.push(t);for(t in this._hashMaps)e.push(this._hashMaps[t][0]);for(t in this._objectMaps)e.push(this._objectMaps[t][0]);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datum",{get:function(){var t,e=[];for(t in this._maps)e.push(this._maps[t]);for(t in this._hashMaps)e.push(this._hashMaps[t][1]);for(t in this._objectMaps)e.push(this._objectMaps[t][1]);return e},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this._maps={},this._hashMaps={},this._objectMaps={},this._count=0},t.prototype.dispose=function(){this._maps=null,this._hashMaps=null,this._objectMaps=null,this._count=0},t.prototype.dump=function(){var t,e;for(t in this._maps)console.log("key:",t,"---> data:",this._maps[t]);for(t in this._hashMaps)e=this._hashMaps[t],console.log("key:",e[0],"---> data:",e[1]);for(t in this._objectMaps)e=this._objectMaps[t],console.log("key:",e[0],"---> data:",e[1])},t.hashCode=0,t.HASCODE_NAME="____hashCode",t}();t.Dictionary=e,__reflect(e.prototype,"flash.Dictionary")}(flash||(flash={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.cls=null,e.gcTime=0,e}return __extends(e,t),e.prototype.getCls=function(){return this.cls},e.prototype.init=function(e){t.prototype.init.call(this,e),this.gcTime=Number.MAX_VALUE},e.prototype.initUI=function(){},e.prototype.onResize=function(){},e.prototype.isCanGc=function(){return Global.timer.currFrame>=this.gcTime},e.prototype.clear=function(){t.prototype.clear.call(this),this.gcTime=Global.timer.currFrame+e.CACHE_TIME},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.cls=null},e.CACHE_TIME=5e3,e}(t.UIComponent);t.View=e,__reflect(e.prototype,"fairui.View",["IView","IComponent","IDispose"])}(fairui||(fairui={}));var base;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.addEventListener=function(i,n,r,o,s){e.prototype.$addListener.call(this,i,n,r,o,s),this._eventMap||(this._eventMap=new flash.Dictionary);var a=this._eventMap.getItem(i);if(a){for(var l in a)if(a[l].thisObject==r&&a[l].listener==n)return;var h=t.EventHandler.getEventHandler(i,n,r,o,s);a.push(h)}else{var h=t.EventHandler.getEventHandler(i,n,r,o,s);this._eventMap.setItem(i,[h])}},i.prototype.removeEventListener=function(t,i,n,r){if(e.prototype.removeEventListener.call(this,t,i,n,r),this._eventMap){var o=this._eventMap.getItem(t);if(o){for(var s in o)if(o[s].thisObject==n&&o[s].listener==i){o[s].dispose(),o.slice(parseInt(s),1);break}0==o.length&&this._eventMap.delItem(t)}}},i.prototype.removeAllEventListener=function(){if(this._eventMap){for(var t in this._eventMap.map){var e=this._eventMap.getItem(t);if(e)for(var i in e)e[i].dispose()}this._eventMap.reset()}this._eventMap=null},i.prototype.dispose=function(t){},i}(egret.Sprite);t.GSprite=e,__reflect(e.prototype,"base.GSprite")}(base||(base={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isDispose=!1,t.__data=null,t._enabled=!0,t.isInit=!1,t._currentState="",t.m_componentDic=null,t.m_eventPool=null,t.m_eventPool=EventPool.create(),t.m_componentDic=new flash.Dictionary,t}return __extends(i,e),i.prototype.create=function(){},i.prototype.constructFromXML=function(i){e.prototype.constructFromXML.call(this,i),t.FairyUtils.setVar(this,this),this._btnController=this._buttonController,this.init(null)},i.prototype.IsInited=function(){return this.isInit},Object.defineProperty(i.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState=t,this._btnController&&(this._btnController.selectedPage=t)},enumerable:!0,configurable:!0}),i.prototype.show=function(t){this.__data=t,this.addAllListener()},i.prototype.hide=function(){this.__data=null,this.removeAllListener()},Object.defineProperty(i.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this.touchable=t,this._iconObject&&(this._iconObject.grayed=!t)},enumerable:!0,configurable:!0}),i.prototype.addEgretChild=function(t){this._rootContainer.addChild(t)},i.prototype.toTop=function(){null!=this.parent&&(this.parent.numChildren>0?this.parent.setChildIndex(this,this.parent.numChildren-1):this.parent.setChildIndex(this,0))},i.prototype.indexTo=function(t){null!=this.parent&&(t>this.parent.numChildren-1?t=this.parent.numChildren-1:0>t&&(t=0),this.parent.setChildIndex(this,t))},i.prototype.getIndex=function(){return this.parent?this.parent.getChildIndex(this):-1},i.prototype.toBottom=function(){null!=this.parent&&this.parent.setChildIndex(this,0)},i.prototype.getElement=function(t,e){return void 0===e&&(e=null),e=e||this,e.getChild(t)},i.prototype.contains=function(t){return-1!=this.getChildIndex(t)},Object.defineProperty(i.prototype,"touchEnabled",{get:function(){return this._rootContainer.touchEnabled},set:function(t){this._rootContainer.touchEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"touchChildren",{get:function(){return this._rootContainer.touchChildren},set:function(t){this._rootContainer.touchChildren=t},enumerable:!0,configurable:!0}),i.prototype.setFairySource=function(t,e,i){void 0===i&&(i=null),i=i||this._iconObject;var n=fairygui.UIPackage.getItemURL(t,e);this.setFairyUrl(n,i)},i.prototype.setFairyUrl=function(e,i){void 0===i&&(i=null),null!=i&&(i.texture=e?t.FairyTextureUtils.getTexture(e):null)},i.prototype.containsGlobalPoint=function(t,e){var i=this.globalToLocal(t,e),n=new egret.Rectangle(0,0,this.width,this.height);return this.pivotAsAnchor&&(n.x=.5*-this.width,n.y=.5*-this.height),n.contains(i.x,i.y)},Object.defineProperty(i.prototype,"pixelHitTest",{set:function(t){if(this._iconObject){var e=this._iconObject.asLoader;e.content instanceof egret.Bitmap&&(e.content.pixelHitTest=t)}},enumerable:!0,configurable:!0}),i.prototype.init=function(t){this.initUI(),this.addAllListener()},i.prototype.initUI=function(){},i.prototype.addAllListener=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.addAllListener()},this)},i.prototype.removeAllListener=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.removeAllListener()},this)},i.prototype.addGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.addListener(t,e,n,i)},i.prototype.removeGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.removeListener(t,e,n,i)},i.prototype.addComponent=function(t){return null==t||this.m_componentDic.hasOwnProperty(t.getHashCode())?t:(this.m_componentDic.setItem(t.getHashCode(),t),t)},i.prototype.removeComponent=function(t){if(null!=t){var e=this.m_componentDic[t.getHashCode()];null!=e&&delete this.m_componentDic[t.getHashCode()]}},i.prototype.removeAllComponent=function(){this.m_componentDic.reset()},i.prototype.clear=function(){null!=this.m_eventPool&&this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.clear()},this)},i.prototype.destroyComponent=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.dispose()},this)},i.prototype.getHashCode=function(){return this.hashCode},Object.defineProperty(i.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),i.prototype.recover=function(){},i.prototype.dispose=function(){this._disposed||(e.prototype.dispose.call(this),this.clear(),this.__data=null,this.m_eventPool&&this.m_eventPool.dispose(),this.m_componentDic=null,this.m_eventPool=null)},i}(fairygui.GButton);t.BaseButton=e,__reflect(e.prototype,"fairui.BaseButton",["IComponent","IDispose","IPool"])}(fairui||(fairui={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.getImageRes=function(e,i,n){return void 0===i&&(i=".jpg"),void 0===n&&(n=""),""!=n&&(n+="/"),t.getVersionUrl("image/"+n+e+i)+"?t="+Config.releaseVersion},t.getPanelRes=function(e,i,n){return void 0===i&&(i=""),void 0===n&&(n=".png"),""!=i&&(i+="/"),t.getVersionUrl("image/panel/"+i+e+n)+"?t="+Config.releaseVersion},t.getIcon=function(e,i,n){if(void 0===n&&(n=".png"),-1!=i.indexOf("/")){var r=i.split("/");return t.getNewIcon(e,r[0],r[1],n)}return t.getVersionUrl("icon2/"+i+"/"+e+n)+"?t="+Config.releaseVersion},t.getNewIcon=function(e,i,n,r){return void 0===r&&(r=".png"),t.getVersionUrl("icon2/"+i+"/"+e+"/"+n+r)+"?t="+Config.releaseVersion},t.getHead=function(e,i,n){return void 0===n&&(n=".png"),t.getVersionUrl("head/"+i+"/"+e+n)+"?t="+Config.releaseVersion},t.getHeadBorder=function(e,i,n){return void 0===n&&(n=".png"),t.getVersionUrl("head/"+i+"/"+e+n)+"?t="+Config.releaseVersion},t.getVersionUrl=function(t){var e="";return e=App.resourceVersion.getVersionPath(t),e?WebParams.cdn+AssetPathManager.getInstance().RES_PATH+e:""
},t.getFileExtension=function(t){var e=t.indexOf("?")>-1?t.substring(0,t.indexOf("?")):t,i=e.substring(e.lastIndexOf("/"));return-1==i.lastIndexOf(".")?"":i.substring(i.lastIndexOf(".")+1).toLowerCase()},t.RES_SFX=".res",t.ASSETS_SFX=".xll",t.XLL_SFX=".xll",t}();t.ResPathUtil=e,__reflect(e.prototype,"com.utils.ResPathUtil")}(e=t.utils||(t.utils={}))}(com||(com={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.touchable=!1,t}return __extends(i,e),i.prototype.constructExtension=function(t){e.prototype.constructExtension.call(this,t)},i.prototype.setup_afterAdd=function(t,i){e.prototype.setup_afterAdd.call(this,t,i)},Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,t instanceof egret.Texture?this.texture=t:this.url=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"url",{get:function(){return this._iconUrl},set:function(e){return e&&0==e.indexOf("ui://")?void(this.icon=e):(this._iconUrl!=e&&e?t.LoaderManager.loadImageRes(this._iconUrl,this,function(t){this.texture=t,this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))}):e||(this._iconObject.texture=null),void(this._iconUrl=e))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this._iconObject.texture},set:function(t){this._iconObject&&(this._iconObject.texture=t,this.width=t?t.textureWidth:1,this.height=t?t.textureHeight:1)},enumerable:!0,configurable:!0}),i.prototype.setIcon=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),t?t&&0==t.indexOf("ui://")?(this.icon=t,null!=e&&null!=i&&e.call(i)):t.indexOf("/")<0?this.texture=RES.getRes(t):this.loadImage(t,e,i):(null!=e&&null!=i&&e.call(i),this.clear()),this._iconUrl=t},i.prototype.loadImage=function(e,i,n){function r(t,r){t&&e==r&&(o.texture=t,null!=i&&null!=n&&i.call(n))}void 0===i&&(i=null),void 0===n&&(n=null);var o=this;o._iconUrl!=e&&(o.clear(),o._iconUrl=e,null!=e&&t.LoaderManager.loadImageRes(this._iconUrl,this,r))},i.prototype.LoadRes=function(e,i,n,r){function o(){s.texture=RES.getRes(e),null!=n&&null!=r&&n.call(r)}void 0===n&&(n=null),void 0===r&&(r=null);var s=this;s._iconUrl!=e&&(s.dispose(),s._iconUrl=e,null!=i&&t.LoaderManager.loadGroups(i,o))},i.prototype.hasUrl=function(t){return this._iconUrl==t},i.prototype.show=function(t){e.prototype.show.call(this,t),this.loadImage(t)},i.prototype.hide=function(){e.prototype.hide.call(this),this.clear()},i.prototype.clear=function(){this.texture=null,this._iconUrl=null,this._source=null},i.prototype.dispose=function(){e.prototype.dispose.call(this),this._iconUrl=null},i}(t.BaseButton);t.UIBitmapIcon=e,__reflect(e.prototype,"fairui.UIBitmapIcon")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(t,i){void 0===t&&(t=""),void 0===i&&(i="");var n=e.call(this)||this;return n.view=null,n.needAdjustClose=!1,n._pkgName="",n._resName="",n._panelInfo=null,t&&!fairygui.UIPackage.getById(t)&&fairygui.UIPackage.addPackage(t),n._pkgName=t,n._resName=i,n.init(),n}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t)},i.prototype.init=function(){if(this.openTapMask=!0,this._pkgName&&this._resName){var e=fairygui.UIPackage.createObject(this._pkgName,this._resName);this.view=e.asCom,this.addChild(this.view)}t.FairyUtils.setVar(this.view,this),this.initUI(),this.onResize()},i.prototype.initUI=function(){null!=this.titleBar&&(this.btn_close=this.titleBar.btn_close)},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),null!=this.btn_close&&this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.closeHandler,this.btn_close),this.addGameListener(GameEvent.STGAE_RESIZE,this.onResize,this)},i.prototype.setBgSource=function(e,i,n,r){void 0===n&&(n=".jpg"),void 0===r&&(r=null);r=r||this.bg;var o=i.lastIndexOf(".");n=-1!=o?i.substring(o):n,i=-1!=o?i.substring(0,o):i,r instanceof t.ELoader||r instanceof fairygui.GLoader},i.prototype.setTitleSkin=function(t,e){null!=this.titleBar&&this.titleBar.setTitleSkin(t,e)},i.prototype.getViewChild=function(t){return this.view?this.view.getChild(t):null},i.prototype.renderListItem=function(t,e){},Object.defineProperty(i.prototype,"showCloseBtn",{set:function(t){t?(null==this.btn_close&&(this.btn_close=fairygui.UIPackage.createObject("common","btn_close04").asButton,this.adjustCloseBtnPos(),this.needAdjustClose=!0),null==this.btn_close.parent&&this.addChild(this.btn_close),this.addGameListener(egret.TouchEvent.TOUCH_END,this.closeHandler,this.btn_close)):null!=this.btn_close&&null!=this.btn_close.parent&&this.btn_close.parent.removeChild(this.btn_close)},enumerable:!0,configurable:!0}),i.prototype.adjustCloseBtnPos=function(){null!=this.btn_close&&(this.btn_close.x=this.width-this.btn_close.width-15,this.btn_close.y=16)},i.prototype.closeHandler=function(){this.close()},i.prototype.close=function(e){void 0===e&&(e=!0),t.FairyUIManager.closePanel(this,this.canDispose)},Object.defineProperty(i.prototype,"canDispose",{get:function(){return!0},enumerable:!0,configurable:!0}),i.prototype.tapMask=function(t){this.close()},i.prototype.show=function(t){this.visible=!0,this.initData(t),this.showMask()},i.prototype.hide=function(){this.visible&&this.clear(),this.visible=!1,this.hideMask()},Object.defineProperty(i.prototype,"panelType",{get:function(){return EnumPanel.TYPE_WINDOW1},enumerable:!0,configurable:!0}),i.prototype.showMask=function(){if(i.msk&&i.msk.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.tapMask,this),this),this.panelType==EnumPanel.TYPE_ALERT||this.panelType==EnumPanel.TYPE_WINDOW2||this.data&&this.data.hasOwnProperty("showMask")&&this.data.showMask){if(this.data&&this.data.hasOwnProperty("showMask")&&0==this.data.showMask)return void this.hideMask();i.msk||(i.msk=new fairygui.GGraph,i.msk.graphics.clear(),i.msk.graphics.beginFill(0,.8),i.msk.graphics.drawRect(0,0,Global.stageWidth,Global.stageHeight),i.msk.graphics.endFill()),i.msk.touchable=!0,this.openTapMask&&!i.msk.hasEventListener(egret.TouchEvent.TOUCH_TAP)?(null!=this.parent&&null==i.msk.parent&&(this.parent.numChildren>1?this.parent.addChildAt(i.msk,this.parent.numChildren-1):this.parent.addChildAt(i.msk,0)),i.msk.addEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.tapMask,this),this)):i.msk.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.tapMask,this),this)}else this.hideMask()},i.prototype.hideMask=function(){i.msk&&this.openTapMask&&(i.msk.removeFromParent(),i.msk.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.tapMask,this),this))},i.prototype.toClass=function(){var t=egret.getQualifiedClassName(this);return egret.getDefinitionByName(t)},Object.defineProperty(i.prototype,"panelInfo",{get:function(){return this._panelInfo},set:function(t){this._panelInfo=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.bg?this.bg.width:1136},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.bg?this.bg.height:640},enumerable:!0,configurable:!0}),i.prototype.onResize=function(){},i.prototype.clear=function(){this.hideMask(),e.prototype.clear.call(this)},i.prototype.dispose=function(){for(var i,n;this.view&&this.view.numChildren>0;)n=this.view.removeChildAt(0),n.name&&0==n.name.indexOf("tab_")&&n instanceof fairygui.GGroup&&(i=this[n.name]),n.name&&0==n.name.indexOf("eglist_")&&n instanceof fairygui.GList&&(i=this[n.name],null!=i&&(i.dispose(),i=null)),n.name&&0==n.name.indexOf("eloader_")&&n instanceof fairygui.GLoader?(i=this[n.name],null!=i&&(i.dispose(),i=null)):egret.is(n,"fairygui.GLoader")&&t.LoaderManager.disposeTarget(n.url,n),null!=n&&n.dispose(),n=null;this.removeChildren(0,this.numChildren,!0),null!=this.parent&&this.parent.removeChild(this,!0),e.prototype.dispose.call(this),this.hideMask(),this.view=null,this._data=null,this._panelInfo=null},i}(t.View);t.BasePanel=e,__reflect(e.prototype,"fairui.BasePanel")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(t,i){void 0===t&&(t=""),void 0===i&&(i="");var n=e.call(this)||this;return n.view=null,n.isLoaded=!1,n.maskClick=!0,n._pkgName="",n._resName="",n.isDisposeRes=!1,n.isShowComplete=!1,n._pkgName=t,n._resName=i,n.setViewStruct(),n}return __extends(i,e),i.prototype.setViewStruct=function(){if(null==this.viewStruct){this.viewStruct=new ViewStruct;egret.getQualifiedClassName(this);"common"==this._pkgName||"main"==this._pkgName||"scene"==this._pkgName||this.viewStruct.isAlert?this.isDisposeRes=!1:this.isDisposeRes=this.viewStruct.isFirst}},i.prototype.init=function(t,e){void 0===e&&(e=null),this.maskClick=!0,this.param=t,this._cfgParam=e,this.loadAtlas(e)},i.prototype.initUI=function(){e.prototype.initUI.call(this)},Object.defineProperty(i.prototype,"layerType",{get:function(){return this.viewStruct?this.viewStruct.layerType:0},enumerable:!0,configurable:!0}),i.prototype.loadAtlas=function(e){this._cfgParam=e,this._pkgName?t.LoaderManager.loadGroups(this._pkgName,this.loadAtlasComplete,this):(this.isLoaded=!0,this.initComplete())},i.prototype.loadAtlasComplete=function(){var t=this;t.isLoaded=!0,t.registerClasses(),Global.timer.doFrameOnce(1,flash.bind(t.initComplete,t))},i.prototype.registerClasses=function(){},i.prototype.initComplete=function(){if(!this.isInited())return!1;if(null==this.view&&(this._pkgName&&!fairygui.UIPackage.getById(this._pkgName)&&fairygui.UIPackage.addPackage(this._pkgName),this._pkgName&&this._resName)){var i=fairygui.UIPackage.createObject(this._pkgName,this._resName);this.view=i.asCom,this._buttonController=this.view.getController("button"),this.addChild(this.view),t.FairyUtils.setVar(this.view,this)}return e.prototype.initComplete.call(this)?(this.onResize(),this.viewStruct.isShowEffect?this.playOpenEffect():this.playEffectComplete(),!0):!1},i.prototype.isInited=function(){return e.prototype.isInited.call(this)&&this.isLoaded},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.btn_close&&this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.closeHandler,this,this.btn_close)},i.prototype.removeAllListener=function(){e.prototype.removeAllListener.call(this)},i.prototype.playOpenEffect=function(){this.touchChildren=!1,EffectUtil.openWindowEffect(this,this.playEffectComplete,this,null,!0)},i.prototype.playEffectComplete=function(){this.isShowComplete=!0,this.touchChildren=!0},i.prototype.close=function(){this.closeHandler(null)},i.prototype.closeHandler=function(t){UISystem.Inst.removeWindowClass(this.getCls())},i.prototype.playCloseEffect=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),this.touchChildren=!1,EffectUtil.closeWindowEffect(this,t,i||this,e,!0)},Object.defineProperty(i.prototype,"isPlayWindowEffect",{get:function(){return this.isWindowEffect},enumerable:!0,configurable:!0}),i.prototype.onResize=function(){UILayout.setWindowLayout(this)},i.prototype.getViewStruct=function(){return this.viewStruct},Object.defineProperty(i.prototype,"panelId",{get:function(){return this.viewStruct.panelId},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isQueue",{get:function(){return this.viewStruct&&this.viewStruct.isQueue},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isShowMask",{get:function(){return this.viewStruct&&this.viewStruct.isShowMask},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isNotDo",{get:function(){return this.viewStruct&&this.viewStruct.isNotDo},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isFirst",{get:function(){return this.viewStruct&&this.viewStruct.isFirst},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isTwo",{get:function(){return this.viewStruct&&this.viewStruct.isTwo},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"canDispose",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mutexViews",{get:function(){var t=[];if(null==this.viewStruct.window||!this.viewStruct.window.mutex_views)return[];t=this.viewStruct.window.mutex_views.split(",");for(var e=0;e<t.length;e++)t[e]=parseFloat(t[e]);return t},enumerable:!0,configurable:!0}),i.prototype.toTop=function(){null!=this.parent&&this.parent.setChildIndex(this,this.parent.numChildren-1)},i.prototype.setSize=function(t,e){this.view&&this.view.setSize(t,e),this.viewStruct&&(this.viewStruct.window.width=t,this.viewStruct.window.height=e)},Object.defineProperty(i.prototype,"width",{get:function(){return this.view?this.view.width:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.view?this.view.height:0},enumerable:!0,configurable:!0}),i.prototype.clear=function(){e.prototype.clear.call(this),this.isShowComplete=!1},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.viewStruct=null,this.isLoaded=!1,this._cfgParam=null,this.param=null,this.view&&this.view.dispose(),this.view=null},i}(t.View);t.UIBaseWindow=e,__reflect(e.prototype,"fairui.UIBaseWindow")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._data=null,t._custom_downEffect=2,t}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t)},i.prototype.setup_afterAdd=function(t,i){e.prototype.setup_afterAdd.call(this,t,i)},i.prototype.setState=function(t){e.prototype.setState.call(this,t)},Object.defineProperty(i.prototype,"label",{get:function(){return this.text},set:function(t){this.text=t},enumerable:!0,configurable:!0}),i.prototype.setLabel=function(t){this.text=Global.lang.getLang(t)},i.prototype.setScale=function(t,i){2==this._custom_downEffect&&e.prototype.setScale.call(this,t,i)},Object.defineProperty(i.prototype,"downScaled",{get:function(){return 2==this._custom_downEffect},set:function(t){this._custom_downEffect=t?2:0},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buttonType",{get:function(){return this._buttonType},set:function(e){if(e){var n="";switch(this._buttonType){case i.BUTTON_NORMAL_RED:n=t.FairyTextureUtils.getUrl("common","common_anniu002");break;case i.BUTTON_NORMAL_YELLOW:n=t.FairyTextureUtils.getUrl("common","common_anniu005");break;case i.BUTTON_NORMAL_GREEN:n=t.FairyTextureUtils.getUrl("common","common_anniu001");break;case i.BUTTON_NORMAL_GOLDEN:n=t.FairyTextureUtils.getUrl("common","common_anniu006");break;case i.BUTTON_NORMAL_BLUE:n=t.FairyTextureUtils.getUrl("common","common_anniu003");break;case i.BUTTON_TINNY_RED:n=t.FairyTextureUtils.getUrl("common","common_anniu02");break;case i.BUTTON_TINNY_YELLOW:n=t.FairyTextureUtils.getUrl("common","common_anniu05");break;case i.BUTTON_TINNY_GREEN:n=t.FairyTextureUtils.getUrl("common","common_anniu01");break;case i.BUTTON_TINNY_GOLDEN:n=t.FairyTextureUtils.getUrl("common","common_anniu06");break;case i.BUTTON_TINNY_BLUE:n=t.FairyTextureUtils.getUrl("common","common_anniu03")}n&&(this.icon=this.selectedIcon=n)}},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){e.prototype.dispose.call(this)},i.BUTTON_NORMAL_GREEN="button.normal.green",i.BUTTON_NORMAL_RED="button.normal.red",i.BUTTON_NORMAL_YELLOW="button.normal.yellow",i.BUTTON_NORMAL_BLUE="button.normal.blue",i.BUTTON_NORMAL_GOLDEN="button.normal.golden",i.BUTTON_TINNY_GREEN="button.tinny.green",i.BUTTON_TINNY_RED="button.tinny.red",i.BUTTON_TINNY_YELLOW="button.tinny.yellow",i.BUTTON_TINNY_BLUE="button.tinny.blue",i.BUTTON_TINNY_GOLDEN="button.tinny.golden",i}(t.BaseButton);t.EButton=e,__reflect(e.prototype,"fairui.EButton")}(fairui||(fairui={}));var base;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._isDispose=!1,t._aniDirType=0,t._dir=-1,t._isChangeDir=!1,t._partVisible=!0,t._partAlpha=1,t._isPlaying=!1,t._isChangeAction=!1,t._isLoop=!1,t._isChangeUpdatePartDepth=!1,t._endFrame=-1,t._currentFrame=0,t._currentActionPasstime=0,t._frameCount=-1,t._fiveDir=-1,t._speed=1,t.init(),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"partHash",{get:function(){return this._partHash},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDispose",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"aniDirType",{get:function(){return this._aniDirType},set:function(t){this._aniDirType=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dir",{get:function(){return this._dir},set:function(t){this._dir!=t&&(this._dir=t,this._isChangeDir=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"partVisible",{get:function(){return this._partVisible},set:function(t){t!=this._partVisible&&(this._partVisible=t,this._partHash.forEach(function(e,i){i.visible=t},this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"partAlpha",{get:function(){return this._partAlpha},set:function(t){t!=this._partAlpha&&(this._partAlpha=t,this._partHash.forEach(function(e,i){i.alpha=t},this))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isLoop",{get:function(){return this._isLoop},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"playEndHanlder",{get:function(){return this._playEndHanlder},set:function(t){this._playEndHanlder=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed!=t&&(this._speed=.1>=t?.1:t)},enumerable:!0,configurable:!0}),i.prototype.onAddToStage=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)},i.prototype.init=function(){this.touchEnabled=!1,this.touchChildren=!1,this._partHash=new flash.Dictionary},i.prototype.addPart=function(t){var e=this._partHash.getItem(t);return null==e&&(e=this.makePart(t),this._partHash.setItem(t,e),e.addParent(this),this._isChangeUpdatePartDepth=!0),e},i.prototype.makePart=function(e){return new t.AvatarPart(e)},i.prototype.removePart=function(t){var e=this._partHash.getItem(t);e&&(e.dispose(),this._partHash.delItem(t))},i.prototype.getPart=function(t){return this._partHash.getItem(t)},i.prototype.scaleXY=function(t,e){this._isDispose||this._partHash.forEach(function(e,i){i.scaleX=t,i.scaleY=t},this)},i.prototype.checkHitPoint=function(t){void 0===t&&(t=-1);var e=!1;return-1==t?this._partHash.forEach(function(t,i){return i.checkContainPoint()?void(e=!0):void 0},this):this.getPart(t)&&(e=this.getPart(t).checkContainPoint()),e},i.prototype.play=function(){this._isPlaying=!0,this._endFrame=-1},i.prototype.playEnd=function(){null!=this._playEndHanlder&&this._playEndHanlder.apply(this._playEndHanlder.owner)},i.prototype.stop=function(){this._isPlaying=!1},i.prototype.gotoAndStop=function(t,e){void 0===e&&(e=0),this._isLoop=!1,this._currentFrame=e,this.play(),this._endFrame=t},i.prototype.gotoAndPlay=function(t,e){void 0===e&&(e=!1),this._isLoop=e,this._currentFrame=t,this.play()},i.prototype.changeAction=function(t,e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===n&&(n=0),this._isLoop=e,this.setAction(t,i,n)},i.prototype.setAction=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),(this._action!=t||e)&&(this._action=t,this._currentFrame=i,this._currentActionPasstime=0,this._isChangeAction=!0)},i.prototype.addvanceTime=function(t){if(this._isPlaying&&!this.isDispose){this._currentActionPasstime+=t,this.changeAnimator();var e=this.getPart(EnumAvatarPart.BODY);null!=e&&null!=e.animator&&(this._frameCount!=e.aniLength&&(this._frameCount=e.aniLength,this._currentFrame>=this._frameCount&&(this._currentFrame=0)),-1==this._currentFrame?(this._currentFrame=this._frameCount-1,this.setCurrentFrame(),this.playEnd()):this.update())}},i.prototype.changeAnimator=function(){if(this._isChangeDir||this._isChangeAction)if(this._aniDirType==EnumAvatarPart.EIGHT_DIR)this._partHash.forEach(function(t,e){e.changeAnimator(this._action,this._dir)&&this.setupPartAnimator(e)},this),this.changePartDepth();else if(this._aniDirType==EnumAvatarPart.FIVE_DIR){var t=EnumAvatarPart.getFiveDir(this,this.dir);t!=this._fiveDir||this._isChangeAction?(this._fiveDir=t,this._partHash.forEach(function(t,e){e.changeAnimator(this._action,this._fiveDir)&&this.setupPartAnimator(e)},this),this.changePartDepth()):this._isChangeAction&&this.changePartDepth()}this._isChangeUpdatePartDepth&&this.changePartDepth(),this._isChangeAction=!1,this._isChangeDir=!1},i.prototype.setCurrentFrame=function(){this._partHash.forEach(function(t,e){e.currentIndex=this._currentFrame,this._isChangeUpdatePartDepth=!0},this)},i.prototype.update=function(){var t=this.getPart(EnumAvatarPart.BODY).animator;if(null!=t&&!t.isDispose){var e=Math.floor(t.totalMovieTime*this.speed),i=(this._currentActionPasstime,Math.floor(this._currentActionPasstime/e));this._currentActionPasstime=this._currentActionPasstime%e;for(var n=this._currentFrame,r=t.getImage(n);r&&this._currentActionPasstime>=r.delayTime*this.speed;)this._currentActionPasstime-=r.delayTime*this.speed,n++,n>=this._frameCount-1&&i++,n>=this._frameCount&&(n=0),r=t.getImage(n);if((n!=this._currentFrame||i>0)&&(this._currentFrame=n,this.setCurrentFrame(),this._endFrame==this._currentFrame&&this.stop(),i>0))for(i=this._isLoop?i:1;i>0;)this.playEnd(),i--}},i.prototype.changePartDepth=function(){},i.prototype.setupPartAnimator=function(t){var e=AssetPathManager.getInstance().getFightRoleRes(t.path,this.action,this._fiveDir),i=App.asset.getResAsset(e);return i?(this.showWaitAvatar(!1),t.deleteAnimator(),t.addAnimatior(i),!0):(this.showWaitAvatar(!0),t.deleteAnimator(),this.getAnimationNetPath(e,t.partType),!1)},i.prototype.getAnimationNetPath=function(t,e){com.loader.GLoaderManager.getInstance().load(t,EnumLoader.RES,this,this.resLoadComleteHandler,null,null,[e,this.action,this.dir],!1)},i.prototype.resLoadComleteHandler=function(t){if(this.action==t.argArray[1]&&this.dir==t.argArray[2]){var e=this.getPart(t.argArray[0]);e.addAnimatior(t.data),this.showWaitAvatar(!1)}},i.prototype.makeWaitAvatar=function(){this._waitAvatar||(this._waitAvatar=new t.GBitmap)},i.prototype.showWaitAvatar=function(t){this._waitAvatar&&this.contains(this._waitAvatar)&&(this._waitAvatar.visible=t)},i.prototype.removeWaitAvatar=function(){this._waitAvatar&&this.contains(this._waitAvatar)&&this.removeChild(this._waitAvatar)},i.prototype.clear=function(){this._waitAvatar&&(this._waitAvatar.texture=null),this._partHash.forEach(function(t,e){e.clearActionAndDir()},this),this.scaleX=1,this._action=null,this._fiveDir=-1,this._dir=-1,this._isChangeAction=!1,this._isChangeUpdatePartDepth=!1,this._isChangeDir=!1,this._speed=1,this._frameCount=-1,this._currentFrame=0,this._currentActionPasstime=0,this._isLoop=!1,this.alpha=1},i.prototype.dispose=function(t){e.prototype.dispose.call(this,t),this.stop(),this.clear(),t&&(this._partHash.forEach(function(t,e){e.dispose()},this),this._partHash=null)},i}(t.GSprite);t.Avatar=e,__reflect(e.prototype,"base.Avatar")}(base||(base={}));var base;!function(t){var e=function(){function e(){this._aniLength=-1,this._scaleX=1,this._scaleY=1,this._x=0,this._y=0,this._alpha=1,this._visible=!0,this._currentIndex=0,this.init()}return Object.defineProperty(e.prototype,"animator",{get:function(){return this._ani},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._bitmap=this.makeBitmap()},e.prototype.makeBitmap=function(){return new t.GBitmap},e.prototype.setTo=function(t,e){this._x=t,this._y=e},e.prototype.seToPoint=function(t){this.setTo(t.x,t.y)},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this._scaleX},set:function(t){this._scaleX!=t&&(this._scaleX=t,this.view.scaleX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this._scaleY},set:function(t){this._scaleY!=t&&(this._scaleY=t,this.view.scaleY=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!=t&&(this._visible=t,this.view&&(this.view.visible=t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t,this.view&&(this.view.alpha=t))},enumerable:!0,configurable:!0}),e.prototype.deleteAnimator=function(){this._bitmap&&(this._bitmap.texture=null),this._ani&&(this._ani=null),this._aniLength=0,this._currentIndex=0},Object.defineProperty(e.prototype,"aniLength",{get:function(){return this._aniLength},enumerable:!0,configurable:!0}),e.prototype.addAnimatior=function(t){null==t?this.deleteAnimator():(this._ani=t,this._aniLength=this._ani.length,this._bitmap.blendMode=this._ani.blendMode,this._currentIndex=0,this.updateViewBmd())},Object.defineProperty(e.prototype,"view",{get:function(){return this._bitmap},enumerable:!0,configurable:!0}),e.prototype.restart=function(){this._currentIndex=0},e.prototype.updateViewBmd=function(){if(this._ani&&0==this._ani.isDispose){var t=this._ani.getImage(this._currentIndex);t&&t.bitmapData?(this._bitmap.texture=t.bitmapData,this._bitmap.x=t.offsetX*this._scaleX+this._x,this._bitmap.y=t.offsetY*this._scaleY+this._y-152):this._bitmap.texture=null}else this._bitmap.texture=null},Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){t=Math.floor(t),this._currentIndex!=t&&(this._currentIndex=t,this.updateViewBmd())},enumerable:!0,configurable:!0}),e.prototype.addParent=function(t){this._parent!=t&&(this._parent=t,this._parent.addChild(this.view))},e.prototype.addParentAt=function(t,e){this._parent!=t&&(this._parent=t,this._parent.addChildAt(this.view,e))},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.removeParent=function(){this.view&&this.view.parent&&this.view.parent.removeChild(this.view),this._parent=null},e.prototype.resetAndClear=function(t){t&&this.removeParent(),this.deleteAnimator(),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.visible=!0,this._bitmap.x=0,this._bitmap.y=0,this._currentIndex=0},e.prototype.dispose=function(t){this.resetAndClear(t)},e}();t.FramePlayer=e,__reflect(e.prototype,"base.FramePlayer")}(base||(base={}));var base;!function(t){var e=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e}(egret.Bitmap);t.GBitmap=e,__reflect(e.prototype,"base.GBitmap")}(base||(base={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.parser=function(t,e,i){var n=this.getAnimator();return n.findFromCache(JSON.parse(t.json),t.res),n.isCache=i,n.url=e,App.asset.setResAsset(e,n),n},t.prototype.getAnimator=function(){return new base.AysncAnimator},t}();t.AvatarResDecode2=e,__reflect(e.prototype,"com.loader.AvatarResDecode2")}(e=t.loader||(t.loader={}))}(com||(com={}));var flash;!function(t){var e=function(){function e(e,i){void 0===i&&(i=!0),this._pool=[],this._poolDict=null,this._numCount=0,this._checkDuplicate=!0,this._cls=e,this._checkDuplicate=i,this._checkDuplicate&&(this._poolDict=new t.Dictionary)}return Object.defineProperty(e.prototype,"numCount",{get:function(){return this._numCount},enumerable:!0,configurable:!0}),e.prototype.getObject=function(){var t;return this._pool.length>0?(t=this._pool.pop(),this._checkDuplicate&&this._poolDict.delItem(t)):(t=new this._cls,this._numCount++),t},e.prototype.push=function(t){this._checkDuplicate?null==this._poolDict.getItem(t)?(this._pool.push(t),this._poolDict.setItem(t,t)):egret.error("有重复的对象入池",t.toString()):this._pool.push(t)},e.prototype.pushArr=function(t){for(var e in t){var i=t[e];this.push(i)}},e}();t.ObjectPool=e,__reflect(e.prototype,"flash.ObjectPool")}(flash||(flash={}));var com;!function(t){var e;!function(t){var e;!function(t){var e;!function(t){var e=function(){function t(){this._q_id=0,this._q_name="",this._q_type=0,this._q_type_show=0,this._q_star=0,this._q_gift=0,this._q_tiny_icon="",this._q_default=0,this._q_max=0,this._q_buff="",this._q_describe="",this._q_extend="",this._q_log=0,this._q_add_value=0,this._q_vip=0,this._q_output_notice=0}return Object.defineProperty(t.prototype,"q_id",{get:function(){return this._q_id},set:function(t){this._q_id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_name",{get:function(){return this._q_name},set:function(t){this._q_name=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_type",{get:function(){return this._q_type},set:function(t){this._q_type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_type_show",{get:function(){return this._q_type_show},set:function(t){this._q_type_show=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_star",{get:function(){return this._q_star},set:function(t){this._q_star=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_gift",{get:function(){return this._q_gift},set:function(t){this._q_gift=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_tiny_icon",{get:function(){return this._q_tiny_icon},set:function(t){this._q_tiny_icon=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_default",{get:function(){return this._q_default},set:function(t){this._q_default=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_max",{get:function(){return this._q_max},set:function(t){this._q_max=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_buff",{get:function(){return this._q_buff},set:function(t){this._q_buff=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_describe",{get:function(){return this._q_describe},set:function(t){this._q_describe=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_extend",{get:function(){return this._q_extend},set:function(t){this._q_extend=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_log",{get:function(){return this._q_log},set:function(t){this._q_log=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_add_value",{get:function(){return this._q_add_value},set:function(t){this._q_add_value=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_vip",{get:function(){return this._q_vip},set:function(t){this._q_vip=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"q_output_notice",{get:function(){return this._q_output_notice},set:function(t){this._q_output_notice=t},enumerable:!0,configurable:!0}),t.MSG_VER_STR="2018-5-31 22:01:44",t.MSG_VER_NUM=1527775304,t.MSG_VER_CHECK_VALUE="3d8553147de72c03f4c1e06c938c459b",t}();t.Q_itemBean=e,__reflect(e.prototype,"com.game.data.bean.Q_itemBean")}(e=t.bean||(t.bean={}))}(e=t.data||(t.data={}))}(e=t.game||(t.game={}))}(com||(com={}));var fairui;!function(t){var e=base.Animator,i=function(i){function n(){var t=i.call(this)||this;return t._url="NetEffect",t._isLoading=!1,t._resourceID=0,t}return __extends(n,i),Object.defineProperty(n.prototype,"extendData",{get:function(){return this._extendData},set:function(t){this._extendData=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resourceID",{get:function(){return this._resourceID},set:function(t){this._resourceID=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ownerid",{get:function(){return this._ownerid},set:function(t){this._ownerid=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"url",{get:function(){return this._url},set:function(t){this._url!=t&&(this.clear(),this._url=null==t?"NetEffect":t,t&&""!=t&&flash.As3is(t,"string")&&this.netLoad())
},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"resType",{get:function(){return EnumLoader.RES},enumerable:!0,configurable:!0}),n.prototype.clear=function(){this.unNetLoad()},Object.defineProperty(n.prototype,"data",{get:function(){return this._vo},set:function(t){this._vo=t},enumerable:!0,configurable:!0}),n.prototype.netLoad=function(){0==this._isLoading&&("NetEffect"!=this._url&&null!=this._url?(this._isLoading=!0,t.NetResourceManager.getInstance().getResource(this)):Global.log.error("加载路径有问题"))},n.prototype.unNetLoad=function(){this._isLoading=!1,t.NetResourceManager.getInstance().delResource(this)},Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),n.prototype.netComplete=function(t){t instanceof e&&(this._isLoading=!1,this.addAnimatior(t))},n.prototype.netProgress=function(t){this._netHandler&&this._netHandler.netProgress()},n.prototype.netError=function(t){this._netHandler&&this._netHandler.netError()},Object.defineProperty(n.prototype,"netHandler",{get:function(){return null==this._netHandler&&(this._netHandler=new t.NetHandler),this._netHandler},enumerable:!0,configurable:!0}),n.prototype.resetAndClear=function(){this._vo=null,this._netHandler&&this._netHandler.clear(),this.clear(),this._url="NetEffect",i.prototype.resetAndClear.call(this)},n.prototype.dispose=function(){this._vo=null,this.clear(),this._netHandler&&(com.loader.GLoaderManager.getInstance().unLoad(this._url,this,this._netHandler.netComplete),this._netHandler.dispose()),this._netHandler=null,i.prototype.dispose.call(this)},n}(t.Effect);t.NetEffect=i,__reflect(i.prototype,"fairui.NetEffect",["com.interfaces.INetResourceElement","IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=fairygui.GGroup,i=fairygui.GList,n=fairygui.GLoader,r=function(){function r(){}return r.setVar=function(r,o){if(null!=r&&null!=o){for(var s=void 0,a=0;a<r.numChildren;a++)s=r.getChildAt(a),"icon"!=s.name&&"title"!=s.name&&(s.name&&0==s.name.indexOf("tab_")&&s instanceof e?(o[s.name]=new t.ETab(s,o),o instanceof t.BaseSprite&&o.addComponent(o[s.name])):s.name&&0==s.name.indexOf("eglist_")&&s instanceof i?(o[s.name]=new t.EGList(s,o),o instanceof t.BaseSprite&&o.addComponent(o[s.name])):s.name&&0==s.name.indexOf("eloader_")&&s instanceof n?(o[s.name]=new t.ELoader(s),o instanceof t.BaseSprite&&o.addComponent(o[s.name])):o[s.name]=s);for(var a=0;a<r._transitions.length;a++){var l=void 0;l=r._transitions[a],o[l.name]=l}}},r}();t.FairyUtils=r,__reflect(r.prototype,"fairui.FairyUtils")}(fairui||(fairui={}));var LoginEvent=function(){function t(){}return t.SHOW_CREATE_PLAYER="show_create_player",t.REMOVE_CREATE_PLAYER="remove_create_player",t.SHOW_SELECT_PLAYER="show_select_player",t.REMOVE_SELECT_PLAYER="remove_select_player",t.SHOW_PRE_LOADER="show_pre_loader",t.LOGIN_ERROR="login_error",t.ROLE_LOGIN_TO_SECNE="RoleLoginToSecne",t.SHOW_INIT_GAME_PROGRESS="show_init_game_progress",t.PRELOAD_CLIENT="preload_client",t.SHOW_GAME_LOADDING="LoginEvent.SHOW_GAME_LOADDING",t.HIDE_GAME_LOADDING="LoginEvent.HIDE_GAME_LOADDING",t.SHOW_RANDOM_NAME="LoginEvent.SHOW_RANDOM_NAME",t.LOAD_SERVERLIST_COMPLETE="LoginEvent.LOAD_SERVERLIST_COMPLETE",t.Load_Refresh_Guide="LoginEvent.Load_Refresh_Guide",t}();__reflect(LoginEvent.prototype,"LoginEvent");var Main=function(t){function e(){var e=t.call(this)||this;return e.gameClient=null,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){Global.initStage(this.stage),egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadResource()];case 1:return t.sent(),this.createGameScene(),[2]}})})},e.prototype.createGameScene=function(){this.gameClient=new GameClient,this.addChild(this.gameClient)},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var DataManager=function(){function t(){}return t}();__reflect(DataManager.prototype,"DataManager");var EventManager=function(){function t(){}return t.dispatchEvent=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=t._eventDict.getItem(e);if(r){var o=r.concat(),s=o.length;if(s>0)for(var a=0;s>a;a++)try{egret.log("EventManager 调度事件: "+e),o[a][0].apply(o[a][1],i)}catch(l){egret.error("调度事件出错.",l)}}},t.addEventListener=function(e,i,n,r){void 0===r&&(r=null);var o=null;if(null==r)o=t._eventDict.getItem(e),o||(o=new Array,t._eventDict.setItem(e,o)),t.hasEventListener(e,i,n)||o.push([i,n]);else if(o=t.getListenerList(r),!t.hasListenerOf(e,i,r)){var s=new Object;s.type=e,s.listener=i,s.thisObject=n,o=o||[],o.push(s),r.addEventListener(e,i,n)}},t.removeEventListener=function(e,i,n,r){void 0===r&&(r=null);var o=null;if(null==r){if(o=t._eventDict.getItem(e))for(var s=o.length,a=0;s>a;a++)if(o[a][0]==i&&o[a][1]==n){o.splice(a,1),0==o.length&&(t._eventDict.setItem(e,null),t._eventDict.delItem(e));break}}else{o=t.getListenerList(r);null!=o&&o.forEach(function(t){return t.type==e&&t.listener==i?void o.splice(o.indexOf(t),1):void 0}),r.removeEventListener(e,i,n)}},t.getListenerList=function(e){var i=null;return e&&(i=t._targetMap.getItem(e),null==i&&(i=[],t._targetMap.setItem(e,i))),i},t.removeAllListeners=function(e){if(void 0===e&&(e=null),null==e)t.removeAllEventListener();else for(var i,n=t.getListenerList(e);n&&n.length>0;)i=n.shift(),i&&this.removeEventListener(i.type,i.listener,i.thisObject)},t.removeAllEventListener=function(){for(var e in t._eventDict.map){var i=t._eventDict.map[e][0];t.removeEventListeners(i)}},t.removeEventListeners=function(e){void 0===e&&(e=null),null!=e?null!=t._eventDict.getItem(e)&&(t._eventDict.setItem(e,null),t._eventDict.delItem(e)):t.removeAllEventListener()},t.hasListenerOf=function(e,i,n,r){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),null!=n)return t.hasEventListener(e,i,r);for(var o,s=t._targetMap.getItem(n),a=0,l=s;a<l.length;a++)if(o=l[a],o&&o.type==e&&(o.listener==i||null==i))return!0;return!1},t.hasEventListener=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var r=!1,o=t._eventDict.getItem(e);return o&&0!=o.length?null==i?r=!0:o.forEach(function(t){return t[0]==i&&t[1]==n?r=!0:void 0}):r=!1,r},t._eventDict=new flash.Dictionary,t._targetMap=new flash.Dictionary,t}();__reflect(EventManager.prototype,"EventManager");var LangManager=function(){function t(){this.data=new Object}return t.prototype.getLang=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.data[t]||t;if(e.length>0)for(var r=0,o=e.length;o>r;r++)n=n.replace("{"+r+"}",e[r]);return n},t.prototype.getLangBy=function(t,e){var i=this.data[t]||t;if(e.length>0)for(var n=0,r=e.length;r>n;n++)i=i.replace("{"+n+"}",e[n]);return i},t}();__reflect(LangManager.prototype,"LangManager");var LogManager=function(){function t(){this.isShowLogType=!1}return t.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.getClassName(t);e.unshift("[console.log]["+n+"] "),console.log.apply(t,e)},t.prototype.debug=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(this.isShowLogType||Global.isDebug){var n=this.getClassName(t);e.unshift("[debug]["+n+"] "),egret.log.apply(null,e)}},t.prototype.error=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];try{var n=this.getClassName(t);e.unshift("[error]["+n+"] "),egret.error.apply(null,e);var r="Error Start.\n";if(e instanceof Array)for(var o in e)r+="object"==typeof e[o]&&e[o].stack?"Error Stack:"+e[o].stack+"\n":"Error TXT:"+e[o]+"\n";else r=e;!Global.isDebug}catch(s){var a="LogManager.error() Error："+s.toString();alert(a),egret.error(a)}},t.prototype.warn=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(Global.isDebug){var n=this.getClassName(t);e.unshift("[warn]["+n+"] "),egret.warn.apply(null,e)}},t.prototype.getClassName=function(t){if(null==t)return"";if("string"==typeof t)return String(t);var e=egret.getQualifiedClassName(t).split("::");return e[e.length-1]},t}();__reflect(LogManager.prototype,"LogManager");var SoundManager=function(){function t(){}return t.getInstance=function(){return this._instance=this._instance||new t},t._instance=null,t}();__reflect(SoundManager.prototype,"SoundManager");var base;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dispose=function(t){},e}(egret.URLLoader);t.GLoader=e,__reflect(e.prototype,"base.GLoader")}(base||(base={}));var com;!function(t){var e;!function(e){var i=t.loader.AvatarResDecode2,n=function(){function t(){return this._loadType=!1,this._isCache=!1,this._httpStatus="",t.instance?void egret.error("GLoaderManager an only use getInstance() to get an instance!"):(this._loadMap=new flash.Dictionary,void(this._resDecode=new i))}return t.prototype.load=function(t,i,n,r,o,s,a,l){void 0===l&&(l=!1);var h=new e.LoaderData;h.url=t,h.type=i,h.complete=r,h.progress=o,h.error=s,h.isCache=l,h.thisObject=n,h.argArray=a;var u;if(App.asset&&(u=App.asset.getTypeAsset(i,t)),u&&r)return h.data=u,r.apply(n,[h]),void h.dispose();var c=this._loadMap.getItem(t);if(c){for(var p in c)if(c[p].thisObject==n&&c[p].complete==r)return;c.push(h)}else this._loadMap.setItem(t,[h]);this.starLoad()},t.prototype.starLoad=function(){if(!this._loadType){this._loadType=!0;var t=void 0,e=void 0;for(var i in this._loadMap.map)return e=this._loadMap.getItem(i),t=e[0],void this.doLoad(t.type,t.url,t.isCache);this._loadType=!1}},t.prototype.doLoad=function(t,e,i){this._type=t,this._url=e,this._isCache=i,this._urlLoader||(this._urlLoader=new base.GLoader,this._urlLoader.addEventListener(egret.Event.COMPLETE,this.onComplete,this),this._urlLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this)),this._urlLoader.data=null;var n;switch(this._type){case EnumLoader.BYTE:this._urlLoader.dataFormat=egret.URLLoaderDataFormat.BINARY;break;case EnumLoader.RES:return this._urlLoader.dataFormat=egret.URLLoaderDataFormat.TEXTURE,this._jsonLoader||(this._jsonLoader=new base.GLoader,this._jsonLoader.addEventListener(egret.Event.COMPLETE,this.onJsonComplete,this),this._jsonLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this)),this._jsonLoader.data=null,this._jsonLoader.dataFormat=egret.URLLoaderDataFormat.TEXT,this._jsonLoader.load(new egret.URLRequest(AssetPathManager.getInstance().getVersionUrl(this._url+AssetPathManager.JSON_SFX))),n=new egret.URLRequest(AssetPathManager.getInstance().getVersionUrl(this._url+AssetPathManager.PNG_SFX)),void this._urlLoader.load(n);case EnumLoader.IMG:this._urlLoader.dataFormat=egret.URLLoaderDataFormat.TEXTURE;break;case EnumLoader.TXT:this._urlLoader.dataFormat=egret.URLLoaderDataFormat.TEXT}n=new egret.URLRequest(this._url),this._urlLoader.load(n)},t.prototype.onComplete=function(t){var e=this._urlLoader.data,i=this._loadMap.getItem(this._url);if(i&&i.length>0){var n=void 0;switch(this._type){case EnumLoader.BYTE:n=new egret.ByteArray(e),this._isCache&&App.asset.setByteAsset(this._url,n),this.loadDataCompleteHandler(n);break;case EnumLoader.RES:i[0].data?(i[0].data.res=e,i[0].data.hasOwnProperty("json")&&this.loadDataCompleteHandler(this._resDecode.parser(i[0].data,this._url,this._isCache))):i[0].data={res:e};break;case EnumLoader.IMG:this._isCache&&App.asset&&App.asset.setImgAsset(this._url,e),this.loadDataCompleteHandler(e);break;case EnumLoader.TXT:this._isCache&&App.asset.setTxtAsset(this._url,e),this.loadDataCompleteHandler(e)}}},t.prototype.onJsonComplete=function(t){var e=this._jsonLoader.data,i=this._loadMap.getItem(this._url);i&&i.length>0?i[0].data?(i[0].data.json=e,i[0].data.hasOwnProperty("res")&&this.loadDataCompleteHandler(this._resDecode.parser(i[0].data,this._url,this._isCache))):i[0].data={json:e}:this.loadDataCompleteHandler(null)},t.prototype.loadDataCompleteHandler=function(t){var e,i=this._loadMap.getItem(this._url);if(this._loadMap.delItem(this._url),i)for(var n in i)e=i[n],e.complete&&(e.data=t,e.complete.apply(e.thisObject,[e])),e.dispose();this._loadType=!1,egret.callLater(this.starLoad,this)},t.prototype.onLoadError=function(t){egret.warn("GLoaderManager.onLoadError："+this._url,"httpStatus",this._httpStatus,t);var e,i=this._loadMap.getItem(this._url);if(this._loadMap.delItem(this._url),i){if(this._type==EnumLoader.RES&&!i[0].data)return;for(var n in i)e=i[n],e.error&&e.error.apply(e.thisObject,[e]),e.dispose()}this._loadType=!1,egret.callLater(this.starLoad,this)},t.prototype.onProgress=function(t){var e=this._loadMap.getItem(this._url);if(e&&e.length>0)for(var i in e)e[i].progress&&e[i].progress.apply(e[i].thisObject,[t])},t.prototype.unLoad=function(t,e,i){var n,r=this._loadMap.getItem(t);if(r){for(var o in r)if(n=r[o],n.thisObject==e&&n.complete==i){n.dispose(),r.slice(parseInt(o),1);break}0==r.length&&this._loadMap.delItem(t)}},t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.instance=null,t}();e.GLoaderManager=n,__reflect(n.prototype,"com.loader.GLoaderManager")}(e=t.loader||(t.loader={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){this._isDispose=!1,this._isCache=!1}return Object.defineProperty(t.prototype,"ani",{get:function(){return this._ani},enumerable:!0,configurable:!0}),t.prototype.parser=function(t,e,i,n,r){egret.callLater(function(t,e,i,n,r){var o=this;try{if(this._isDispose=!1,this._onFinish=i,this._onFail=n,this._isCache=r,t){var s=new JSZip(t.buffer),a=e.split("/"),l=a[a.length-1].split(".")[0],h=s.file(l+".json").asText(),u=s.file(l+".png").asArrayBuffer();egret.BitmapData.create("arraybuffer",u,function(t){if(!o.isDispose){var e=new egret.Texture;e.bitmapData=t;var i=JSON.parse(h);o._ani=o.getAnimator(),o._ani.findFromCache(i,e),o._ani.isCache=o._isCache,o.onComplete()}})}else this.onError()}catch(c){egret.error("AvatarResDecode.parser:",c),this.onError()}},this,t,e,i,n,r)},t.prototype.onError=function(){this._onFail&&this._onFail.apply(this._onFail.owner),this.dispose()},t.prototype.onComplete=function(){this._onFinish&&this._onFinish.apply(this._onFinish.owner,[this.ani]),this.dispose()},t.prototype.getAnimator=function(){return new base.AysncAnimator},Object.defineProperty(t.prototype,"isDispose",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDispose=!0,this._onFinish=null,this._onFail=null,this._ani=null},t}();t.AvatarResDecode=e,__reflect(e.prototype,"com.loader.AvatarResDecode")}(e=t.loader||(t.loader={}))}(com||(com={}));var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.dispose=function(t){var e=this;e.type=null,e.url=null,e.complete=null,e.progress=null,e.error=null,e.isCache=null,e.thisObject=null,e.argArray=null,e.data=null},t}();t.LoaderData=e,__reflect(e.prototype,"com.loader.LoaderData")}(e=t.loader||(t.loader={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.prototype.play=function(t){Config.playBGM&&t&&""!=t&&egret.ExternalInterface.call("playGameBGM",t+".mp3")},t.prototype.stop=function(){egret.ExternalInterface.call("stopGameBGM","")},t}();t.MousicManager=e,__reflect(e.prototype,"com.manager.MousicManager")}(e=t.manager||(t.manager={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){this._playType=!0,this._playList=[],this.playType=!0}return Object.defineProperty(t.prototype,"playType",{get:function(){return this._playType},set:function(t){this._playType=t,this._playType?Global.timer.doFrameLoop(20,flash.bind(this.playSoundHandler,this)):Global.timer.clearTimer(flash.bind(this.playSoundHandler,this))},enumerable:!0,configurable:!0}),t.prototype.play=function(t){this._playType&&t&&""!=t&&-1==this._playList.indexOf(t+".mp3")&&this._playList.push(t+".mp3")},t.prototype.playSoundHandler=function(){if(this._playList.length>0){var t=JSON.stringify(this._playList);egret.ExternalInterface.call("playSound",t),egret.log("开始播放音效"+t),this._playList=[]}},t}();t.SoundManager=e,__reflect(e.prototype,"com.manager.SoundManager")}(e=t.manager||(t.manager={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){this.imgMap=new flash.Dictionary,this.resMap=new flash.Dictionary,this.byteMap=new flash.Dictionary,this.txtMap=new flash.Dictionary}return t.prototype.setImgAsset=function(t,e){this.imgMap.setItem(t,e)},t.prototype.getImgAsset=function(t){return this.imgMap.getItem(t)},t.prototype.deleteImgAsset=function(t){var e=this.imgMap.getItem(t);return e?(e.dispose(),this.imgMap.delItem(t),!0):!1},t.prototype.setResAsset=function(t,e){this.resMap.setItem(t,e)},t.prototype.getResAsset=function(t){return this.resMap.getItem(t)},t.prototype.deleteResAsset=function(t){var e=this.getResAsset(t);return e?(e.dispose(),this.resMap.delItem(t),!0):!1},t.prototype.deleteAllResAsset=function(){this.resMap.forEach(function(t,e){e.isCache||(e.dispose(),this.resMap.delItem(t))},this)},t.prototype.setByteAsset=function(t,e){this.byteMap.setItem(t,e)},t.prototype.getByteAsset=function(t){return this.byteMap.getItem(t)},t.prototype.setTxtAsset=function(t,e){this.txtMap.setItem(t,e)},t.prototype.getTxtAsset=function(t){return this.txtMap.getItem(t)},t.prototype.getTypeAsset=function(t,e){var i;switch(t){case EnumLoader.BYTE:i=this.getByteAsset(e);break;case EnumLoader.RES:i=this.getResAsset(e);break;case EnumLoader.IMG:i=this.getImgAsset(e);break;case EnumLoader.TXT:i=this.getTxtAsset(e)}return i},t.prototype.hasClass=function(t){return RES.hasRes(t)},t.prototype.getAsset=function(t){return RES.getRes(t)},t}();t.AssetManager=e,__reflect(e.prototype,"com.manager.AssetManager")}(e=t.manager||(t.manager={}))}(com||(com={}));var AssetPathManager=function(){function t(){return this.RES_PATH="res/",t.instance?void egret.error("AssetPathManager an only use getInstance() to get an instance!"):void 0}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.getVersionUrl=function(t){var e=App.resourceVersion.getVersionPath(t);return e?WebParams.cdn+this.RES_PATH+e+"?t="+Config.releaseVersion:t},t.prototype.getVersionPath=function(t){var e=App.resourceVersion.getVersionPath(t);return e?e:""},t.prototype.getFigthMapRes=function(t){return this.getVersionUrl(this.getVersionPath("map/"+t+"/")+t+".jpg")},t.prototype.getFigthMapOutlineRes=function(t){return this.getVersionUrl(this.getVersionPath("map/"+t+"/")+t+"_outline.jpg")},t.prototype.getFightRoleRes=function(t,e,i){return t+e+"_"+i},t.prototype.getFightEffectRes=function(t){return this.getVersionPath("effect/skill/")+t},t.prototype.getChatfaceRes=function(t){return this.getVersionPath("effect/menu/")+"chatface/"+t+"_0"},t.prototype.getFightBuffRes=function(t){return this.getVersionPath("effect/buff/")+t},t.prototype.getFightHeroPartPath=function(t,e){return this.getVersionPath("avatar/role/"+EnumAvatarPart.getPartName(e)+"/1/"+t+"/")},t.prototype.getFightMonsterPartPath=function(t){return this.getVersionPath("avatar/monster/"+t+"/")},t.prototype.getFightFabaoPartPath=function(t){return this.getVersionPath("avatar/fabao/"+t+"/")},t.prototype.getFightFushenRes=function(t){return this.getVersionPath("avatar/fushen/"+t)},t.prototype.getPetPartPath=function(t){return this.getVersionPath("avatar/pet/"+t+"/")},t.prototype.getParticleRes=function(t,e){return this.getVersionUrl(this.getVersionPath("effect/menu/")+"particle/"+t+"."+e)},t.prototype.getPanelEffect=function(t,e){void 0===e&&(e=null),e=null==e?"":e+"/";var i=this.getVersionPath("effect/menu/")+"panel/"+e+t;return i},t.prototype.getMenuEffect=function(t,e){var i=this.getVersionPath("effect/menu/")+t+"/"+e;return i},t.prototype.getCommonIconRes=function(t,e){return this.getMenuEffect(t,e)},t.PNG_SFX=".png",t.JSON_SFX=".json",t}();__reflect(AssetPathManager.prototype,"AssetPathManager");var com;!function(t){var e;!function(t){var e=function(){function t(){this._versonListLeng=0,this._crtIndex=0,this._resVerHash=new flash.Dictionary,this._resVerToOrgenHash=new flash.Dictionary}return t.prototype.getVersionPath=function(t){var e=this._resVerHash.getItem(t);return e?e:t},t.prototype.getOrigenPath=function(t){var e=this._resVerToOrgenHash.getItem(t);return e?e:t},t.prototype.start=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=new egret.ByteArray(t);if(this._callBack=e,this._parmas=i,n){n.position=0,egret.log(n.length);var r=flash.checkInt(n.readInt());if(0>=r||r>=65535){var o=n.readUTFBytes(20);egret.log("游戏资源版本打包(java)：resourceCfg\n版本号:"+o),EventManager.dispatchEvent(LoginEvent.SHOW_INIT_GAME_PROGRESS,Global.lang.getLang("lang_client_732")+o);var s=new egret.ByteArray;n.readBytes(s,0,0);var a=new Zlib.Inflate(s.bytes),l=a.decompress(),h=new egret.ByteArray(l.buffer);this._resVersionObj=h.readUTFBytes(h.length),this.readFileVersionData()}else{var u=flash.checkInt(r),c=n.readUTFBytes(u);egret.log("游戏资源版本打包：resourceCfg\n版本号:"+c),EventManager.dispatchEvent(LoginEvent.SHOW_INIT_GAME_PROGRESS,Global.lang.getLang("lang_client_735")+c);var p=new egret.ByteArray;n.readBytes(p,0,0);var f=new Zlib.Inflate(p.bytes),d=f.decompress(),g=new egret.ByteArray(d.buffer);this._resVersionObj=g.readUTFBytes(g.length),this.readFileVersionData()}}else Config.isDebug?this.readFinish():EventManager.dispatchEvent(LoginEvent.SHOW_INIT_GAME_PROGRESS,Global.lang.getLang("lang_client_736"))},t.prototype.readDirVersionData=function(){this._resVerList=[];for(var t in this._resVersionObj){var e=this._resVersionObj[t],i=e.split(/\n/gi);this._resVerList=this._resVerList.concat(i)}this._versonListLeng=this._resVerList.length,this.startRead()},t.prototype.readFileVersionData=function(){this._resVerList=[];var t=this._resVersionObj,e=t.split(/\n/gi);this._resVerList=this._resVerList.concat(e),this._versonListLeng=this._resVerList.length,this.startRead()},t.prototype.startRead=function(){this.readVersion()},t.prototype.readVersion=function(t){void 0===t&&(t=null);var e=this._versonListLeng;for(this._crtIndex=0;this._crtIndex<e;){var i=this._resVerList[this._crtIndex],n=i.split("|"),r=n[0],o=n[1],s=this.getVersonName(r,o);this._resVerHash.setItem(r,s),this._resVerToOrgenHash.setItem(s,r),this._crtIndex++}this._crtIndex>=this._versonListLeng&&this.readFinish()},t.prototype.getVersonName=function(t,e){if(-1!=t.indexOf("."))return t.replace(".","_"+e+".");var i=flash.checkInt(t.lastIndexOf("/")),n=t.slice(0,i);return n+"_"+e+"/"},t.prototype.readFinish=function(){this._callBack&&this._callBack instanceof Function&&this._callBack.apply(null,this._parmas)},t}();t.GameVersionParser=e,__reflect(e.prototype,"com.manager.GameVersionParser")}(e=t.manager||(t.manager={}))}(com||(com={}));var fairui;!function(t){var e=function(){function t(){this._isDispose=!1,this.clear()}return t.prototype.netComplete=function(){this.foEach(this._completeDict)},t.prototype.netProgress=function(){this.foEach(this._progressDict)},t.prototype.netError=function(){this.foEach(this._errorDict)},t.prototype.foEach=function(t){t.forEach(function(t,e){t.apply(t.owner,e)},this)},t.prototype.addCompleteHandler=function(t,e){void 0===e&&(e=null),this._completeDict.setItem(t,e?e:[!0])},t.prototype.addProgressHandler=function(t,e){void 0===e&&(e=null),this._progressDict.setItem(t,e?e:[!0])},t.prototype.addErrorHandler=function(t,e){void 0===e&&(e=null),this._errorDict.setItem(t,e?e:[!0])},t.prototype.removeCompleteHandler=function(t){this._completeDict.delItem(t)},t.prototype.removeProgressHandler=function(t){this._progressDict.delItem(t)},t.prototype.removeErrorHandler=function(t){this._errorDict.delItem(t)},t.prototype.deleteFuc=function(t){this._completeDict.delItem(t),this._progressDict.delItem(t),this._errorDict.delItem(t)},t.prototype.clear=function(){this._errorDict=new flash.Dictionary,this._progressDict=new flash.Dictionary,this._completeDict=new flash.Dictionary},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._errorDict=null,this._progressDict=null,this._completeDict=null,this._isDispose=!0},t}();t.NetHandler=e,__reflect(e.prototype,"fairui.NetHandler",["IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=com.utils.ResPathUtil,i=function(){function t(){this.type=0,this._resource=null,this._isLoading=!1,this._delayDisposeTime=0,this._isDispose=!1,this._isCache=!0,this._hash=new flash.Dictionary}return Object.defineProperty(t.prototype,"isCache",{get:function(){return this._isCache},set:function(t){this._isCache=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayDisposeTime",{get:function(){return this._delayDisposeTime},set:function(t){this._delayDisposeTime=t},enumerable:!0,configurable:!0}),t.prototype.addRequest=function(t){this._hash&&this._hash.setItem(t,t)},t.prototype.deleteRequest=function(t){this._hash&&this._hash.delItem(t)},Object.defineProperty(t.prototype,"requestLength",{get:function(){return this._hash?this._hash.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){this._url=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resType",{get:function(){var t=e.getFileExtension(this._url);return"xll"==t?EnumLoader.RES:"jpg"==t||"png"==t||"jepg"==t?EnumLoader.IMG:"json"==t||"txt"==t?EnumLoader.TXT:EnumLoader.RES},set:function(t){},enumerable:!0,configurable:!0}),t.prototype.netComplete=function(t){this.data=t,this.unNetLoad()},t.prototype.netProgress=function(t){this._hash.forEach(function(t,e,i){e.netProgress(i)},this,t)},t.prototype.netError=function(t){this._hash.forEach(function(t,e,i){e.netError(i)},this,t)},Object.defineProperty(t.prototype,"data",{get:function(){return this._resource},set:function(t){this._resource=t,null!=this._hash&&this._hash.forEach(function(t,e){e.netComplete(this._resource)},this)},enumerable:!0,configurable:!0}),t.prototype.netLoad=function(){this._isLoading=!0},t.prototype.unNetLoad=function(){this._isLoading=!1},t.prototype.clear=function(){this.unNetLoad()},Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.unNetLoad(),egret.is(this._resource,"AysncAnimator")&&App.asset.deleteResAsset(this.url),this._hash&&this._hash.reset(),this._hash=null,this._resource=null,this._delayDisposeTime=0,this._isDispose=!0,this._isCache=!0},t}();t.NetResource=i,__reflect(i.prototype,"fairui.NetResource",["com.interfaces.INetResourceElement","IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function e(){this.init()}return e.getInstance=function(){return this.resoureCenter=this.resoureCenter||new e},Object.defineProperty(e.prototype,"resoureCenter",{set:function(t){e.resoureCenter=t},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._resourceTypeDict=new flash.Dictionary,this._resourceHash=new flash.Dictionary,this._delayDisposeHash=new flash.Dictionary},e.prototype.getResourceLength=function(){return this._resourceHash.length},e.prototype.getDelayResourceLength=function(){return this._delayDisposeHash.length},e.prototype.getResource=function(t){var e=this._resourceHash.getItem(t.url);e&&this._delayDisposeHash.hasOwnProperty(e)&&(e.delayDisposeTime=0,this._delayDisposeHash.delItem(e)),(null==e||e.isDisposed)&&(e=this.makeResource(t.resType),e.type=t.resType,e.url=t.url,e.isCache=t.isCache,this._resourceHash.setItem(t.url,e)),e.addRequest(t),e.data?t.netComplete(e.data):0==e.isLoading&&(e.netLoad(),this.loadResource(e))},e.prototype.delErrorResource=function(t){var e=this._resourceHash.getItem(t.url);e&&(e.isLoading&&(this.stopLoadResource(e),e.unNetLoad()),this.disposeResource(e))},e.prototype.delResource=function(t){var e=this._resourceHash.getItem(t.url);e&&(e.deleteRequest(t),0==e.requestLength&&(e.isLoading&&(this.stopLoadResource(e),e.unNetLoad()),e.data&&this.getDisposeDelayTime()>0?this.delayDisposeResource(e):this.disposeResource(e)))},e.prototype.delayDisposeResource=function(t){this._delayDisposeHash.setItem(t,t),t.delayDisposeTime=0},e.prototype.addvancetime=function(t){var e=this.getDisposeDelayTime();this._delayDisposeHash.forEach(function(i,n){n.delayDisposeTime+=t,n.delayDisposeTime>=e&&this.disposeResource(n)},this)},e.prototype.disposeResource=function(t){t.dispose(),this._resourceHash.delItem(t.url),this._delayDisposeHash.delItem(t)},e.prototype.addResourceParser=function(t,e){this._resourceTypeDict.setItem(t,e)},e.prototype.makeResource=function(e){var i=this._resourceTypeDict.getItem(e);return i?new i:new t.NetResource},e.prototype.getDisposeDelayTime=function(){return 0},e.prototype.loadResource=function(t){com.loader.GLoaderManager.getInstance().load(t.url,t.resType,this,flash.bind(this.loadSourceComplete,this),null,flash.bind(this.loadSourceError,this),[t],t.isCache)},e.prototype.loadSourceComplete=function(t){var e=t.argArray[0];null!=e&&(e.data=t.data,e.netComplete(e.data))},e.prototype.loadSourceError=function(t){egret.error("加载资源错误,url:"+t.url)},e.prototype.stopLoadResource=function(t){com.loader.GLoaderManager.getInstance().unLoad(t.url,this,t.netComplete)},e.prototype.getResouceData=function(t){return this._resourceHash.hasOwnProperty(t)?this._resourceHash.getItem(t).data:null},e.prototype.clear=function(){this._delayDisposeHash.forEach(function(t,e){this.disposeResource(e)},this)},e.prototype.dispose=function(){for(var t=this;this._resourceHash.length>0;)this._resourceHash.forEach(function(e,i){i.dispose(),t._resourceHash.delItem(e)},this);for(;this._delayDisposeHash.length>0;)this._delayDisposeHash.forEach(function(e,i){i.dispose(),t._delayDisposeHash.delItem(e)},this);this._delayDisposeHash=null,this._resourceTypeDict=null},e}();t.NetResourceManager=e,__reflect(e.prototype,"fairui.NetResourceManager")}(fairui||(fairui={}));var com;!function(t){var e;!function(t){var e=function(t){function e(e,i,n){void 0===n&&(n=0);var r=t.call(this,i,n)||this;return r.name="",r.name=e,r}return __extends(e,t),e}(egret.Timer);t.BaseTimer=e,__reflect(e.prototype,"com.time.BaseTimer")}(e=t.time||(t.time={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.setServerTime=function(e){t._serverTime=e,0==t._init&&(t._init=!0,t._lastEnterTime=0,Global.stage.addEventListener(egret.Event.ENTER_FRAME,t.onEnterFrame,this))},t.onEnterFrame=function(e){var i=egret.getTimer();if(t._lastEnterTime<=0)return void(t._lastEnterTime=i);var n=i-t._lastEnterTime;t._serverTime=t._serverTime+n,t._clientTimeMessage+=n,t._lastEnterTime=i,t._clientTimeMessage>15e3&&(t._clientTimeMessage=0)},t.setServerInfo=function(e,i,n,r,o){t._serverStartTime=e,t._serverOpenZoneTime=i,t._serverCurTime=n,t._loginTime=n,t.setServerTime(1e3*n),t._serverVer=r,t._msgVer=o
},Object.defineProperty(t,"loginTime",{get:function(){return t._loginTime},enumerable:!0,configurable:!0}),t.getServerTime=function(){return parseInt(""+.001*t._serverTime)},Object.defineProperty(t,"openServerDayCount",{get:function(){var e=0,i=86400,n=new Date,r=(t.serverOpenZoneTime-60*n.getTimezoneOffset())/i;return e=(t.serverTime/1e3-60*n.getTimezoneOffset())/i-r,0>e?1:e+1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverTime",{get:function(){return t._serverTime},enumerable:!0,configurable:!0}),Object.defineProperty(t,"systemTime",{get:function(){return(new Date).getTime()-1e3*t.serverStartTime},enumerable:!0,configurable:!0}),Object.defineProperty(t,"flashTime",{get:function(){return egret.getTimer()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverStartTime",{get:function(){return t._serverStartTime},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverOpenZoneTime",{get:function(){return t._serverOpenZoneTime},enumerable:!0,configurable:!0}),t._serverTime=0,t._serverStartTime=0,t._serverOpenZoneTime=0,t._serverCurTime=0,t._loginTime=0,t._serverVer=0,t._msgVer=0,t._init=!1,t._lastEnterTime=0,t._clientTimeMessage=0,t.Event_SynServerTime="Event_SynServerTime",t}();t.ServerTime=e,__reflect(e.prototype,"com.time.ServerTime")}(e=t.time||(t.time={}))}(com||(com={}));var com;!function(t){var e;!function(e){var i=function(){function e(){this._startServerTime=0,this._endServerTime=0,this._spuleTime=0}return e.getData=function(){return t.time.ServerTimeData.pool.getObject()},Object.defineProperty(e.prototype,"args",{get:function(){return this._args},set:function(t){this._args=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this._method},set:function(t){this._method=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callbackThisObj",{get:function(){return this._callbackThisObj},set:function(t){this._callbackThisObj=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spuleTime",{get:function(){return this._spuleTime},set:function(t){this._spuleTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endServerTime",{get:function(){return this._endServerTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startServerTime",{get:function(){return this._startServerTime},enumerable:!0,configurable:!0}),e.prototype.setTime=function(t,e){this._startServerTime=t,this._endServerTime=e},e.prototype.dispose=function(){this._method=null,this._args=null,this._callbackThisObj=null,t.time.ServerTimeData.pool.push(this)},e}();e.ServerTimeData=i,__reflect(i.prototype,"com.time.ServerTimeData")}(e=t.time||(t.time={}))}(com||(com={})),com.time.ServerTimeData.pool=new flash.ObjectPool(com.time.ServerTimeData);var com;!function(t){var e;!function(e){var i=function(){function i(){this._currTimer=0,this._currFrame=0,this._count=0,this._index=0,this._frametime=0,this._lastTime=0,this._fpsLastTime=0,this._fpsCount=0,this._pool=new Array,this._handlers=new flash.Dictionary,this._serverTimeDict=new flash.Dictionary,this._currTimer=egret.getTimer(),Global.stage.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)}return Object.defineProperty(i.prototype,"currFrame",{get:function(){return this._currFrame},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frametime",{get:function(){return this._frametime},enumerable:!0,configurable:!0}),i.prototype.onEnterFrame=function(t){var e=this;e._currFrame++,e._currTimer=egret.getTimer(),e._frametime=e._currTimer-e._lastTime,e._lastTime=e._currTimer;var i=e._currTimer-e._fpsLastTime;if(i>1e3){var n=(e._currFrame-e._fpsCount)/(.001*i);e._fpsCount=e._currFrame,e._fpsLastTime=e._currTimer,Config.currentGameFps=.001*Math.floor(1e3*n)}e._handlers.forEach(function(t,i){if(null!=i&&null!=i.method){var n=i.userFrame?e._currFrame:e._currTimer;if(n>=i.exeTime){var r=i.method,o=i.args;if(i.repeat)for(;n>=i.exeTime&&e._handlers.hasOwnProperty(t);)i.exeTime+=i.delay,r.apply(r.owner,o);else e.clearTimer(t),r.apply(r.owner,o)}}},e),e.serverTimeHandler()},i.prototype.serverTimeHandler=function(){var e=this;if(e._serverTimeDict.length>0){var i=t.time.ServerTime.getServerTime();e._serverTimeDict.forEach(function(t,n){var r=n.endServerTime-i;if(r!=n.spuleTime){n.spuleTime=r;var o=[n];n.args&&(o=o.concat(n.args)),n.method.apply(n.method.owner,o)}0>=r&&e.clearTimer(t)},e)}},i.prototype.create=function(t,i,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=!0);var a;if(s?(this.clearTimer(r),a=r):a=this._index++,1>n)return r.apply(r.owner,o),-1;var l=this._pool.length>0?this._pool.pop():new e.TimerHandler;return l.userFrame=t,l.repeat=i,l.delay=n,l.method=r,l.args=o,l.exeTime=n+(t?this._currFrame:this._currTimer),this._handlers.setItem(a,l),this._count++,a},i.prototype.doTimeOnce=function(t,e,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),this.create(!1,!1,t,e,i,n)},i.prototype.doTimeLoop=function(t,e,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),this.create(!1,!0,t,e,i,n)},i.prototype.doFrameOnce=function(t,e,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),this.create(!0,!1,t,e,i,n)},i.prototype.doFrameLoop=function(t,e,i,n){return void 0===i&&(i=null),void 0===n&&(n=!0),this.create(!0,!0,t,e,i,n)},i.prototype.serverTimeEnd=function(i,n,r,o){void 0===r&&(r=null),void 0===o&&(o=-1),this.clearTimer(i);var s=i,a=e.ServerTimeData.getData();o=-1==o?t.time.ServerTime.getServerTime():o,a.setTime(o,n),a.method=i,a.args=r,this._serverTimeDict.setItem(s,a);var l=t.time.ServerTime.getServerTime(),h=a.endServerTime-l;a.spuleTime=h;var u=[a];return a.args&&(u=u.concat(a.args)),a.method.apply(a.method.owner,u),s},Object.defineProperty(i.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),i.prototype.clearTimer=function(t){var e=this._handlers.getItem(t);null!=e&&(this._handlers.delItem(t),e.clear(),this._pool.push(e),this._count--);var i=this._serverTimeDict.getItem(t);i&&(this._serverTimeDict.delItem(t),i.dispose(),this._count--)},i}();e.TimeManager=i,__reflect(i.prototype,"com.time.TimeManager")}(e=t.time||(t.time={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){this.delay=0,this.repeat=!1,this.userFrame=!1,this.exeTime=0/0}return t.prototype.clear=function(){this.method=null,this.args=null,this.callbackThisObj=null},t}();t.TimerHandler=e,__reflect(e.prototype,"com.time.TimerHandler")}(e=t.time||(t.time={}))}(com||(com={}));var ArrayUtil=function(){function t(){}return t.sortOn=function(e,i){return e.sort(function(e,n){var r=[e,n];return r=r.concat(i),t.sortByProps.apply(null,r)})},t.sortByProps=function(e,i){"use strict";for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a=[],l=!0;if(o.length<1)for(var h in e){if(e[h]>i[h]){a.push(1);break}if(e[h]!==i[h]){a.push(-1);break}a.push(0)}else for(var u=0;u<o.length;u++){var c=o[u];for(var p in c){if(l=c[p]===t.NUMERIC,e[p]>i[p]){a.push(l?1:-1);break}if(e[p]!==i[p]){a.push(l?-1:1);break}a.push(0)}}for(var f=0;f<a.length;f++)if(1===a[f]||-1===a[f])return a[f];return 0},t.Remove=function(t,e){t[e]=t[t.length-1],t.pop()},t.randomArray=function(t,e){void 0===e&&(e=6);var i=t.slice();if(null!=i){for(var n=void 0,r=void 0,o=i.length,s=0;o>s;s++)r=i[s],n=Math.floor(Math.random()*o),i[s]=i[n],i[n]=r;i=i.slice(0,e)}return i},t.getPages=function(t,e){void 0===e&&(e=5);var i=0;return i=t&&t.length>0?t.length%e>0?parseInt(""+t.length/e)+1:parseInt(""+t.length/e):0,i||1},t.getPageList=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=5);var n=new Array,r=0;if(!(t.length>0))return r=0,n;if(r=t.length%i>0?parseInt(""+t.length/i)+1:parseInt(""+t.length/i),e>r)return null;var o=(e-1)*i,s=e*i;s=0==parseInt(""+t.length%i)?e*i:e==r?(e-1)*i+parseInt(""+t.length%i):e*i;for(var a=o;s>a;a++)n.push(t[a]);return n},t.createComparisonFunction=function(t,e,i){return void 0===i&&(i=1),function(n,r){for(var o,s,a=0;a<t.length;a++)o=null==o?n[t[a]]:o[t[a]],s=null==s?r[t[a]]:s[t[a]];for(var l,h,a=0;a<e.length;a++)l=null==l?n[e[a]]:l[e[a]],h=null==h?r[e[a]]:h[e[a]];return!l||s>o?-1*i:!h||o>s?1*i:h>l?-1*i:l>h?1*i:0}},t.DESCENDING="desc",t.NUMERIC="asc",t}();__reflect(ArrayUtil.prototype,"ArrayUtil");var CHandler=function(){function t(t,e){void 0===e&&(e=null),this._isDispose=!1,this._handler=t,this._params=e}return Object.defineProperty(t.prototype,"params",{get:function(){return this._params},set:function(t){this._params=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handler",{get:function(){return this._handler},enumerable:!0,configurable:!0}),t.prototype.execute=function(){null!=this._handler&&this._handler.apply(null,this._params)},t.prototype.executeWith=function(t){null==t?this.execute():null!=this._handler&&this._handler.apply(null,this._params?this._params.concat(t):t)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._handler=null,this._params=null,this._isDispose=!0},t}();__reflect(CHandler.prototype,"CHandler",["IDispose"]);var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.toString=function(t){return void 0===t&&(t=16711680),"#"+t.toFixed(16)},t.toUint=function(t){return parseInt(String(t).replace(/#/g,"0x"))},t.getColorUint=function(e){return null==t.QualityColors[e]||0>e?16777215:t.QualityColors[e]},t.getColorHtml=function(t){var e=this.getColorUint(t);return this.toString(e)},t.QualityColors=[16777215,65280,47871,16711935,16749824,16711680],t.WHITE=16777215,t.GREEN=65280,t.GREEN_TEXT=2269489,t.RED=16711680,t.YELLOW_FONT=16500075,t.YELLOW_ORG=16756034,t.PURPLE=8670201,t.ORANGE=16737792,t}();t.ColorUtils=e,__reflect(e.prototype,"com.utils.ColorUtils")}(e=t.utils||(t.utils={}))}(com||(com={}));var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.getPages=function(t,e){void 0===e&&(e=5);var i=0;return i=t&&t.length>0?t.length%e>0?parseInt(""+t.length/e)+1:parseInt(""+t.length/e):0,i||1},t.getPageList=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=5);var n=new Array,r=0;if(!(t.length>0))return r=0,n;if(r=t.length%i>0?parseInt(""+t.length/i)+1:parseInt(""+t.length/i),e>r)return null;var o=(e-1)*i,s=e*i;s=0==parseInt(""+t.length%i)?e*i:e==r?(e-1)*i+parseInt(""+t.length%i):e*i;for(var a=o;s>a;a++)n.push(t[a]);return n},t}();t.CommonUtils=e,__reflect(e.prototype,"com.utils.CommonUtils")}(e=t.utils||(t.utils={}))}(com||(com={}));var EffectUtil=function(){function t(){}return t.openWindowEffect=function(t,e,i,n,r){function o(e){t.scaleX=e.value.x,t.scaleY=e.value.y,t.x=.5*(Global.stageWidth-t.scaleX*t.width),t.y=.5*(Global.stageHeight-t.scaleY*t.height)}if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!1),t){if(!r&&t.isWindowEffect)return;r&&fairygui.GTween.kill(t),t.scaleX=t.scaleY=.3,t.alpha=1,t.isWindowEffect=!0;var s=this;fairygui.GTween.to2(.3,.3,1.05,1.05,.3).setTarget(t,this).onUpdate(o,s).onComplete(function(){fairygui.GTween.to2(1.05,1.05,.98,.98,.3).setTarget(t,s).onUpdate(o,s).onComplete(function(){fairygui.GTween.to2(.98,.98,1,1,.2).setTarget(t,s).onUpdate(o,s).onComplete(function(){fairygui.GTween.kill(t),delete t.isWindowEffect,null!=e&&e.apply(i,n)},s)},s)},this)}},t.closeWindowEffect=function(t,e,i,n,r){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=!1),t){if(!r&&t.isWindowEffect)return;r&&fairygui.GTween.kill(t),t.alpha=1,t.scaleX=t.scaleY=1,t.isWindowEffect=!0;var o=t.width,s=t.height;fairygui.GTween.to3(1,1,1,.8,.8,0,.3).setTarget(t,this).onUpdate(function(e){t.scaleX=e.value.x,t.scaleY=e.value.y,t.alpha=e.value.z,t.x=.5*(Global.stageWidth-t.scaleX*o),t.y=.5*(Global.stageHeight-t.scaleY*s)},this).onComplete(function(){fairygui.GTween.kill(t),delete t.isWindowEffect,null!=e&&e.apply(i,n)},this)}},t}();__reflect(EffectUtil.prototype,"EffectUtil");var utils;!function(t){var e=function(){function t(t,e,i,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=!0),this.method=t,this.args=i,this.thisObject=e||this,this.isImmediatelyGc=n}return t.Create=function(e,i,n,r){if(void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=!0),null==e)return egret.error(this,"参数method为null"),null;if(t.pool.length>0){var o=t.pool.pop();return o.method=e,o.thisObject=i,o.args=n,o.isImmediatelyGc=r,o}return new t(e,i,n,r)},t.prototype.execute=function(){try{null!=this.method&&(this.method.apply(this.thisObject,this.args),this.isImmediatelyGc&&this.gc())}catch(t){egret.error(this,"handler.execute调用出错"+t)}},t.prototype.executeWith=function(t){if(null==t)return void this.execute();try{null!=this.method&&(this.method.apply(this.thisObject,this.args?this.args.concat(t):t),this.isImmediatelyGc&&this.gc())}catch(e){egret.error(this,"handler.executeWith调用出错"+e)}},t.prototype.gc=function(){this.method=null,this.thisObject=null,this.args=null,t.pool.push(this)},t.pool=new Array,t}();t.Handler=e,__reflect(e.prototype,"utils.Handler")}(utils||(utils={}));var WebParams=function(){function t(){}return t.cdn="",t}();__reflect(WebParams.prototype,"WebParams");var flash;!function(t){function e(){return null}function i(t,e){return"boolean"==typeof t?t?1:0:"number"!=typeof t?parseInt(t):Math.floor(t)}function n(t,e){return"number"!=typeof t?parseFloat(t):t}function r(t){return t?!0:!1}function o(t){return void 0==t?!0:!1}function s(e,i,n){if(null==e)return!1;var r;if(i){if("Class"==i)return e.prototype&&e.prototype.__class__?!0:!1;if(r="string"==typeof i?i:t.getClassName(i),"object"!=typeof e)return typeof e==r?!0:!1;if(egret.getQualifiedClassName(e)==r)return!0;var o;for(e.__proto__&&e.__proto__.__proto__&&(o=e.__proto__.__proto__);o;){if(o.__class__==r)return!0;o=o.__proto__?o.__proto__:null}}else if(n){var s=null;try{s=egret.getQualifiedClassName(e)}catch(a){s=null}if(null==s)return!1;var l=m.getItem(s);if(l)for(var h=0;h<l.length;h++)if(l[h]==n)return!0;var o;for(e.__proto__&&e.__proto__.__proto__&&(o=e.__proto__.__proto__);o;){if(l=m.getItem(o.__class__))for(var h=0;h<l.length;h++)if(l[h]==n)return!0;o=o.__proto__?o.__proto__:null}}return!1}function a(t,e,i){return 0==s(t,e,i)?null:t}function l(t){return t}function h(){return(new Date).getTime()-d}function u(t){for(var e=0;e<t.length;e++)"\\r"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\r"+t.slice(e+2,t.length)),"\\n"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\n"+t.slice(e+2,t.length)),"\\\\"==t.slice(e,e+2)&&(t=t.slice(0,e)+"\\"+t.slice(e+2,t.length));return t}function c(t,e){if(null==t)return null;null==t.__EgretBid__&&(t.__EgretBid__=_,_++);var i=t.__EgretBid__;if(null==e.__EgretBO__&&(e.__EgretBO__={}),!e.__EgretBO__[i]){var n=function(){return n["function"].apply(n.owner,arguments)};n["function"]=t,n.owner=e,e.__EgretBO__[i]=n}return e.__EgretBO__[i]}function p(e,i){m||(m=new t.Dictionary),m.setItem(e,i)}function f(e,i){y||(y=new t.Dictionary),y.setItem(e,i)}var d=0;t.InitArray=e,t.tranint=i,t.trannumber=n,t.Boolean=r,t.isNaN=o,t.As3is=s,t.As3As=a,t.AS3Object=l,t.sortOn=function(t,e,i){for(var n,r=0;r<t.length-1;r++)t[r][e]>t[r+1][e]&&(n=t[r+1],t[r+1]=t[r],t[r]=n,r=-1);return t};var g=function(){function t(){}return t.CASEINSENSITIVE=1,t.DESCENDING=2,t.NUMERIC=16,t.RETURNINDEXEDARRAY=8,t.UNIQUESORT=4,t}();t.AS3Array=g,__reflect(g.prototype,"flash.AS3Array"),t.getTimer=h,t.changeStringAny=u;var _=0;t.bind=c;var m;t.implementsClass=p;var y;t.extendsClass=f}(flash||(flash={}));var MathUtil=function(){function t(){}return t.distance=function(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)},t.distanceNS=function(t,e,i,n){var r=i-t,o=n-e;return r*r+o*o},t.random=function(e,i){void 0===i&&(i=t.max);var n=Math.random()*i;return e>=n},t.toInt=function(t,e){return void 0===e&&(e=1),t-t%e},t.makeRandom=function(e,i){var n=e+Math.random()*(i-e+1);return i>n?t.toInt(n):i},t.randomArray=function(t,e){if(void 0===e&&(e=-1),t=t||[],0==t.length)return[];e=-1==e?t.length:e,e>t.length-1&&(e=t.length-1);for(var i,n,r=t.length,o=0;r>o;o++)n=t[o],i=Math.ceil(Math.random()*r),t[o]=t[i],t[i]=n;return t=t.slice(0,e)},t.hitRect=function(t,e){if(t&&e){var i=t.parent.localToGlobal(t.x,t.y),n=e.parent.localToGlobal(e.x,e.y),r=new egret.Rectangle(i.x,i.y,t.width,t.height),o=new egret.Rectangle(n.x,n.y,e.width,e.height);return r.x+r.width>o.x&&o.x+o.width>r.x&&o.y+o.height>o.y&&o.y+o.height>r.y?!0:!1}},t.max=1e4,t}();__reflect(MathUtil.prototype,"MathUtil");var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.addFilter=function(t,e){var i=t.filters||[];i.push(e),t.filters=i},t.gray=function(t,e){void 0===e&&(e=!0),e?this.addFilter(t,this.grayFilter):this.clearFilter(t,egret.ColorMatrixFilter)},t.clearFilter=function(t,e){void 0===e&&(e=null);var i=t.filters;if(null!=i&&i.length>0){for(var n=i.length-1;n>-1;n--){var r=i[n];(null==e||r instanceof e)&&i.splice(n,1)}t.filters=i}},t.grayFilter=new egret.ColorMatrixFilter([.3,.6,0,0,0,.3,.6,0,0,0,.3,.6,0,0,0,0,0,0,1,0]),t}();t.ObjectUtils=e,__reflect(e.prototype,"com.utils.ObjectUtils")}(e=t.utils||(t.utils={}))}(com||(com={}));var flash;!function(t){var e=function(){function t(t,e,i,n,r,o,s){void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),null!=t?this._date=new Date(t):this._date=new Date}return Object.defineProperty(t.prototype,"date",{get:function(){return this._date.getDate()},set:function(t){this._date.setDate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateUTC",{get:function(){return this._date.getUTCDate()},set:function(t){this._date.setUTCDate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"day",{get:function(){return this._date.getDay()},set:function(t){this._date.setDate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dayUTC",{get:function(){return this._date.getUTCDay()},set:function(t){this._date.setUTCDate(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullYear",{get:function(){return this._date.getFullYear()},set:function(t){this._date.setFullYear(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullYearUTC",{get:function(){return this._date.getUTCFullYear()},set:function(t){this._date.setUTCFullYear(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hours",{get:function(){return this._date.getHours()},set:function(t){this._date.setHours(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoursUTC",{get:function(){return this._date.getUTCHours()},set:function(t){this._date.setUTCHours(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"milliseconds",{get:function(){return this._date.getMilliseconds()},set:function(t){this._date.setMilliseconds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"millisecondsUTC",{get:function(){return this._date.getUTCMilliseconds()},set:function(t){this._date.setUTCMilliseconds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minutes",{get:function(){return this._date.getMinutes()},set:function(t){this._date.setMinutes(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minutesUTC",{get:function(){return this._date.getUTCMinutes()},set:function(t){this._date.setUTCMinutes(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"month",{get:function(){return this._date.getMonth()},set:function(t){this._date.setMonth(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthUTC",{get:function(){return this._date.getUTCMonth()},set:function(t){this._date.setUTCMonth(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seconds",{get:function(){return this._date.getSeconds()},set:function(t){this._date.setSeconds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secondsUTC",{get:function(){return this._date.getUTCMonth()},set:function(t){this._date.setUTCSeconds(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this._date.getTime()},set:function(t){this._date.setTime(t)},enumerable:!0,configurable:!0}),t.prototype.timezoneOffset=function(){return 0},t.prototype.getDate=function(){return this._date.getDate()},t.prototype.getDay=function(){return this._date.getDay()},t.prototype.getFullYear=function(){return this._date.getFullYear()},t.prototype.getHours=function(){return this._date.getHours()},t.prototype.getMilliseconds=function(){return this._date.getMilliseconds()},t.prototype.getMinutes=function(){return this._date.getMinutes()},t.prototype.getMonth=function(){return this._date.getMonth()},t.prototype.getSeconds=function(){return this._date.getSeconds()},t.prototype.getTime=function(){return this._date.getTime()},t.prototype.getTimezoneOffset=function(){return 0},t.prototype.getUTCDate=function(){return this._date.getUTCDate()},t.prototype.getUTCDay=function(){return this._date.getUTCDate()},t.prototype.getUTCFullYear=function(){return this._date.getUTCFullYear()},t.prototype.getUTCHours=function(){return this._date.getUTCHours()},t.prototype.getUTCMilliseconds=function(){return this._date.getUTCMilliseconds()},t.prototype.getUTCMinutes=function(){return this._date.getUTCMinutes()},t.prototype.getUTCMonth=function(){return this._date.getUTCMonth()},t.prototype.getUTCSeconds=function(){return this._date.getUTCSeconds()},t.parse=function(t){return 0},t.prototype.setDate=function(t){return this._date.setDate(t),this.date},t.prototype.setFullYear=function(t,e,i){return this._date.setFullYear(t,e,i),this.fullYear},t.prototype.setHours=function(t,e,i,n){return this._date.setHours(t,e,i,n),this.hours},t.prototype.setMilliseconds=function(t){return this._date.setMilliseconds(t),this.milliseconds},t.prototype.setMinutes=function(t,e,i){return this._date.setMinutes(t,e,i),this.minutes},t.prototype.setMonth=function(t,e){return this._date.setMonth(t,e),this.month},t.prototype.setSeconds=function(t,e){return this._date.setSeconds(t,e),this.seconds},t.prototype.setTime=function(t){return this.time=t,this.time},t.prototype.setUTCDate=function(t){return this._date.setUTCDate(t),this.dateUTC},t.prototype.setUTCFullYear=function(t,e,i){return this._date.setUTCFullYear(t,e,i),this.fullYearUTC},t.prototype.setUTCHours=function(t,e,i,n){return this._date.setUTCHours(t,e,i,n),this.hoursUTC},t.prototype.setUTCMilliseconds=function(t){return this._date.setUTCMilliseconds(t),this.millisecondsUTC},t.prototype.setUTCMinutes=function(t,e,i){return this._date.setUTCMinutes(t,e,i),this.minutesUTC},t.prototype.setUTCMonth=function(t,e){return this._date.setUTCMonth(t,e),this.minutesUTC},t.prototype.setUTCSeconds=function(t,e){return this._date.setUTCSeconds(t,e),this.secondsUTC},t.prototype.toDateString=function(){return this._date.toDateString()},t.prototype.toLocaleDateString=function(){return this._date.toLocaleDateString()},t.prototype.toLocaleString=function(){return this._date.toLocaleString()},t.prototype.toLocaleTimeString=function(){return this._date.toLocaleTimeString()},t.prototype.toString=function(){return this._date.toString()},t.prototype.toTimeString=function(){return this._date.toTimeString()},t.prototype.toUTCString=function(){return this._date.toUTCString()},t.UTC=function(t,e,i,n,r,o,s){return void 0===i&&(i=1),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=0),""},t.prototype.valueOf=function(){return this._date.valueOf()},t}();t.As3Date=e,__reflect(e.prototype,"flash.As3Date")}(flash||(flash={}));var StringFormat=function(){function t(){}return t.toString=function(t){return void 0===t&&(t=0),"#"+t.toFixed(16)},t.toUint=function(t){return flash.tranint(String(t).replace(/#/g,"0x"))},t.getColorHtmlText=function(t,e,i){return void 0===e&&(e="#00ff00"),void 0===i&&(i=18),"<font size='"+i+"' color='"+e+"'>"+t+"</font>"},t.getHtmlImage=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),"<img src= '"+t+"' width='"+e+"' height='"+i+"'></img>"},t.switchHtmlString=function(t){var e=t.toLocaleLowerCase();return e=e.replace(/(\<\/p\>$)/gi,""),e=e.replace(/\<p align="left"\>/gi,""),e=e.replace(/\<\/p\>/gi,"\n"),e=e.replace(/face=/gi,"fontfamily="),e=e.replace(/kerning=/gi,""),e=e.replace(/letterspacing=/gi,"")},t.replacJosnStr=function(t){var e=/\'/g;return t=t.replace(e,'"')},t.formatMoney=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=1e4),(!e||e.length<=0)&&(e=Global.lang.getLang("lang_client_398")),t>=i?flash.tranint(t/i)+e:t+""},t.strToTime=function(t){var e=t.split(":"),i=36e5*flash.trannumber(e[0])+6e4*flash.trannumber(e[1]);return i},t.formatNum=function(t,e){void 0===e&&(e=!0);var i="";e&&t>=1e9?(t=flash.tranint(t/1e8),i=Global.lang.getLang("lang_client_404")):e&&t>=1e6&&(t=flash.tranint(t/1e4),i=Global.lang.getLang("lang_client_405"));var n=t.toString();if(n.length>3){for(var r=[],o=0,s=n.length;s>0;)o=Math.max(s-3,0),r.unshift(n.slice(o,s)),s=o;n=r.join(",")}return n+i},t.formatNumberToString=function(t,e){void 0===e&&(e=!0);var i="";e&&t>=1e9?(t=flash.tranint(t/1e8),i=""+Global.lang.getLang("lang_client_404")):e&&t>=1e6?(t=flash.tranint(t/1e4),i=""+Global.lang.getLang("lang_client_403")):e&&t>=1e4&&(t=flash.tranint(t/1e4),i=""+Global.lang.getLang("lang_client_403"));var n=t.toString();if(n.length>3){for(var r=[],o=0,s=n.length;s>0;)o=Math.max(s-3,0),r.unshift(n.slice(o,s)),s=o;n=r.join(",")}return n+i},t.formatNumberToStringV2=function(t,e){void 0===e&&(e=!0);var i="";e&&t>=1e8?(t=flash.tranint(t/1e8),i=""+Global.lang.getLang("lang_client_404")):e&&t>=1e4&&(t=flash.tranint(t/1e4),i=""+Global.lang.getLang("lang_client_405"));var n=t.toString();return n+i},t.getWeekDay=function(t){var e=[""+Global.lang.getLang("lang_client_406"),""+Global.lang.getLang("lang_client_407"),""+Global.lang.getLang("lang_client_408"),""+Global.lang.getLang("lang_client_409"),""+Global.lang.getLang("lang_client_410"),""+Global.lang.getLang("lang_client_411"),""+Global.lang.getLang("lang_client_412")];return e[t]},t.getChieseNum=function(t){var e=[""+Global.lang.getLang("lang_client_413"),""+Global.lang.getLang("lang_client_407"),""+Global.lang.getLang("lang_client_408"),""+Global.lang.getLang("lang_client_409"),""+Global.lang.getLang("lang_client_410"),""+Global.lang.getLang("lang_client_411"),""+Global.lang.getLang("lang_client_412"),""+Global.lang.getLang("lang_client_420"),""+Global.lang.getLang("lang_client_421"),""+Global.lang.getLang("lang_client_422"),""+Global.lang.getLang("lang_client_423")];return e[t]},t.numberToChinese=function(t){for(var e=[""+Global.lang.getLang("lang_client_413"),""+Global.lang.getLang("lang_client_407"),""+Global.lang.getLang("lang_client_408"),""+Global.lang.getLang("lang_client_409"),""+Global.lang.getLang("lang_client_410"),""+Global.lang.getLang("lang_client_411"),""+Global.lang.getLang("lang_client_412"),""+Global.lang.getLang("lang_client_420"),""+Global.lang.getLang("lang_client_421"),""+Global.lang.getLang("lang_client_422"),""+Global.lang.getLang("lang_client_423")],i=[""+Global.lang.getLang("lang_client_435"),""+Global.lang.getLang("lang_client_436"),""+Global.lang.getLang("lang_client_437"),""+Global.lang.getLang("lang_client_438"),""+Global.lang.getLang("lang_client_439"),""+Global.lang.getLang("lang_client_436"),""+Global.lang.getLang("lang_client_437"),""+Global.lang.getLang("lang_client_438"),""+Global.lang.getLang("lang_client_404"),""+Global.lang.getLang("lang_client_436")],n="",r=t.toString(),o=0;o<r.length;o++){var s=flash.tranint(r.charAt(o));if(r.length<=1)n+=e[s];else{var a=r.length-o-1;s>0?n+=a>0?(2==r.length&&1==s?"":e[s])+i[a]:e[s]:r.length>2&&1==a&&(0==flash.tranint(r.charAt(r.length-1))&&0==flash.tranint(r.charAt(r.length-2))||o==r.length-1||(n+=e[s]))}}return n},t.formatToTime=function(t){t=Number(t.toFixed(0));var e=t%60,i=(t-e)/60%60,n=(t-60*i-e)/3600,r=10>e?"0"+e.toString():e.toString(),o=10>i?"0"+i.toString():i.toString(),s=10>n?"0"+n.toString():n.toString();return s+":"+o+":"+r},t.formatToTime_V2=function(t,e){void 0===e&&(e=!0);var i=t%60,n=(t-i)/60%60,r=(t-60*n-i)/3600,o=0==n?"":n.toString()+Global.lang.getLang("lang_client_479"),s=0==r?"":r.toString()+Global.lang.getLang("lang_client_455");return e?s+o+i+Global.lang.getLang("lang_client_480"):o+i+Global.lang.getLang("lang_client_480")},t.formatToTime_V3=function(t){var e=t%60,i=(t-e)/60%60,n=(t-60*i-e)/3600,r=0==i?"":i.toString()+Global.lang.getLang("lang_client_479"),o=0==n?"":n.toString()+Global.lang.getLang("lang_client_455");return o+r},t.formatToTime_V4=function(t){var e=flash.tranint(t/86400),i=flash.tranint(t%86400/3600),n=flash.tranint(t%3600/60);return e+Global.lang.getLang("lang_client_454")+i+Global.lang.getLang("lang_client_455")+n+Global.lang.getLang("lang_client_479")},t.formatToTime_V5=function(t){var e=flash.tranint(t/86400),i=flash.tranint(t/3600),n=flash.tranint(t%3600/60);return e>0?e+Global.lang.getLang("lang_client_454"):i>0?i+Global.lang.getLang("lang_client_455"):n>0?n+Global.lang.getLang("lang_client_456"):""+Global.lang.getLang("lang_client_457")},t.formatToTime_V6=function(t){var e=new flash.As3Date(1e3*t),i=e.hoursUTC<10?"0"+e.hoursUTC:""+e.hoursUTC,n=e.millisecondsUTC<10?"0"+e.millisecondsUTC:""+e.millisecondsUTC,r=e.secondsUTC<10?"0"+e.secondsUTC:""+e.secondsUTC;return e.monthUTC+1+Global.lang.getLang("lang_client_476")+e.dateUTC+Global.lang.getLang("lang_client_477")+i+":"+n+":"+r},t.formatToTime_V7=function(t){var e=new flash.As3Date(1e3*t),i=e.minutes,n=e.hours,r=0==i?"00":i.toString(),o=0==n?"00":n.toString();return o+":"+r},t.formatToTime_V8=function(t){var e=t%60,i=(t-e)/60%60,n=(t-60*i-e)/3600,r=10>e?"0"+e+Global.lang.getLang("lang_client_480"):e+Global.lang.getLang("lang_client_480"),o=10>i?"0"+i+Global.lang.getLang("lang_client_456"):i+Global.lang.getLang("lang_client_456"),s=10>n?"0"+n+Global.lang.getLang("lang_client_455"):n+Global.lang.getLang("lang_client_455");return s+o+r},t.formatToTime_V9=function(t){if(0>t)return""+Global.lang.getLang("lang_client_464");var e=flash.tranint(t/86400),i=flash.tranint(t%86400/3600),n=flash.tranint(t%3600/60),r=flash.tranint(t%60);return(e>0?e+Global.lang.getLang("lang_client_454"):"")+(i>0?i+Global.lang.getLang("lang_client_455"):"")+(n>0?n+Global.lang.getLang("lang_client_456"):"")+(r+Global.lang.getLang("lang_client_468"))},t.formatToTime_V10=function(t){var e=new flash.As3Date(1e3*t),i=e.hours<10?"0"+e.hours:""+e.hours,n=e.minutes<10?"0"+e.minutes:""+e.minutes,r=e.seconds<10?"0"+e.seconds:""+e.seconds;return e.month+1+Global.lang.getLang("lang_client_476")+e.date+Global.lang.getLang("lang_client_477")+" "+i+":"+n+":"+r},t.formatToTime_V11=function(t){var e=flash.tranint(t/86400),i=flash.tranint(t%86400/3600),n=flash.tranint(t%3600/60),r=flash.tranint(t%60);return(e>0?e+Global.lang.getLang("lang_client_454"):"")+(i>0?i+Global.lang.getLang("lang_client_478"):"")+(n>0?n+Global.lang.getLang("lang_client_479"):"")+(r+Global.lang.getLang("lang_client_480"))},t.formatToTime_V12=function(t){var e=new flash.As3Date(1e3*t),i=e.hours<10?"0"+e.hours:""+e.hours;return e.month+1+Global.lang.getLang("lang_client_476")+e.date+Global.lang.getLang("lang_client_477")+i+Global.lang.getLang("lang_client_478")},t.formatToTime_V13=function(t){var e=flash.tranint(t/86400),i=flash.tranint(t%86400/3600);flash.tranint(t%3600/60);return e+Global.lang.getLang("lang_client_454")+i+Global.lang.getLang("lang_client_455")},t.formatToTime_V14=function(t){var e=new flash.As3Date(1e3*t),i=e.hours<10?"0"+e.hours:""+e.hours,n=e.minutes<10?"0"+e.minutes:""+e.minutes;e.seconds<10?"0"+e.seconds:""+e.seconds;return e.month+1+Global.lang.getLang("lang_client_476")+e.date+Global.lang.getLang("lang_client_477")+" "+i+":"+n},t.formatToTime_V15=function(t){var e=new flash.As3Date(1e3*t),i=e.hours<10?"0"+e.hours:""+e.hours,n=e.minutes<10?"0"+e.minutes:""+e.minutes;e.seconds<10?"0"+e.seconds:""+e.seconds;return i+":"+n},t.convertTime=function(t,e){void 0===e&&(e=":");var i=flash.tranint(t/3600),n=flash.tranint(t%3600/60),r=flash.tranint(t%60);
return(10>i?"0"+i:""+i)+e+(10>n?"0"+n:""+n)+e+(10>r?"0"+r:""+r)},t.getTodayMaxUtc=function(){var t=new flash.As3Date(com.time.ServerTime.serverTime);return t.setHours(23,59,59,999),flash.tranint(.001*t.getTime())},t.getTodayMinUtc=function(){var t=new flash.As3Date(com.time.ServerTime.serverTime);return t.setHours(0,0,0,0),flash.tranint(.001*t.getTime())},t.resloveFormatLastLoginTime=function(t){var e="",i=new flash.As3Date(1e3*t);return e=i.fullYear+Global.lang.getLang("lang_client_475")+(i.month+1)+Global.lang.getLang("lang_client_476")+i.date+Global.lang.getLang("lang_client_477")+i.hours+Global.lang.getLang("lang_client_478")+i.minutes+Global.lang.getLang("lang_client_479")+i.seconds+Global.lang.getLang("lang_client_480")},t.formatTimeToLog=function(t){var e,i=new flash.As3Date(t),n=i.hours,r=i.minutes,o=i.seconds;return e=i.fullYear+"-"+(i.month+1)+"-"+i.date+" "+(10>n?"0"+n:""+n)+":"+(10>r?"0"+r:""+r)+":"+(10>o?"0"+o:""+o)+":"+i.milliseconds},t.resloveFormatHMS=function(t){var e=new flash.As3Date(1e3*t),i=e.hours,n=e.minutes,r=e.seconds;return(10>i?"0"+i:""+i)+":"+(10>n?"0"+n:""+n)+":"+(10>r?"0"+r:""+r)},t.formatTimeToDay=function(t){var e="",i=new flash.As3Date(1e3*t);return e=i.fullYear+Global.lang.getLang("lang_client_475")+(i.month+1)+Global.lang.getLang("lang_client_476")+i.date+Global.lang.getLang("lang_client_477")},t.formatTimeToMin=function(t){var e="",i=new flash.As3Date(1e3*t);return e=i.fullYear+Global.lang.getLang("lang_client_475")+(i.month+1)+Global.lang.getLang("lang_client_476")+i.date+Global.lang.getLang("lang_client_477")+i.hours+Global.lang.getLang("lang_client_478")+i.minutes+Global.lang.getLang("lang_client_479")},t.formatTimeToMin2=function(t){var e="",i=new flash.As3Date(1e3*t);return e=i.fullYear+Global.lang.getLang("lang_client_475")+(i.month+1)+Global.lang.getLang("lang_client_476")+i.date+Global.lang.getLang("lang_client_477")+(i.hours<10?"0"+i.hours:""+i.hours)+":"+(i.minutes<10?"0"+i.minutes:""+i.minutes)},t.formatTimeToSec2=function(t){var e="",i=new flash.As3Date(1e3*t);return e=i.fullYear+Global.lang.getLang("lang_client_475")+(i.month+1)+Global.lang.getLang("lang_client_476")+i.date+Global.lang.getLang("lang_client_477")+(i.hours<10?"0"+i.hours:""+i.hours)+":"+(i.minutes<10?"0"+i.minutes:""+i.minutes)+":"+(i.seconds<10?"0"+i.seconds:""+i.seconds)},t.formatTimeToMinSec=function(t){if(0>t)return"00:00";var e=parseInt(""+t/60),i=parseInt(""+t%60),n=(e>=10?e:"0"+e)+":"+(i>=10?i:"0"+i);return n},t.formatTimeToMinSec2=function(t){var e=t/60,i=t%60,n=i>0?e+Global.lang.getLang("lang_client_479")+i+Global.lang.getLang("lang_client_480"):e+Global.lang.getLang("lang_client_479")+Global.lang.getLang("lang_client_481");return n},t.format=function(t,e){void 0===t&&(t=null),void 0===e&&(e="Y-M-D h:m:s"),null==t&&(t=new flash.As3Date);var i=t.fullYear,n=t.month+1,r=t.date,o=(t.hours>9?"":"0")+t.hours,s=(t.minutes>9?"":"0")+t.minutes,a=(t.seconds>9?"":"0")+t.seconds;return i+"-"+n+"-"+r+" "+o+":"+s+":"+a},t.formatV2=function(t,e){void 0===e&&(e="Y-M-D h:m:s");var i=new flash.As3Date(1e3*t),n=i.fullYear,r=i.month+1<10?"0"+String(i.month+1):String(i.month+1),o=i.date<10?"0"+i.date.toString():i.date.toString(),s=(i.hours>9?"":"0")+i.hours,a=(i.minutes>9?"":"0")+i.minutes,l=(i.seconds>9?"":"0")+i.seconds;return n+"-"+r+"-"+o+" "+s+":"+a+":"+l},t.timeBackTo=function(t){var e=1e3*com.time.ServerTime.getServerTime(),i=parseInt(""+(e-t)/1e3),n="";return n=60>i?parseInt(""+i)+Global.lang.getLang("lang_client_480"):3600>i?parseInt(""+i/60)+Global.lang.getLang("lang_client_456"):86400>i?parseInt(""+i/3600)+Global.lang.getLang("lang_client_455"):parseInt(""+i/86400)+Global.lang.getLang("lang_client_454"),Global.lang.getLang("lang_panel_63",n)},t.getSubstitute=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)return"";var n,r=e.length;1==r&&flash.As3is(e[0],Array)?(n=e[0],r=n.length):n=e;for(var o=0;r>o;o++)t=t.replace(new RegExp("\\{"+o+"\\}","g"),n[o]);return t},t.getIndexStr=function(t,e,i,n,r){if(void 0===i&&(i=";"),void 0===n&&(n=0),void 0===r&&(r=0),null==t||""==t||0>=e)return"";var o=t.split(i);if(null!=o){var s=o[e-1];return s}return""},t.getDictionaryByJson=function(t){if(null==t||t.length<=0)return null;var e=/([{,，])\s*([0-9a-zA-Z一-龟]+)\s*:/g,i=t.replace(e,'$1"$2":'),n=i,r=JSON.parse(n),o=new flash.Dictionary;for(var s in r)o.setItem(String(s),r[s]);return o},t.formatToJson=function(t){t="{"+t.substring(1,t.length-1)+"}";var e=/([{,，])\s*([0-9a-zA-Z一-龟]+)\s*:/g,i=t.replace(e,'$1"$2":');return i},t.getArrayByJson=function(t){if(null==t||t.length<=0)return[];var e=/([{,，])\s*([0-9a-zA-Z一-龟]+)\s*:/g,i=t.replace(e,'$1"$2":'),n=i,r=JSON.parse(n),o=new Array;for(var s in r)o.push(r[s]);return o},t.getObjectByJson=function(t){if(null==t||t.length<=0)return null;var e=/([{,，])\s*([0-9a-zA-Z一-龟]+)\s*:/g,i=t.replace(e,'$1"$2":'),n=i,r=JSON.parse(n);return r},t.getTipStrByAattribute=function(t){return t=t.replace("[","").replace("]","").replace(/\,/g,"\n")},t}();__reflect(StringFormat.prototype,"StringFormat");var com;!function(t){var e;!function(t){var e=function(){function t(){}return t.getStringBytesLength=function(t){if(!t)return 0;for(var e=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n>=1&&126>=n||n>=65376&&65439>=n?e++:e+=t.charCodeAt(i)>127||94==t.charCodeAt(i)?2:3}return e},t.fillArray=function(t,e,i){void 0===i&&(i=null);var n=t;if(flash.Boolean(e))for(var r=e.split(","),o=flash.checkInt(0),s=flash.checkInt(Math.min(n.length,r.length));s>o;o++){var a=r[o];n[o]="true"==a?!0:"false"==a?!1:a,null!=i&&(n[o]=a)}return n},t.rectToString=function(t){return t?t.x+","+t.y+","+t.width+","+t.height:null},t.getColorHtmlText=function(t,e){return void 0===e&&(e="#00ff00"),"<font color='"+e+"'>"+t+"</font>"},t.isEmail=function(e){if(null==e)return!1;e=t.trim(e);var i=/(\w|[_.\-])+@((\w|-)+\.)+\w{2,4}/,n=i.exec(e);return null==n?!1:!0},t.trim=function(e){return null==e?null:t.rtrim(t.ltrim(e))},t.ltrim=function(t){if(null==t)return null;var e=/^\s*/;return t.replace(e,"")},t.rtrim=function(t){if(null==t)return null;var e=/\s*$/;return t.replace(e,"")},t.removeHTMLTag=function(t){return null==t?t:t.replace(/<.*?>/g,"")},t.fromString=function(t){var e;if(t){var i=GLong.fromString(t);e={low:i.low,high:i.high,unsigned:i.unsigned}}return e},t}();t.StringUtils=e,__reflect(e.prototype,"com.utils.StringUtils")}(e=t.utils||(t.utils={}))}(com||(com={}));var UrlUtil=function(){function t(){}return t.getAction=function(t){return t.length<3&&(t="0"+t),t.length<3&&(t="0"+t),t},t.getCommonAssetsUrl=function(e,i){void 0===i&&(i=201);var n=t.getAction(i+"");return t.AVATAR+e+"/"+n+"/"+n+t.resGfx},t.getGoodIconUrl=function(e){return t.URL_GOODS_ICON+e+t.resPng},t.getPanelUrl=function(e,i,n){return void 0===n&&(n=".jpg"),t.PANEL+i+"/"+e+n},t.getPanelRes=function(e,i,n){return void 0===i&&(i=""),void 0===n&&(n=".jpg"),""!=i&&(i+="/"),t.PANEL+i+e+n},t.getEffectImgUrl=function(e){return t.EFFECT+"normal/"+e+t.resPng},t.getSoundUrl=function(e){return t.SOUND+e+t.resMP3},t.getVideoAdUrl=function(e){return t.VIDEO+e+t.resMP4},t.getVideoAdImgUrl=function(e){return t.VIDEO+e+t.resJpg},t.resPng=".png",t.resJpg=".jpg",t.resMP3=".mp3",t.resMP4=".mp4",t.resJson=".json",t.resTmx=".tmx",t.resGfx=".gfx",t.resBytes=".bytes",t.resExml=".exml",t.RESOURCE="resource/",t.ASSETS=t.RESOURCE+"assets/res/",t.AVATAR=t.ASSETS+"avatar/",t.EFFECT=t.ASSETS+"effect/",t.ICON=t.ASSETS+"icon/",t.PANEL=t.ASSETS+"panel/",t.FONT=t.ASSETS+"font/",t.SOUND=t.ASSETS+"sound/",t.VIDEO=t.ASSETS+"video/",t.URL_GOODS_ICON=t.ICON+"goods/",t.FONT_1=t.FONT+"Fonts_0.ttf",t}();__reflect(UrlUtil.prototype,"UrlUtil");var com;!function(t){var e;!function(t){var e=function(){function t(t,e){this._x=0/0,this._y=0/0,this._x=t,this._y=e}return t.prototype.clone=function(){return new t(this._x,this._y)},t.prototype.zero=function(){return this._x=0,this._y=0,this},t.prototype.isZero=function(){return 0==this._x&&0==this._y},Object.defineProperty(t.prototype,"angle",{get:function(){return Math.atan2(this._y,this._x)},set:function(t){var e=this.length;this._x=Math.cos(t)*e,this._y=Math.sin(t)*e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return Math.sqrt(this.lengthSQ)},set:function(t){var e=this.angle;this._x=Math.cos(e)*t,this._y=Math.sin(e)*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lengthSQ",{get:function(){return this._x*this._x+this._y*this._y},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){if(0==this.length)return this._x=1,this;var t=this.length;return this._x/=t,this._y/=t,this},t.prototype.truncate=function(t){return this.length=Math.min(t,this.length),this},t.prototype.reverse=function(){return this._x=-this._x,this._y=-this._y,this},t.prototype.isNormalized=function(){return 1==this.length},t.prototype.dotProd=function(t){return this._x*t.x+this._y*t.y},t.prototype.crossProd=function(t){return this._x*t.y-this._y*t.x==0},t.angleBetween=function(t,e){return t.isNormalized()||(t=t.clone().normalize()),e.isNormalized()||(e=e.clone().normalize()),Math.acos(t.dotProd(e))},t.prototype.sign=function(t){return this.perp.dotProd(t)<0?-1:1},Object.defineProperty(t.prototype,"perp",{get:function(){return new t(-this.y,this.x)},enumerable:!0,configurable:!0}),t.prototype.dist=function(t){return Math.sqrt(this.distSQ(t))},t.prototype.distSQ=function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},t.prototype.add=function(e){return new t(this._x+e.x,this._y+e.y)},t.prototype.subtract=function(e){return new t(this._x-e.x,this.y-e.y)},t.prototype.multiply=function(e){return new t(this._x*e,this._y*e)},t.prototype.divide=function(e){return new t(this._x/e,this._y/e)},t.prototype.equals=function(t){return this._x==t.x&&this._y==t.y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t}();t.Vector2D=e,__reflect(e.prototype,"com.utils.Vector2D")}(e=t.utils||(t.utils={}))}(com||(com={}));var fairui;!function(t){var e=function(){function t(t,e,i,n,r,o,s,a){void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=0),this.canDispose=!0,this.showBottomBtn=!0,this.panelid=t,this.panelType=e,this.res=i,this.loadingTip=Global.lang.getLang(n),this.className=r,this.canDispose=o,this.showBottomBtn=s,this.funcId=a}return t.prototype.onProgress=function(t,e){EventManager.dispatchEvent(GameEvent.LOAD_PROGRESS,this.panelid,t,e)},t}();t.PanelInfo=e,__reflect(e.prototype,"fairui.PanelInfo",["RES.PromiseTaskReporter"])}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function e(){}return e.registerClass=function(t,e,i){t&&!fairygui.UIPackage.getById(t)&&fairygui.UIPackage.addPackage(t);var n=fairygui.UIPackage.getItemURL(t,e);fairygui.UIObjectFactory.setPackageItemExtension(n,i)},e.createGObject=function(t,e){return fairygui.UIPackage.createObjectFromURL(fairygui.UIPackage.getItemURL(t,e))},e.registerPanels=function(){e.register(EnumPanelID.MAIN_LOADING,new t.PanelInfo(EnumPanelID.MAIN_LOADING,EnumPanel.TYPE_ALERT,"","",t.LoadingPanel,!1,!0))},e.register=function(t,i){e.dmap.setItem(t,i),e.dmap.setItem(i,t)},e.getPanel=function(t){return this.dmap.getItem(t)},e.getPanelId=function(i){var n=-1;return i instanceof t.BasePanel&&i.panelInfo&&(n=e.getPanel(i.panelInfo)),n},e.removeRegister=function(t){if(e.dmap.hasOwnProperty(t)){var i=e.dmap.getItem(t);null!=i&&(e.dmap.delItem(t),i=null)}},e.dmap=new flash.Dictionary,e}();t.PanelRegister=e,__reflect(e.prototype,"fairui.PanelRegister")}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function e(){}return e.init=function(i){this.parent?this.parent.removeChild(fairygui.GRoot.inst.displayObject):(e.mainLayer=new t.BaseSprite,e.windowLayer=new t.BaseSprite,e.promptLayer=new t.BaseSprite,e.topLayer=new t.BaseSprite,e.alertLayer=new t.BaseSprite,e.tipLayer=new t.BaseSprite,e.guideLayer=new t.BaseSprite),i.addChild(fairygui.GRoot.inst.displayObject),this.parent=i,fairygui.GRoot.inst.addChild(e.mainLayer),fairygui.GRoot.inst.addChild(e.windowLayer),fairygui.GRoot.inst.addChild(e.promptLayer),fairygui.GRoot.inst.addChild(e.alertLayer),fairygui.GRoot.inst.addChild(e.topLayer),fairygui.GRoot.inst.addChild(e.tipLayer),fairygui.GRoot.inst.addChild(e.guideLayer),fairygui.UIContainer.prototype.$hitTest=function(t,e){var i=egret.DisplayObjectContainer.prototype.$hitTest.apply(this,[t,e]);return i!=this||this.touchEnabled&&null!=this._hitArea?i:null}},e.initCommon=function(){fairygui.UIConfig.defaultFont=Global.defaultFont,fairygui.UIConfig.defaultComboBoxVisibleItemCount=5,fairygui.UIPackage.addPackage("common"),t.PanelRegister.registerClass("common","BaseSprite",t.BaseSprite),t.PanelRegister.registerClass("common","BaseTextField",t.BaseTextField),t.PanelRegister.registerClass("common","EButton",t.EButton),t.PanelRegister.registerClass("common","ECButton",t.ECButton),t.PanelRegister.registerClass("common","ESButton",t.ESButton),t.PanelRegister.registerClass("common","ESCButton",t.ESCButton),t.PanelRegister.registerClass("common","UIBitmapIcon",t.UIBitmapIcon),t.PanelRegister.registerClass("common","UIBitmapIcon2",t.UIBitmapIcon2),t.PanelRegister.registerClass("common","UIDropDownList",t.UIDropDownList),t.PanelRegister.registerClass("common","UILabel",t.UILabel),t.PanelRegister.registerClass("common","HSlider",t.HSlider),t.PanelRegister.registerClass("common","HEGList",t.HEGList),t.PanelRegister.registerClass("common","ProgressBar",t.ProgressBar),t.PanelRegister.registerClass("common","ECheckBox",t.ECheckbox),t.PanelRegister.registerClass("common","ExpStar",t.ExpStar),t.PanelRegister.registerClass("common","UITextInput",t.UITextInput),t.PanelRegister.registerClass("common","UINumberItemComp",t.UINumberItemComp),t.PanelRegister.registerClass("common","LabButton",t.LabButton),t.PanelRegister.registerClass("common","ReverseMask",t.ReverseMask),t.PanelRegister.registerClass("common","TipBottomItem",t.TipBottomItem)},e.openPanel=function(e,i,n,r,o){void 0===i&&(i=null),void 0===n&&(n=0/0),void 0===r&&(r=0/0),void 0===o&&(o=null);try{var s=this.cachePanelMap.getItem(e),a=t.PanelRegister.getPanel(e);if(null==a)return Global.log.error(this,"没有对应面板 panelId:"+e),void(null!=o&&o());if(this.isLoading(e))return;var l=this.getPanelTypeLayer(a.panelType);null==s?a?(a.callback=this.loadCompeteAndOpenPanel,a.callbackParams=[e,i,l,n,r,o],a.res&&!t.LoaderManager.hasLoadAllGroups(a.res)?(this.openPanel(EnumPanelID.MAIN_LOADING,{text:a.loadingTip,panelId:e}),t.LoaderManager.loadGroups(a.res,a.callback,this,a.callbackParams)):this.loadCompeteAndOpenPanel(e,i,l,n,r,o)):t.Alert.show(Global.lang.getLang("panel_error_1",e)):null==s.parent?this.loadCompeteAndOpenPanel(e,i,l,n,r,o):(a.callbackParams=[e,i,l,n,r,o],null!=a.callback&&a.callback.apply(this,a.callbackParams))}catch(h){Global.log.error(this,"FairyUIManager.openPanel Id["+e+"] Error.",h)}},e.loadCompeteAndOpenPanel=function(e,i,n,r,o,s){void 0===n&&(n=null),void 0===r&&(r=0/0),void 0===o&&(o=0/0),void 0===s&&(s=null),e!=EnumPanelID.MAIN_LOADING&&this.closePanel(EnumPanelID.MAIN_LOADING);var a;a=e instanceof t.BasePanel?t.PanelRegister.getPanelId(e):e;var l=t.PanelRegister.getPanel(a);if(e=this.cachePanelMap.getItem(a),null==e){var h=l.className;e=new h,e.panelInfo=l,this.cachePanelMap.setItem(a,e)}n.addChild(e),isNaN(r)&&isNaN(o)?l.panelType==EnumPanel.TYPE_BOTTOM?(e.x=Global.stageWidth-e.width>>1,e.y=Global.stageHeight-e.height):(e.x=Global.stageWidth-e.width>>1,e.y=Global.stageHeight-e.height>>1):(e.x=r,e.y=o),e.show(i),null!=s&&s()},e.getPanelTypeLayer=function(t){switch(t){case EnumPanel.TYPE_BOTTOM:return this.mainLayer;case EnumPanel.TYPE_WINDOW1:return this.windowLayer;case EnumPanel.TYPE_WINDOW2:return this.topLayer;case EnumPanel.TYPE_ALERT:return this.alertLayer;case EnumPanel.TYPE_TIPS:return this.tipLayer;case EnumPanel.TYPE_MAIUI:return this.windowLayer;case EnumPanel.TYPE_Guide:return this.guideLayer;default:return null}},e.isLoading=function(t){return!1},e.getPanel=function(t){return this.cachePanelMap.getItem(t)},e.closePanel=function(e,i,n,r){void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=!1);try{var o=void 0;egret.is(e,"fairui.BasePanel")?o=t.PanelRegister.getPanelId(e):(o=e,e=this.cachePanelMap.getItem(o)),e&&(null!=e.parent&&(e.parent.removeChild(e),e.hide()),i&&(e.dispose(),e=null,this.cachePanelMap.delItem(o))),n&&t.PanelRegister.removeRegister(o)}catch(s){Global.log.error(this,"FairyUIManager.closePanel Id["+e+"] Error.",s)}},e.parent=null,e.tipLayer=null,e.guideLayer=null,e.cachePanelMap=new flash.Dictionary,e}();t.FairyUIManager=e,__reflect(e.prototype,"fairui.FairyUIManager")}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function t(){}return t.loadImageRes=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),e=e||this;var r=this,o=this.getRes(t);null!=o?null!=i&&(n=n||[],n.unshift(o),i.apply(e,n)):RES.getResByUrl(t,function(o,s){null!=i&&(r.sourceMap.setItem(t,o),n=n||[],n.unshift(o),i.apply(e,n))},e,RES.ResourceItem.TYPE_IMAGE)},t.getRes=function(t,e){void 0===e&&(e=null);var i=this.sourceMap.getItem(t);if(null!=i){var n=this.targetMap.getItem(t);null==n&&(n=new Array,this.targetMap.setItem(t,n)),-1==n.indexOf(e)&&n.push(e)}return i},t.disposeTarget=function(t,e,i){void 0===i&&(i=!1);var n=this.targetMap.getItem(t);if(n&&n.length>0){var r=n.indexOf(e);-1!=r&&n.splice(r,1)}(null==n||n.length<=0||i)&&(this.targetMap.delItem(t),this.disposeRes(t),n=null)},t.disposeRes=function(t){var e=this.getRes(t);null!=e&&(this.sourceMap.delItem(t),e.dispose(),e=null,RES.destroyRes(t))},t.hasLoadAllGroups=function(t){for(var e=t.split(","),i="",n=0,r=e;n<r.length;n++)if(i=r[n],i&&!RES.isGroupLoaded(i))return!1;return!0},t.loadGroups=function(t,e,i,n,r){function o(t){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,function(e){e.groupName==t&&s()},this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,function(e){e.groupName==t&&s()},this),RES.loadGroup(t,0,r)}function s(){if(a.length<=0)null!=e&&e.apply(i,n);else{var t=a.shift();RES.isGroupLoaded(t)?s():o(t)}}void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null);var a=t.split(",");s()},t.sourceMap=new flash.Dictionary,t.targetMap=new flash.Dictionary,t}();t.LoaderManager=e,__reflect(e.prototype,"fairui.LoaderManager")}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function t(){}return t.getUrl=function(t,e){var i=fairygui.UIPackage.getItemURL(t,e);return i},t.getTextureBy=function(t,e){var i=fairygui.UIPackage.getItemURL(t,e);return this.getTexture(i)},t.getTexture=function(t){var e=fairygui.UIPackage.getItemByURL(t);return e&&e.load(),e?e.texture:null},t}();t.FairyTextureUtils=e,__reflect(e.prototype,"fairui.FairyTextureUtils")}(fairui||(fairui={}));var Config=function(){function t(){}return Object.defineProperty(t,"playSound",{get:function(){return App.sound.playType},set:function(t){App.sound.playType=t},enumerable:!0,configurable:!0}),t.gotoHeartBeat=function(){t.clearHeartBeat(),t.isActivate||(t.lastTimeOut=setTimeout(t.gotoHeartBeat,6e4))},t.clearHeartBeat=function(){t.lastTimeOut&&clearTimeout(t.lastTimeOut),t.lastTimeOut=null},t.GAME_FPS=30,t.releaseVersion="201808102134",t.isDebug=!0,t.showItemId=!1,t.isAutoGame=!1,t.isGuide=!1,t.mapId=0,t.isFristEnterMap=!0,t.msgServerVerson=0,t.currentGameFps=t.GAME_FPS,t.isSubstitute=!1,t.useTxtFilters=!1,t.useParticleType=!0,t.isActivate=!0,t.inGame=!1,t.locale="zh_TW",t.playBGM=!0,t}();__reflect(Config.prototype,"Config");var fairui;!function(t){var e=function(){function t(){}return t.getHFilter=function(){var t="\n				attribute vec2 aVertexPosition;\n				attribute vec2 aTextureCoord;\n				attribute vec2 aColor;\n\n				uniform vec2 projectionVector;\n\n				varying vec2 vTextureCoord;\n				varying vec4 vColor;\n\n				const vec2 center = vec2(-1.0, 1.0);\n\n				void main(void) {\n					gl_Position = vec4( (aVertexPosition / projectionVector) + center , 0.0, 1.0);\n					vTextureCoord = aTextureCoord;\n					vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n				}\n			",e="\n				precision lowp float;\n				varying vec2 vTextureCoord;\n				varying vec4 vColor;\n				uniform sampler2D uSampler;\n\n				uniform float angle;\n				uniform float scale;\n\n				void main(void) {\n					vec2 uv = vTextureCoord.xy;\n					vec2 texCoord = uv;\n					float tx,ty,cosVal;\n					cosVal = cos(angle);\n					if(uv.x <= 0.5) {\n						tx = 0.5 - (0.5-uv.x)/cosVal;\n						if(tx < 0.0) {\n							gl_FragColor = vec4(0,0,0,0);\n						} else {\n							if(cosVal < 0.0) {\n								texCoord.x = 1.0 - tx;\n							} else {\n								texCoord.x = tx;\n							}\n							ty = 0.5 - tx;\n							ty = 2.0*ty*scale;\n							texCoord.y = (ty+uv.y)/(1.0+(2.0*ty));\n							gl_FragColor = texture2D(uSampler, texCoord);\n						}\n					} else {\n						tx =(uv.x-0.5)/cosVal;\n						if(tx > 0.5) {\n							gl_FragColor = vec4(0,0,0,0);\n						} else {\n							if(cosVal < 0.0) {\n								texCoord.x = 0.5-tx;\n							} else {\n								texCoord.x = 0.5+tx;\n							}\n							ty = tx;\n							ty = 2.0 * ty *scale; \n							texCoord.y = (uv.y - ty)/(1.0 -2.0*ty);\n							gl_FragColor = texture2D(uSampler, texCoord);\n						}\n					}\n				}\n			";return new egret.CustomFilter(t,e,{angle:0*Math.PI/180,scale:0})},t.getVFilter=function(){var t="\n				attribute vec2 aVertexPosition;\n				attribute vec2 aTextureCoord;\n				attribute vec2 aColor;\n\n				uniform vec2 projectionVector;\n\n				varying vec2 vTextureCoord;\n				varying vec4 vColor;\n\n				const vec2 center = vec2(-1.0, 1.0);\n\n				void main(void) {\n					gl_Position = vec4( (aVertexPosition / projectionVector) + center , 0.0, 1.0);\n					vTextureCoord = aTextureCoord;\n					vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n				}\n			",e="\n				precision lowp float;\n				varying vec2 vTextureCoord;\n				varying vec4 vColor;\n				uniform sampler2D uSampler;\n\n				uniform float angle;\n				uniform float scale;\n\n				void main(void) {\n					vec2 uv = vTextureCoord.xy;\n					vec2 texCoord = uv;\n					float tx,ty,cosVal;\n					cosVal = cos(angle);\n					if(uv.y <= 0.5) {\n						ty = 0.5 - (0.5-uv.y)/cosVal;\n						if(ty < 0.0) {\n							gl_FragColor = vec4(0,0,0,0);\n						} else {\n							if(cosVal < 0.0) {\n								texCoord.y = 1.0 - ty;\n							} else {\n								texCoord.y = ty;\n							}\n							tx = 0.5 - ty;\n							tx = 2.0*tx*scale;\n							texCoord.x = (tx+uv.x)/(1.0+(2.0*tx));\n							gl_FragColor = texture2D(uSampler, texCoord);\n						}\n					} else {\n						ty =(uv.y-0.5)/cosVal;\n						if(ty > 0.5) {\n							gl_FragColor = vec4(0,0,0,0);\n						} else {\n							if(cosVal < 0.0) {\n								texCoord.y = 0.5-ty;\n							} else {\n								texCoord.y = 0.5+ty;\n							}\n							tx = ty;\n							tx = 2.0 * tx *scale;\n							texCoord.x = (uv.x - tx)/(1.0 -2.0*tx);\n							gl_FragColor = texture2D(uSampler, texCoord);\n						}\n					}\n				}\n			";return new egret.CustomFilter(t,e,{angle:0*Math.PI/180,scale:0})},t}();t.ShaderUtils=e,__reflect(e.prototype,"fairui.ShaderUtils")}(fairui||(fairui={}));var App=function(){function t(){}return t.init=function(e){t.mainUI=e,t.asset=new com.manager.AssetManager,t.config=new com.bean.DataManager,t.mousic=new com.manager.MousicManager,t.sound=new com.manager.SoundManager},Object.defineProperty(t,"stageX",{get:function(){return this._stageX},set:function(t){this._stageX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stageY",{get:function(){return this._stageY},set:function(t){this._stageY=t},enumerable:!0,configurable:!0}),t.refresh=function(){var t=location.href;location.href=t},t._stageX=0,t._stageY=0,t}();__reflect(App.prototype,"App");var GameClient=function(t){function e(){var e=t.call(this)||this;return e.gameLayer=new egret.Sprite,e.uiLayer=new egret.Sprite,e.addChild(e.gameLayer),e.addChild(e.uiLayer),fairui.FairyUIManager.init(e.uiLayer),fairui.LoaderManager.loadGroups("common",e.loadCommonComplete,e),e}return __extends(e,t),e.prototype.loadCommonComplete=function(){fairui.FairyUIManager.initCommon(),UISystem.Inst.createWindowView(fairui.UIAdVideoView)},e}(egret.DisplayObjectContainer);__reflect(GameClient.prototype,"GameClient");var fairui;!function(t){var e=function(e){function i(){return e.call(this,"common","AlertView")||this}return __extends(i,e),i.show=function(e,i,n,r){void 0===i&&(i=""),void 0===n&&(n=1),void 0===r&&(r=null),r=r||{},r.content=Global.lang.getLang(e),r.title=i,r.flag=n,t.FairyUIManager.openPanel(EnumPanelID.ALERT,r)},i.hide=function(){t.FairyUIManager.closePanel(EnumPanelID.ALERT)},i.prototype.init=function(){e.prototype.init.call(this)},i.prototype.initUI=function(){e.prototype.initUI.call(this)},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchOkHandler,this.btn_ok),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchCancelHandler,this.btn_cancel),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.close,this.btn_close)},i.prototype.touchOkHandler=function(t){if(this.close(!1),null!=this.data&&this.data.hasOwnProperty("okFunc")){var e=this.data.hasOwnProperty("okFuncParams")?this.data.okFuncParams:[];this.data.okFunc.apply(this.data.okFunc.owner,e)}},i.prototype.touchCancelHandler=function(t){if(this.close(!1),null!=this.data&&this.data.hasOwnProperty("cancelFunc")){var e=this.data.hasOwnProperty("cancelFuncParams")?this.data.cancelFuncParams:[];this.data.cancelFunc.apply(this.data.cancelFunc.owner,e)}},i.prototype.show=function(t){t&&t.hasOwnProperty("showMask")&&(this.openTapMask=t.showMask),e.prototype.show.call(this,t),null!=t&&(this.title=t.title,this.content=t.content,t.okTitle?this.btn_ok.text=t.okTitle:this.btn_ok.text=Global.lang.getLang("login_ui_txt1"),this.showBtn(t.flag),t.hasOwnProperty("showCloseBtn")&&1==t.showCloseBtn?this.btn_close.visible=!0:this.btn_close.visible=!1,t.hasOwnProperty("showText")?(this.btn_ok.text=t.showText[0],t.showText.length>1&&(this.btn_cancel.text=t.showText[1])):(this.btn_ok.text="确定",Global.lang.getLang("login_ui_txt1"),this.btn_cancel.text="取消"))},i.prototype.hide=function(){e.prototype.hide.call(this),this.hideMask()},Object.defineProperty(i.prototype,"title",{get:function(){return this.txt_title.text},set:function(t){this.txt_title.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.txt_content.text},set:function(t){this.txt_content.text=t||""},enumerable:!0,configurable:!0}),i.prototype.showBtn=function(t){void 0===t&&(t=1),null!=this.btn_ok&&this.btn_ok.removeFromParent(),null!=this.btn_cancel&&this.btn_cancel.removeFromParent(),t&i.OK&&this.view.addChild(this.btn_ok),t&i.CANCEL&&this.view.addChild(this.btn_cancel),this.setBtnXY()},i.prototype.setBtnXY=function(){null!=this.btn_ok.parent&&null!=this.btn_cancel.parent?(this.btn_ok.x=this.img_bg.x+297,this.btn_cancel.x=this.img_bg.x+63):null!=this.btn_ok.parent&&null==this.btn_cancel.parent&&(this.btn_ok.x=.5*(this.width-this.btn_ok.width)-10)},i.prototype.adjustBtnClosePos=function(){},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.hideMask(),this._data=null},i.NULL=0,i.OK=1,i.CANCEL=2,i}(t.BasePanel);t.Alert=e,__reflect(e.prototype,"fairui.Alert")}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function e(){}return e.showNoticeTypeMsg=function(t,i,n,r,o,s){void 0===n&&(n=1),void 0===r&&(r=!0),void 0===o&&(o=null),void 0===s&&(s=0),0!=(t&this.RIGHT),0!=(t&this.TOP)&&this.showTopMessage(i,this.TOP_COLOR,n),0!=(t&this.MIDDLE)&&this.showMiddleMessage(i),0!=(t&this.MOUSE)&&this.showMousePosMessage(i,this.MOUSE_COLOR,o),0!=(t&this.BOTTOM)&&this.showBottomMessage(i,e.BOTTOM_COLOR,0,s)},e.show=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},e.showTip=function(t,e,i,n){void 0===n&&(n=0);var r=this.getContentColor(i);switch(e){case this.TOP:this.showTopMessage(t,r);break;case this.MIDDLE:this.showMiddleMessage(t,r);break;case this.BOTTOM:this.showBottomMessage(t,r,0,n);break;case this.MOUSE:this.showMiddleMessage(t,r)}},e.getContentColor=function(t){if(void 0===t&&(t=0),null==this._colorJsonAry&&(this._colorJsonAry=JSON.parse('[{"type":0,"color":"#ff0000"},{"type":1,"color":"#7dff4f"},{"type":2,"color":"#00C8FA"},{"type":3,"color":"#ffffff"},{"type":4,"color":"#cccccc"},{"type":5,"color":"#ffff00"}]')),this._colorHash.hasOwnProperty(t))return this._colorHash.getItem(t);for(var e=0;e<this._colorJsonAry.length;e++)if(t==this._colorJsonAry[e].type){var i=this._colorJsonAry[e].color;this._colorHash.setItem(t,parseInt("0x"+i.substr(1)));break}return this._colorHash.getItem(t)},e.showGuideMessage=function(t){},e.showNoticeMessage=function(e){null==this._noticeMessage&&(this._noticeMessage=new t.GuideMessageView),this._noticeMessage.showNoticeMessage(e)},e.showTopMessage=function(e,i,n){if(void 0===i&&(i=16107597),void 0===n&&(n=1),null==this._topMessage&&(this._topMessage=new t.TopMessageView),1==n)this._topMessage.showTopMessage(e,i);else{var r=egret.getTimer(),o=Global.timer.doTimeLoop(3e4,flash.bind(this.showTop,this),[r,e,i,this],!1);this._topCountHash.setItem(r,n),this._clearIdHash.setItem(r,o),this.showTop(r,e,i)}},e.showTop=function(t,i,n,r){void 0===r&&(r=null),r=r||this;var o=e._topCountHash.getItem(t);0==o?(Global.timer.clearTimer(e._clearIdHash.getItem(t)),e._clearIdHash.delItem(t)):(e._topMessage.showTopMessage(i,n),e._topCountHash.setItem(t,o-1),o=e._topCountHash.getItem(t))},e.showMiddleMessage=function(e,i){void 0===i&&(i=15844864),null==this._middleMessage&&(this._middleMessage=new t.MiddleMessageView),this._middleMessage.showMiddleMessage(e,i)},e.checkHasBottomMessage=function(t){return null==this._bottomMessage?!1:this._bottomMessage.heightLightSameMsg(t)},e.showBottomMessage=function(e,i,n,r){if(void 0===i&&(i=16724736),void 0===n&&(n=0),void 0===r&&(r=0),!(null==e||e.length<=0)){if(e=Global.lang.getLang(e),n>0){var o=parseInt(""+this._tempHash.getItem(e)),s=egret.getTimer();if(o>0){var a=s-o;if(n>a)return}this._tempHash.setItem(e,s)}this.checkHasBottomMessage(e)?this._bottomAry.push([e,i,r,!0]):this._bottomAry.push([e,i,r,!1]);var l=this._bottomAry.length;null==this._bottomMessage&&(this._bottomMessage=new t.BottomMessageView),l>3?this._bottomMessage.show2():this._bottomMessage.show()}},Object.defineProperty(e,"bottomAry",{get:function(){return this._bottomAry},enumerable:!0,configurable:!0}),Object.defineProperty(e,"cornerAry",{get:function(){return this._cornerAry},enumerable:!0,configurable:!0}),Object.defineProperty(e,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),e.setMessage=function(t){for(;this._message.length>=this.MESSAGELENGTH;)this._message.shift();var e=StringFormat.resloveFormatHMS(.001*com.time.ServerTime.serverTime),i=e+"    "+t;this._message.push(i),EventManager.dispatchEvent(GameEvent.ADD_MESSAGE,i)},e.showMouseMessageById=function(t,e){void 0===e&&(e=null);for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];e=e||[],e.unshift(t);var r=Global.lang.getLang.apply(Global.lang,e);i=i||[],i.unshift(r),this.showMousePosMessage.apply(this,i)},e.showMousePosMessage=function(i,n,r,o,s,a,l){void 0===n&&(n=e.MOUSE_COLOR),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===l&&(l=0),this._oldStr==i&&egret.getTimer()-this._oldStrTime<=3e3&&a||(this._oldStrTime=egret.getTimer(),this._oldStr=i,s?(this._mouseMsgAry.push([i,n,r,o,l]),null==this._loopId&&(this.loopShowMouseMsg(r,this,o,l),this._loopId=Global.timer.doTimeLoop(200,flash.bind(this.loopShowMouseMsg,this),[r,this,o,l]))):(null==this._mousePosMessage&&(this._mousePosMessage=new t.MousePosMessageView),this._mousePosMessage.showMousePosMessage(i,n,r,o,l)))},e.loopShowMouseMsg=function(i,n,r,o){if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=0),n=n||this,0==e._mouseMsgAry.length)e._loopId&&(Global.timer.clearTimer(n._loopId),n._loopId=null);
else{var s=e._mouseMsgAry.shift(),a=s[0],l=s[1];i=s[2]||i,r=s[3]||r,o=s[4]||o;var h=t.MousePosMessageView.create();h.showMousePosMessage(a,l,i,r,o)}},e.debugMousePosNotice=function(t){Config.isDebug&&e.showMousePosMessage(t)},e.debugBottomNotice=function(t,i){void 0===i&&(i=16724736),Config.isDebug&&e.showBottomMessage(t,i)},e.debugTopNotice=function(t,i){void 0===i&&(i=16724736),Config.isDebug&&e.showTopMessage(t,i)},e.debugShow=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];Config.isDebug&&e.show(t,i)},e.GUIDE=0,e.LEFT=1,e.RIGHT=2,e.TOP=4,e.MIDDLE=8,e.MOUSE=16,e.BOTTOM=32,e.BUFF=64,e.GMCMD=128,e.GUILD=256,e.TEAM=512,e.ALERT=1024,e.TOP_COLOR=16107597,e.MIDDLE_COLOR=15844864,e.BOTTOM_COLOR=16724736,e.MOUSE_COLOR=16724736,e.CORNER_COLOR=14604487,e.BUFF_COLOR=65280,e._colorHash=new flash.Dictionary,e._clearIdHash=new flash.Dictionary,e._topCountHash=new flash.Dictionary,e._tempHash=new flash.Dictionary,e._curTime=0,e._bottomAry=[],e._cornerAry=[],e._message=[],e.MESSAGELENGTH=100,e.dieMessageAry=[],e._mouseMsgAry=[],e}();t.Notice=e,__reflect(e.prototype,"fairui.Notice")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._target=null,t._onUpdate=null,t._onComplete=null,t._thisObj=null,t._isMoving=!1,t._texture=null,t}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t),this.initUI()},i.prototype.initUI=function(){this.sp.blendMode=egret.BlendMode.ERASE},i.prototype.setTarget=function(t,e,i,n){this._target=t,this._onUpdate=e,this._onComplete=i,this._thisObj=n},i.prototype.moveTo=function(e,i,n,r){function o(n){a.moveCircle(e,i,n.value.x,n.value.y),a._target instanceof t.ELoader&&(a._target.texture=a.texture),a._onUpdate&&a._onUpdate.apply(a._thisObj)}function s(){a.moveCircle(e,i,n,r),a._target instanceof t.ELoader&&(a._target.pixelHitTest=!0,a._target.texture=a.texture),a._isMoving=!1,a._onComplete&&a._onComplete.apply(a._thisObj)}var a=this;return this._target&&!this._target.parent?(this.moveCircle(e,i,n,r),void(a._onComplete&&a._onComplete.apply(a._thisObj))):(this.sp.width=2*n,this.sp.height=2*r,this._isMoving=!0,void fairygui.GTween.to2(this.sp.width,this.sp.height,n,r,.4).setTarget(this.sp,this).onUpdate(o,this).onComplete(s,this))},i.prototype.moveCircle=function(t,e,i,n){t=parseInt(""+t),e=parseInt(""+e),i=parseInt(i+""),n=parseInt(n+""),t=t%2==1?t+1:t,e=e%2==1?e+1:e,i=i%2==1?i+1:i,n=n%2==1?n+1:n,this.sp.setXY(t,e),this.sp.setSize(i,n)},Object.defineProperty(i.prototype,"texture",{get:function(){return null==this._texture&&(this._texture=new egret.RenderTexture),this._texture.drawToTexture(this._container),this._texture},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isMoving",{get:function(){return this._isMoving},enumerable:!0,configurable:!0}),i.prototype.clear=function(){e.prototype.clear.call(this),this._isMoving=!1},i.prototype.dispose=function(){e.prototype.dispose.call(this),this._texture&&this._texture.dispose(),this._texture=null,this._target=null,this._onUpdate=null,this._onComplete=null,this._thisObj=null,this.sp=null,this.bg=null,this._isMoving=!1},i}(t.BaseSprite);t.ReverseMask=e,__reflect(e.prototype,"fairui.ReverseMask")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this,"common","UIReverseMaskView")||this;return t._target=null,t._dir=2,t._other=null,t}return __extends(i,e),i.prototype.initUI=function(){e.prototype.initUI.call(this),this.circle.downScaled=!1,this.maskClick=!1,this.eloader_icon.touchable=!0,this.rmsk=t.PanelRegister.createGObject("common","ReverseMask"),t.FairyUtils.setVar(this.rmsk,this),this.rmsk.setTarget(this.eloader_icon,this.onUpdate,this.onComplete,this)},i.prototype.initData=function(t){if(e.prototype.initData.call(this,t),"msk"==t)return this.currentState="msk",void this.onResize();var i=t[0];this._dir=t[1];var n=t[2];this._other=t[3],this.currentState=n?"must":"nomust",this.img_arrow.visible=!1,2==this._dir||0==this._dir?(this.img_arrow.scaleX=1,this.img_arrow.scaleY=-1,this.img_arrow.rotation=0):8==this._dir?(this.img_arrow.scaleX=this.img_arrow.scaleY=1,this.img_arrow.rotation=0):4==this._dir?(this.img_arrow.scaleX=1,this.img_arrow.scaleY=-1,this.img_arrow.rotation=50):6==this._dir&&(this.img_arrow.scaleX=1,this.img_arrow.scaleY=1,this.img_arrow.rotation=50),this.onResize(),this.setTarget(i)},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_BEGIN,this.beginGuide,this,Global.stage)},i.prototype.RemoveRootListener=function(){e.prototype.removeAllListener.call(this),this.removeGameListener(egret.TouchEvent.TOUCH_BEGIN,this.beginGuide,this,Global.stage)},i.prototype.beginGuide=function(t){t.stopPropagation(),this.btn_center.containsGlobalPoint(t.stageX,t.stageY)&&!this.rmsk.isMoving&&EventManager.dispatchEvent(GameEvent.GUIDE_END)},i.prototype.setTarget=function(t){this._target=t,this.updateCirclePoint()},i.prototype.updateCirclePoint=function(){var t=this;t.img_arrow.visible=!1;var e=this._other&&this._other.hasOwnProperty("offsetX")?this._other.offsetX:0,i=this._other&&this._other.hasOwnProperty("offsetY")?this._other.offsetY:0;if(this._target instanceof fairygui.GObject){var n=this._target.localToGlobal(0,0),r=this.globalToLocal(n.x,n.y);r.x+=this._target.width*(this._target.scaleX-1)*.5,r.y+=this._target.height*(this._target.scaleY-1)*.5,this._target.pivotAsAnchor||(r.x+=.5*this._target.width,r.y+=.5*this._target.height),this.show(r.x+e,r.y+i)}},i.prototype.onUpdate=function(){this.btn_center.visible=!0},i.prototype.onComplete=function(){2==this._dir?(this.img_arrow.x=this.sp.x,this.img_arrow.y=this.sp.y-.5*this.sp.height-.5*this.img_arrow.height):8==this._dir?(this.img_arrow.x=this.sp.x,this.img_arrow.y=this.sp.y+.5*this.sp.height+.5*this.img_arrow.height):4==this._dir?(this.img_arrow.x=this.sp.x-.5*this.sp.width-.5*this.img_arrow.height,this.img_arrow.y=this.sp.y):6==this._dir&&(this.img_arrow.x=this.sp.x+.5*this.sp.width+.5*this.img_arrow.height,this.img_arrow.y=this.sp.y),this.img_arrow.visible=!0,this.btn_center.visible=!1,this.btn_center.setXY(this.sp.x,this.sp.y),this.btn_center.setSize(this.sp.width,this.sp.height)},i.prototype.show=function(t,e,i,n){void 0===i&&(i=100),void 0===n&&(n=100),this.rmsk.setSize(Global.stageWidth,Global.stageHeight),this.rmsk.moveTo(t,e,i,n)},i.prototype.updateOtherPoint=function(){this.up.height=this.circle.y-.5*this.circle.height,this.down.y=this.circle.y+.5*this.circle.height,this.down.height=this.height-this.down.y||0,this.left.width=this.circle.x-.5*this.circle.width,this.left.y=this.right.y=this.circle.y-.5*this.circle.height,this.right.x=this.circle.x+.5*this.circle.width,this.right.width=this.width-this.right.x||0},i.prototype.closeHandler=function(t){e.prototype.closeHandler.call(this,t)},i.prototype.clear=function(){e.prototype.clear.call(this),this._target=null,this._other=null},i.prototype.onResize=function(){this.setSize(Global.stageWidth,Global.stageHeight),e.prototype.onResize.call(this),this.updateCirclePoint()},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.rmsk&&(this.rmsk.dispose(),this.rmsk=null)},i}(t.UIBaseWindow);t.UIReverseMaskView=e,__reflect(e.prototype,"fairui.UIReverseMaskView")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.gameEffect=new t.GameEffect,i.gameEffect.touchChildren=!1,i.gameEffect.touchEnabled=!1,i.touchable=!1,i._rootContainer.addChild(i.gameEffect),i}return __extends(i,e),Object.defineProperty(i.prototype,"url",{get:function(){return this.gameEffect.url},set:function(t){this.gameEffect.url=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastFrameHanderCallBack",{get:function(){return this.gameEffect.lastFrameHanderCallBack},set:function(t){this.gameEffect.lastFrameHanderCallBack=t},enumerable:!0,configurable:!0}),i.prototype.palyOnceStop=function(){this.gameEffect.palyOnceStop()},i.prototype.play=function(){this.gameEffect.play()},i.prototype.stop=function(){this.gameEffect.stop()},i.prototype.restart=function(){this.gameEffect.restart()},i.prototype.move=function(t,e,i){void 0===i&&(i=null),this.gameEffect.move(t,e,null),null!=i&&(null!=this.parent&&this.removeFromParent(),i.addChild(this))},i.prototype.playOnce=function(t){void 0===t&&(t=null),this.gameEffect.playOnce(t)},Object.defineProperty(i.prototype,"currentIndex",{get:function(){return this.gameEffect.currentIndex},enumerable:!0,configurable:!0}),i.prototype.setScale=function(t,e){this.gameEffect.scaleX=t,this.gameEffect.scaleY=e},i.prototype.clear=function(){this.gameEffect&&this.gameEffect.clear()},Object.defineProperty(i.prototype,"height",{get:function(){return this.gameEffect.height},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.gameEffect.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"openTouch",{set:function(t){this.gameEffect.touchChildren=t,this.gameEffect.touchEnabled=t,this.touchable=t},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this.stop(),null!=this.gameEffect&&(this.gameEffect.dispose(),this.gameEffect=null),e.prototype.dispose.call(this)},i}(t.BaseSprite);t.AssetEffect=e,__reflect(e.prototype,"fairui.AssetEffect")}(fairui||(fairui={}));var flash;!function(t){function e(e){if(e=parseInt(e.toString()),e<=t["int"].MAX_VALUE&&e>=t["int"].MIN_VALUE)return Math.floor(e);if(e>t["int"].MAX_VALUE){var i=e%t.INT_TOTAL_NUM;return i>t["int"].MAX_VALUE&&(i-=t.INT_TOTAL_NUM),Math.floor(i)}if(e<t["int"].MIN_VALUE){var i=e%t.INT_TOTAL_NUM;return i<t["int"].MIN_VALUE&&(i+=t.INT_TOTAL_NUM),Math.floor(i)}return 0}function i(e){if(e=parseInt(e.toString()),e<=t.uint.MAX_VALUE&&e>=t.uint.MIN_VALUE)return Math.floor(e);if(e>t.uint.MAX_VALUE){var i=e%t.INT_TOTAL_NUM;return i>t.uint.MAX_VALUE&&(i-=t.INT_TOTAL_NUM),Math.floor(i)}if(e<t.uint.MIN_VALUE){var i=e%t.INT_TOTAL_NUM;return i<t.uint.MIN_VALUE&&(i+=t.INT_TOTAL_NUM),Math.floor(i)}return 0}var n=function(){function t(){}return t.MAX_VALUE=2147483647,t.MIN_VALUE=-2147483648,t}();t["int"]=n,__reflect(n.prototype,"flash.int"),t.INT_TOTAL_NUM=4294967296,t.checkInt=e,t.checkUint=i}(flash||(flash={}));var flash;!function(t){var e=function(){function t(){}return t.MAX_VALUE=4294967295,t.MIN_VALUE=0,t}();t.uint=e,__reflect(e.prototype,"flash.uint")}(flash||(flash={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_componentDic=null,e.m_eventPool=null,e.m_eventPool=new EventPool,e.m_componentDic=new flash.Dictionary,e}return __extends(e,t),e.prototype.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i)},e.prototype.IsInited=function(){return!0},Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._textHeight},enumerable:!0,configurable:!0}),e.prototype.setText=function(t){t=Global.lang.getLang(t),this.text=t},e.prototype.addAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.relistenerAll(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.addAllListener()},this))},e.prototype.removeAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.removeAllListener()},this))},e.prototype.addGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.addListener(t,e,n,i)},e.prototype.removeGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.removeListener(t,e,n,i)},e.prototype.addComponent=function(t){if(t){var e=t.getHashCode();this.m_componentDic.setItem(e,t)}return t},e.prototype.removeComponent=function(t){if(null!=t){var e=t.getHashCode();this.m_componentDic.delItem(e)}},e.prototype.removeAllComponent=function(){this.m_componentDic.reset()},e.prototype.clear=function(){null!=this.m_eventPool&&this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.clear()},this)},e.prototype.destroyComponent=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.dispose()},this)},e.prototype.getHashCode=function(){return this.hashCode},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disposed||(t.prototype.dispose.call(this),this.clear(),this.m_eventPool&&this.m_eventPool.dispose(),this.m_componentDic=null,this.m_eventPool=null)},e}(fairygui.GTextField);t.BaseTextField=e,__reflect(e.prototype,"fairui.BaseTextField",["IComponent","IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(i,n,r,o,s,a,l,h){void 0===r&&(r=0),void 0===o&&(o=!1),void 0===s&&(s=null),void 0===a&&(a=null),void 0===l&&(l=!1),void 0===h&&(h=!1);var u=e.call(this)||this;return u._color=0,u._isCircle=!1,u._isShowEffect=!1,u.botSp=null,u._leftTime=0/0,u._totalTime=0/0,u._prevTime=0/0,u._playing=!1,u._showText=!1,u.canvas=new fairygui.GGraph,u.addChild(u.canvas),u.effectCont=new t.BaseSprite,u.addChild(u.effectCont),u.touchEnabled=!1,u.touchChildren=!1,u.setCDSize(i,n,r,o,s,a,l,h),u}return __extends(i,e),Object.defineProperty(i.prototype,"circleMask",{get:function(){return this._circleMask},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showText",{set:function(t){this._showText=t},enumerable:!0,configurable:!0}),i.prototype.setCDSize=function(t,e,i,n,r,o,s,a){void 0===i&&(i=0),void 0===n&&(n=!1),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=!1),void 0===a&&(a=!1),this._width=.5*t,this._height=.5*e,this._callback=r,this._callbackParam=o,this._isCircle=s,this._showText=a,this._color=flash.checkUint(i),this._isShowEffect=n,this.x=this._width,this.y=this._height,this.setMask()},i.prototype.setMask=function(){var t=this;this._isCircle?(null==this._circleMask&&(this._circleMask=new egret.Sprite),this._circleMask.graphics.clear(),this._circleMask.graphics.beginFill(this._color,0),this._circleMask.graphics.drawCircle(0,0,this._width),this._circleMask.graphics.endFill(),t.addChild(this._circleMask),this.mask=this._circleMask):null!=this._circleMask&&(this._circleMask.graphics.clear(),t.removeChild(this._circleMask),this._circleMask=null,this.mask=null)},i.prototype.setTextFormat=function(t,e,i,n){void 0===t&&(t=18),void 0===e&&(e=16777215),void 0===i&&(i=!0),void 0===n&&(n="");var r=this;(!n||n.length<=0)&&(n=Global.lang.getLang("lang_client_75")),(Config.isDebug||this._showText)&&null==this._timeTxt&&(this._timeTxt=new fairygui.GRichTextField,this._timeTxt.fontSize=t,this._timeTxt.color=e,this._timeTxt.bold=i,this._timeTxt.font=n,this._timeTxt.width=this.width,this._timeTxt.align=fairygui.AlignType.Center,r.addChild(this._timeTxt))},i.prototype.setValue=function(t,e){this._leftTime=t,this._totalTime=e,this.setText((.001*t).toFixed(1)),this.draw((this._totalTime-this._leftTime)/this._totalTime*360)},i.prototype.setValue2=function(t,e){this._leftTime=t,this._totalTime=e,this._leftTime>this._totalTime&&(this._leftTime=this._totalTime),this.draw((this._totalTime-this._leftTime)/this._totalTime*180)},i.prototype.setValue3=function(t,e){this._leftTime=t,this._totalTime=e,this._leftTime>this._totalTime&&(this._leftTime=this._totalTime),this.draw(360-(this._totalTime-this._leftTime)/this._totalTime*180)},i.prototype.play=function(t,e,i){void 0===i&&(i=!1),this._isReverse=i,this.setValue(t,e),this._leftTime==this._totalTime&&Global.timer.doTimeOnce(100,flash.bind(this.onComp,this)),this._prevTime=egret.getTimer(),Global.timer.doTimeLoop(50,flash.bind(this.onEnterFrame,this)),this._playing=!0},i.prototype.onComp=function(){},i.prototype.stop=function(){this._playing&&(Global.timer.clearTimer(flash.bind(this.onEnterFrame,this)),this._playing=!1,this.setText(""),this._isCircle?this._circleMask.graphics.clear():this.canvas.graphics.clear())},i.prototype.setText=function(t){(Config.isDebug||this._showText)&&(null==this._timeTxt&&(this._timeTxt=new fairygui.GRichTextField,this._timeTxt.autoSize=fairygui.AutoSizeType.Both,this._timeTxt.font=Global.lang.getLang("lang_client_75"),this._timeTxt.fontSize=18),this._timeTxt.text=t,this._timeTxt.x=(2*this._width-this._timeTxt.textWidth>>1)-this._width,this._timeTxt.y=(2*this._height-this._timeTxt.height>>1)-this._height)},i.prototype.onEnterFrame=function(){var e=this,i=egret.getTimer()-this._prevTime;i<=this._leftTime?(this.setText((.001*(this._leftTime-i)).toFixed(1)),this.draw((this._totalTime-this._leftTime+i)/this._totalTime*360),.001*(this._leftTime-i)<=10&&!this._effect&&this._isShowEffect&&(this._isShowEffect=!1,this._effect=new t.CEffect,this._effect.url=AssetPathManager.getInstance().getMenuEffect("liuguang","skillGridFlow"),e.effectCont.addEgretChild(this._effect.view),this._effect.play())):(this.stop(),this._effect&&(this._effect.dispose(),this._effect=null),null!=this._callback&&(null==this._callbackParam&&(this._callbackParam=[]),this._callback.apply(null,this._callbackParam)))},i.prototype.draw=function(t){if(this.canvas.graphics.clear(),0>t||t>=360)0==t&&(this.canvas.graphics.clear(),this.canvas.graphics.lineStyle(0,0,1),this.canvas.graphics.beginFill(this._color,1),this.canvas.graphics.drawCircle(0,0,Math.sqrt(this._width*this._width+this._height*this._height)),this.canvas.graphics.endFill());else{var e=Math.tan(t*Math.PI/180);this.canvas.graphics.clear(),this.canvas.graphics.lineStyle(0,0,0),this.canvas.graphics.beginFill(this._color,.5),this.canvas.graphics.moveTo(0,0),t>=0&&45>t?(this.canvas.graphics.lineTo(this._width*e,-this._height),this.canvas.graphics.lineTo(this._width,-this._height),this.canvas.graphics.lineTo(this._width,this._height),this.canvas.graphics.lineTo(-this._width,this._height),this.canvas.graphics.lineTo(-this._width,-this._height)):t>=45&&135>t?(this.canvas.graphics.lineTo(this._width,-this._width/e),this.canvas.graphics.lineTo(this._width,this._height),this.canvas.graphics.lineTo(-this._width,this._height),this.canvas.graphics.lineTo(-this._width,-this._height)):t>=135&&225>t?(this.canvas.graphics.lineTo(-this._height*e,this._height),this.canvas.graphics.lineTo(-this._width,this._height),this.canvas.graphics.lineTo(-this._width,-this._height)):t>=225&&315>t?(this.canvas.graphics.lineTo(-this._width,this._width/e),this.canvas.graphics.lineTo(-this._width,-this._height)):t>=315&&360>t&&this.canvas.graphics.lineTo(this._width*e,-this._height),this.canvas.graphics.lineTo(0,-this._height),this.canvas.graphics.lineTo(0,0),this.canvas.graphics.endFill()}},i.prototype.addDisplayObject=function(t){null!=this.botSp&&null!=this.botSp.parent&&(this.botSp.parent.removeChild(this.botSp),this.botSp=null),null!=t&&null!=t.parent&&t.parent.removeChild(t),this.botSp=t,this.botSp&&(this.botSp.x=.5*-this.botSp.width,this.botSp.y=.5*-this.botSp.height,this.addChildAt(this.botSp,1))},i.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this._effect&&(this._effect.dispose(),this._effect=null),null!=this.effectCont&&(this.effectCont.dispose(),this.effectCont=null),null!=this._circleMask&&(this._circleMask.removeChildren(),this._circleMask=null),null!=this.botSp&&(this.botSp.dispose(),this.botSp=null),this._callback=null,this._callbackParam=null},i}(t.BaseSprite);t.CDSprite=e,__reflect(e.prototype,"fairui.CDSprite")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(e,i,n){void 0===e&&(e=null);var r=t.call(this)||this;r._curveaccuracy=6,r.isLine=!0,r.overflow=0,r.offLength=0,r.onLength=0,r.dashLength=0;var o=null;return e instanceof fairygui.GComponent?(o=new fairygui.GGraph,e.addChild(o),r.target=o.graphics):r.target=e?e.graphics:r.graphics,r.setDash(i,n),r.isLine=!0,r.overflow=0,r.pen={x:0,y:0},r}return __extends(e,t),e.prototype.setDash=function(t,e){this.onLength=t,this.offLength=e,this.dashLength=this.onLength+this.offLength},e.prototype.getDash=function(){return[this.onLength,this.offLength]},e.prototype.moveTo=function(t,e){this.targetMoveTo(t,e)},e.prototype.lineTo=function(t,e){var i=t-this.pen.x,n=e-this.pen.y,r=Math.atan2(n,i),o=Math.cos(r),s=Math.sin(r),a=this.lineLength(i,n);if(this.overflow){if(this.overflow>a)return this.isLine?this.targetLineTo(t,e):this.targetMoveTo(t,e),void(this.overflow-=a);if(this.isLine?this.targetLineTo(this.pen.x+o*this.overflow,this.pen.y+s*this.overflow):this.targetMoveTo(this.pen.x+o*this.overflow,this.pen.y+s*this.overflow),a-=this.overflow,this.overflow=0,this.isLine=!this.isLine,!a)return}var l=Math.floor(a/this.dashLength);if(l){for(var h=o*this.onLength,u=s*this.onLength,c=o*this.offLength,p=s*this.offLength,f=0;l>f;f++)this.isLine?(this.targetLineTo(this.pen.x+h,this.pen.y+u),this.targetMoveTo(this.pen.x+c,this.pen.y+p)):(this.targetMoveTo(this.pen.x+c,this.pen.y+p),this.targetLineTo(this.pen.x+h,this.pen.y+u));a-=this.dashLength*l}this.isLine?a>this.onLength?(this.targetLineTo(this.pen.x+o*this.onLength,this.pen.y+s*this.onLength),this.targetMoveTo(t,e),this.overflow=this.offLength-(a-this.onLength),this.isLine=!1):(this.targetLineTo(t,e),a==this.onLength?(this.overflow=0,this.isLine=!this.isLine):(this.overflow=this.onLength-a,this.targetMoveTo(t,e))):a>this.offLength?(this.targetMoveTo(this.pen.x+o*this.offLength,this.pen.y+s*this.offLength),this.targetLineTo(t,e),this.overflow=this.onLength-(a-this.offLength),this.isLine=!0):(this.targetMoveTo(t,e),a==this.offLength?(this.overflow=0,this.isLine=!this.isLine):this.overflow=this.offLength-a)},e.prototype.curveTo=function(t,e,i,n){var r,o=this.pen.x,s=this.pen.y,a=this.curveLength(o,s,t,e,i,n),l=0,h=0;if(this.overflow){if(this.overflow>a)return this.isLine?this.targetCurveTo(t,e,i,n):this.targetMoveTo(i,n),void(this.overflow-=a);if(l=this.overflow/a,r=this.curveSliceUpTo(o,s,t,e,i,n,l),this.isLine?this.targetCurveTo(r[2],r[3],r[4],r[5]):this.targetMoveTo(r[4],r[5]),this.overflow=0,this.isLine=!this.isLine,!a)return}var u=a-a*l,c=Math.floor(u/this.dashLength),p=this.onLength/a,f=this.offLength/a;if(c)for(var d=0;c>d;d++)this.isLine?(h=l+p,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetCurveTo(r[2],r[3],r[4],r[5]),l=h,h=l+f,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetMoveTo(r[4],r[5])):(h=l+f,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetMoveTo(r[4],r[5]),l=h,h=l+p,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetCurveTo(r[2],r[3],r[4],r[5])),l=h;u=a-a*l,this.isLine?u>this.onLength?(h=l+p,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetCurveTo(r[2],r[3],r[4],r[5]),this.targetMoveTo(i,n),this.overflow=this.offLength-(u-this.onLength),this.isLine=!1):(r=this.curveSliceFrom(o,s,t,e,i,n,l),this.targetCurveTo(r[2],r[3],r[4],r[5]),a==this.onLength?(this.overflow=0,this.isLine=!this.isLine):(this.overflow=this.onLength-u,this.targetMoveTo(i,n))):u>this.offLength?(h=l+f,r=this.curveSlice(o,s,t,e,i,n,l,h),this.targetMoveTo(r[4],r[5]),r=this.curveSliceFrom(o,s,t,e,i,n,h),this.targetCurveTo(r[2],r[3],r[4],r[5]),this.overflow=this.onLength-(u-this.offLength),this.isLine=!0):(this.targetMoveTo(i,n),u==this.offLength?(this.overflow=0,this.isLine=!this.isLine):this.overflow=this.offLength-u)},e.prototype.curvedBox=function(t,e,i,n,r){var o=.707107,s=.6;this.moveTo(t+0,e+r),this.lineTo(t+0,e+n-r),this.curveTo(t+0,e+(n-r)+r*(1-s),t+0+(1-o)*r,e+n-(1-o)*r),this.curveTo(t+(0+r)-r*(1-s),e+n,t+r,e+n),this.lineTo(t+i-r,e+n),this.curveTo(t+(i-r)+r*(1-s),e+n,t+i-(1-o)*r,e+n-(1-o)*r),this.curveTo(t+i,e+(n-r)+r*(1-s),t+i,e+n-r),this.lineTo(t+i,e+0+r),this.curveTo(t+i,e+r-r*(1-s),t+i-(1-o)*r,e+0+(1-o)*r),this.curveTo(t+(i-r)+r*(1-s),e+0,t+i-r,e+0),this.lineTo(t+r,e+0),this.curveTo(t+r-r*(1-s),e+0,t+(1-o)*r,e+(1-o)*r),this.curveTo(t+0,e+r-r*(1-s),t+0,e+r)},e.prototype.ellipse=function(t,e,i,n){var r=i/2,o=n/2;t+=i/2,e+=n/2,this.moveTo(t+r,e),this.curveTo(r+t,-.4142*o+e,.7071*r+t,-.7071*o+e),this.curveTo(.4142*r+t,-o+e,t,-o+e),this.curveTo(-.4142*r+t,-o+e,-.7071*r+t,-.7071*o+e),this.curveTo(-r+t,-.4142*o+e,-r+t,e),this.curveTo(-r+t,.4142*o+e,-.7071*r+t,.7071*o+e),this.curveTo(-.4142*r+t,o+e,t,o+e),this.curveTo(.4142*r+t,o+e,.7071*r+t,.7071*o+e),this.curveTo(r+t,.4142*o+e,r+t,e)},e.prototype.clear=function(){this.target.clear()},e.prototype.lineStyle=function(t,e,i){this.target.lineStyle(t,e,i)},e.prototype.beginFill=function(t,e){this.target.beginFill(t,e)},e.prototype.beginGradientFill=function(t,e,i,n,r){this.target.beginGradientFill(t,e,i,n,r)},e.prototype.endFill=function(){this.target.endFill()},e.prototype.lineLength=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(!i.length)return Math.sqrt(t*t+e*e);var r=i[0],o=i[1],s=r-t,a=o-e;return Math.sqrt(s*s+a*a)},e.prototype.curveLength=function(t,e,i,n,r,o){for(var s=[],a=6;a<arguments.length;a++)s[a-6]=arguments[a];for(var l,h,u,c,p,f,d,g=0,_=t,m=e,y=null!=s[0]?s[0]:this._curveaccuracy,v=1;y>=v;v++)u=v/y,c=1-u,p=c*c,f=2*u*c,d=u*u,l=p*t+f*i+d*r,h=p*e+f*n+d*o,g+=this.lineLength(_,m,l,h),_=l,m=h;return g},e.prototype.curveSlice=function(t,e,i,n,r,o,s,a){if(0==s)return this.curveSliceUpTo(t,e,i,n,r,o,a);if(1==a)return this.curveSliceFrom(t,e,i,n,r,o,s);var l=this.curveSliceUpTo(t,e,i,n,r,o,a);return l.push(s/a),this.curveSliceFrom.apply(this,l)},e.prototype.curveSliceUpTo=function(t,e,i,n,r,o,s){if(void 0===s&&(s=0),0==s&&(s=1),1!=s){var a=i+(r-i)*s,l=n+(o-n)*s;i=t+(i-t)*s,n=e+(n-e)*s,r=i+(a-i)*s,o=n+(l-n)*s}return[t,e,i,n,r,o]},e.prototype.curveSliceFrom=function(t,e,i,n,r,o,s){if(void 0===s&&(s=0),0==s&&(s=1),1!=s){var a=t+(i-t)*s,l=e+(n-e)*s;i+=(r-i)*s,n+=(o-n)*s,t=a+(i-a)*s,e=l+(n-l)*s}return[t,e,i,n,r,o]},e.prototype.targetMoveTo=function(t,e){this.pen={x:t,y:e},this.target.moveTo(t,e)},e.prototype.targetLineTo=function(t,e){(t!=this.pen.x||e!=this.pen.y)&&(this.pen={x:t,y:e},this.target.lineTo(t,e))},e.prototype.targetCurveTo=function(t,e,i,n){(t!=i||e!=n||i!=this.pen.x||n!=this.pen.y)&&(this.pen={x:i,y:n},this.target.curveTo(t,e,i,n))},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.target&&(this.target.clear(),this.target=null),this.pen=null},e}(fairygui.GGraph);t.DashedLine=e,__reflect(e.prototype,"fairui.DashedLine")}(fairui||(fairui={}));var flash;!function(t){function e(t,e,i,n){var r=t-i,o=e-n;return Math.sqrt(r*r+o*o)}function i(t){var e=egret.getQualifiedClassName(t);return"egret.Sprite"==e?"flash.display::Sprite":(e.split(".").length>1&&(e=e.slice(0,e.length-e.split(".")[e.split(".").length-1].length-1)+"::"+e.split(".")[e.split(".").length-1]),e)}function n(t){if(t.hasOwnProperty("prototype")&&t.prototype.hasOwnProperty("__class__"))return t.prototype.__class__;var e=t.toString(),i=e.indexOf("("),n=e.substring(9,i);return Object.defineProperty(t,"__class__",{value:n,enumerable:!1,writable:!0}),n}function r(t){return t.hasOwnProperty("__proto__")?t.__proto__:null}t.getPointDistance=e,t.getQualifiedClassName=i,t.getClassName=n,t.getClassSuper=r}(flash||(flash={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.EButton);t.ECButton=e,__reflect(e.prototype,"fairui.ECButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.selectFunction=function(t,e){this._function=t,this._thisObj=e},Object.defineProperty(i.prototype,"selected",{get:function(){return egret.superGetter(t.ECheckbox,this,"selected")},set:function(e){egret.superSetter(t.ECheckbox,this,"selected",e),this._function&&this._thisObj&&this._function.call(this._thisObj,this.selected)},enumerable:!0,configurable:!0}),i}(t.BaseButton);t.ECheckbox=e,__reflect(e.prototype,"fairui.ECheckbox")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=null);var n=e.call(this)||this;return n._itemRenderer=null,n._clickHandler=null,n._selectedPage=null,n._elements=null,n._lastclickItem=null,n._isShowDoSpecialEffect=!1,n.currentpage=0,n.isFirst=!1,n.isAutoBottom=!1,n._selectIndex=0,n.list=t,null!=n.list&&(n.callbackThisObj=i||n,n.list.callbackThisObj=n,n.list.itemRenderer=n.listItemRender,n.list.addEventListener(fairygui.ItemEvent.CLICK,n.clickItem,n)),n}return __extends(i,e),i.prototype.IsInited=function(){return!0},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this)},Object.defineProperty(i.prototype,"btn_left",{set:function(t){t?(this._btn_left=t,this._btn_left.addEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this)):this._btn_left&&this._btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this)},enumerable:!0,configurable:!0}),i.prototype.touchLeftBtnHandler=function(t){if(this.currentpage>0){var e=this.currentpage-1;this.toPage(e)}},Object.defineProperty(i.prototype,"btn_right",{set:function(t){t?(this._btn_right=t,this._btn_right.addEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this)):this._btn_right&&this._btn_right.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this)},enumerable:!0,configurable:!0}),i.prototype.touchRightBtnHandler=function(t){if(this.currentpage<this.array.length-1){var e=this.currentpage+1;this.toPage(e)}},i.prototype.toPage=function(t){t=0>t?0:t,this._selectedPage&&this._selectedPage.apply(this.callbackThisObj,0),this.scrollToView(t,!0)},i.prototype.scrollListPage=function(){var t=this.list.getFirstChildInView()%this.list.numItems;this.currentpage=t,this._btn_left&&(this._btn_left.enabled=this.currentpage>0),this._btn_right&&(this._btn_right.enabled=this.currentpage<this.array.length-1),this._selectedPage&&this._selectedPage.apply(this.callbackThisObj,0)},Object.defineProperty(i.prototype,"isShowDoSpecialEffect",{set:function(t){this._isShowDoSpecialEffect=t,this._isShowDoSpecialEffect?this.list.scrollPane.addEventListener(fairygui.ScrollPane.SCROLL,this.doSpecialEffect,this):this.list.scrollPane.removeEventListener(fairygui.ScrollPane.SCROLL,this.doSpecialEffect,this)},enumerable:!0,configurable:!0}),i.prototype.doSpecialEffect=function(){for(var t=this.list.scrollPane.posX+this.list.viewWidth/2,e=this.list.numChildren,i=0;e>i;i++){var n=this.list.getChildAt(i),r=Math.abs(t-n.x-n.width/2);if(r<=.5*n.width){if(this._lastclickItem&&n&&this._lastclickItem==n)continue;return void(this.clickIndex=this.getShowItemIndex(n))}}},i.prototype.getShowItem=function(t){return this.list.getChildAt(t)},i.prototype.getShowItemIndex=function(t,e){return void 0===e&&(e=!0),e?this.list.getChildIndex(t):this.list.childIndexToItemIndex(this.list.getChildIndex(t))},i.prototype.itemIndexToChildIndex=function(t){var e=this.list.itemIndexToChildIndex(t);return e},i.prototype.childIndexToItemIndex=function(t){var e=this.list.childIndexToItemIndex(t);return e},i.prototype.setVirtual=function(){this.list.setVirtual(),this.setScroll()},i.prototype.setScroll=function(){this.list.scrollPane&&this.list.scrollPane.addEventListener(fairygui.ScrollPane.SCROLL,flash.bind(this.scrollListPage,this),this)},Object.defineProperty(i.prototype,"isDragged",{set:function(t){this.list.scrollPane&&(this.list.scrollPane.touchEffect=t)},enumerable:!0,configurable:!0}),i.prototype.sync=function(){this.list.ensureBoundsCorrect()},Object.defineProperty(i.prototype,"clickIndex",{set:function(t){var e=this.itemIndexToChildIndex(t);if(0>e&&(e=0),this.list.numChildren>0){var i=this.list.getChildAt(e),n=new fairygui.ItemEvent(fairygui.ItemEvent.CLICK,i);this.list.dispatchEvent(n)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"callbackThisObj",{get:function(){return this._thisObject},set:function(t){this._thisObject=t},enumerable:!0,configurable:!0}),i.prototype.setRenderItem=function(e,i){this.list.defaultItem=t.FairyTextureUtils.getUrl(e,i)},Object.defineProperty(i.prototype,"itemProvider",{set:function(t){null!=this.list&&(this.list.itemProvider=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(t){this._itemRenderer=t,null!=this.list&&(this.list.itemRenderer=t)
},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"clickHandler",{get:function(){return this._clickHandler},set:function(t){this._clickHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedPage",{get:function(){return this._selectedPage},set:function(t){this._selectedPage=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectionMode",{get:function(){return this.list.selectionMode},set:function(t){this.list.selectionMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isSingleSelect",{get:function(){return this.selectionMode==fairygui.ListSelectionMode.Single},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isMultSelect",{get:function(){return this.selectionMode==fairygui.ListSelectionMode.Multiple},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"array",{get:function(){return this._array},set:function(t){this.removeAllComponent(),this.clearData(),this._array=t||[],this.updateList()},enumerable:!0,configurable:!0}),i.prototype.addItem=function(t,e){void 0===e&&(e=!1),this._array&&-1==this._array.indexOf(t)&&(e?this._array.unshift(t):this._array.push(t),this.updateList())},i.prototype.removeItem=function(t){var e=null,i=this._array.indexOf(t);return this._array&&-1!=i&&(e=this._array.splice(i,1),this.updateList()),e},i.prototype.updateList=function(){null!=this.list&&(this.list.numItems=this._array.length,this.isAutoBottom&&this.scrollToBottom())},i.prototype.addItemList=function(t){null!=this._array&&t&&t.length>0&&(this._array=this._array.concat(t)),this.updateList()},i.prototype.replaceAll=function(t){this._array=t,this.updateList()},Object.defineProperty(i.prototype,"numItems",{get:function(){return this.list.numItems},set:function(t){this.clearData(),this._array.length=t,this.updateList()},enumerable:!0,configurable:!0}),i.prototype.clickItem=function(t){this.selectItem(t.itemObject)},i.prototype.selectItem=function(t){this.selectionMode==fairygui.ListSelectionMode.Single&&this._lastclickItem&&t&&this._lastclickItem==t||(this._lastclickItem&&(this._lastclickItem.select=!1),t&&(t.select=!0),this._lastclickItem=t,t.data?this._selectIndex=this._array.indexOf(t.data):this._selectIndex=parseInt(t.name),this._clickHandler&&this._clickHandler.apply(this.callbackThisObj,[t]))},Object.defineProperty(i.prototype,"lastClickItem",{get:function(){return this._lastclickItem},enumerable:!0,configurable:!0}),i.prototype.listItemRender=function(t,e){0==t&&(this._elements=[]);var i=e;i&&void 0!=i.show&&i.show(this._array[t]),-1==this.elements.indexOf(i)&&this.elements.push(i);var n=new GameEvent(GameEvent.EGLIST_RENDER);if(n.data={index:t,obj:e},n.thisObject=this._thisObject,this.dispatchEvent(n),t==this._array.length-1){var r=new GameEvent(GameEvent.EGLIST_COMPLETE);r.thisObject=this._thisObject,this.dispatchEvent(r)}this._selectedPage&&(0!=t||this.isFirst||(this.isFirst=!0,this._selectedPage.apply(this.callbackThisObj,0))),egret.is(e,"IComponent")&&this.addComponent(e)},Object.defineProperty(i.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._selectIndex},set:function(e){if(this.isSingleSelect){this.list.selectedIndex=e,this._selectIndex=e;var i=e<this.list.numChildren?this.list.getChildAt(e):null;(i instanceof t.UIEListRenderItem||i instanceof t.BaseButton)&&this.selectItem(i)}else this._selectIndex=-1},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._selectIndex<0?null:this._array[this._selectIndex]},enumerable:!0,configurable:!0}),i.prototype.addSelection=function(t,e){this.list.addSelection(t,e)},i.prototype.removeSelection=function(t){this.list.removeSelection(t)},i.prototype.selectAll=function(){this.list.selectAll()},i.prototype.selectNone=function(){this.list.selectNone()},i.prototype.selectReverse=function(){this.list.selectReverse()},Object.defineProperty(i.prototype,"progress",{get:function(){return this.isHorizontal?this.list.scrollPane.percX:this.list.scrollPane.percY},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isHorizontal",{get:function(){return this.list.scrollPane?this.list.scrollPane._scrollType==fairygui.ScrollType.Horizontal:!1},enumerable:!0,configurable:!0}),i.prototype.sliderTo=function(t,e){void 0===e&&(e=!0),this.list.scrollPane&&(this.isHorizontal?this.list.scrollPane.setPercX(t,e):this.list.scrollPane.setPercY(t,e))},i.prototype.scrollToView=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.list.scrollToView(t,e,i)},Object.defineProperty(i.prototype,"scrollPane",{get:function(){return this.list.scrollPane},enumerable:!0,configurable:!0}),i.prototype.getFirstChildInView=function(){return this.list.getFirstChildInView()},i.prototype.getListComponet=function(){return this.list},i.prototype.scrollToTop=function(t){void 0===t&&(t=!1),this.list.scrollPane.scrollTop(t)},i.prototype.scrollToBottom=function(t){void 0===t&&(t=!1),this.list.scrollPane.scrollBottom(t)},Object.defineProperty(i.prototype,"touchEnabled",{get:function(){return this.list._rootContainer.touchEnabled},set:function(t){this.list._rootContainer.touchEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"enabled",{get:function(){return this.list.enabled},set:function(t){this.list.enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"touchChildren",{get:function(){return this.list._rootContainer.touchChildren},set:function(t){this.list._rootContainer.touchChildren=t},enumerable:!0,configurable:!0}),i.prototype.getChildAt=function(t){return this.list.getChildAt(t)},Object.defineProperty(i.prototype,"numChildren",{get:function(){return this.list.numChildren},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineCount",{get:function(){return this.list.lineCount},set:function(t){this.list.lineCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"columnCount",{get:function(){return this.list.columnCount},set:function(t){this.list.columnCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this.list.visible},set:function(t){this.list.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.list.x},set:function(t){this.list.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.list.y},set:function(t){this.list.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollType",{get:function(){return this.list.scrollPane?this.list.scrollPane._scrollType:!1},set:function(t){this.list.scrollPane&&(this.list.scrollPane._scrollType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{set:function(t){this.list.layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"align",{get:function(){return this.list.align},set:function(t){this.list.align=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this.list.verticalAlign},set:function(t){this.list.verticalAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"columnGap",{get:function(){return this.list.columnGap},set:function(t){this.list.columnGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineGap",{get:function(){return this.list.lineGap},set:function(t){this.list.lineGap=t},enumerable:!0,configurable:!0}),i.prototype.setSize=function(t,e,i){void 0===i&&(i=!1),this.list.setSize(t,e,i)},i.prototype.superSetSize=function(t,i,n){void 0===n&&(n=!1),e.prototype.setSize.call(this,t,i,n)},Object.defineProperty(i.prototype,"width",{get:function(){return this.list.width},set:function(t){this.list.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.list.height},set:function(t){this.list.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"viewWidth",{get:function(){return this.list.viewWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"viewHeight",{get:function(){return this.list.viewHeight},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"grayed",{get:function(){return this.list.grayed},set:function(t){this.list.grayed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.list.parent},enumerable:!0,configurable:!0}),i.prototype.localToGlobal=function(t,e,i){return this.list.localToGlobal(t,e,i)},i.prototype.clearData=function(){if(this.elements)for(var e in this.elements)this.elements[e]instanceof t.BaseSprite&&this.elements[e].hide();this._lastclickItem&&(this._lastclickItem.select=!1,this._lastclickItem=null),this._btn_left&&this._btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this),this._btn_right&&this._btn_right.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this),this._btn_left=null,this._btn_right=null,this._elements=[],this._array=[]},i.prototype.clear=function(){e.prototype.clear.call(this),this.sliderTo(0,!1),this.clearData()},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.clear(),null!=this.list&&(this.list.removeEventListener(fairygui.ItemEvent.CLICK,this.clickItem,this),this.list.scrollPane&&this.list.scrollPane.removeEventListener(fairygui.ScrollPane.SCROLL,flash.bind(this.scrollListPage,this),this.list.scrollPane),this.list.dispose(),this.list=null),this._btn_left=null,this._btn_right=null,this._thisObject=null,this._itemRenderer=null,this._clickHandler=null,this._selectedPage=null,this._array=null,this._elements=null,this._lastclickItem=null},i}(t.BaseSprite);t.EGList=e,__reflect(e.prototype,"fairui.EGList")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(t){void 0===t&&(t=null);var i=e.call(this)||this;return i._pixelHitTest=!1,i.img=t||new fairygui.GLoader,i.img.touchable=!1,i}return __extends(i,e),i.prototype.addEventListener=function(t,e,i){this.img.addEventListener(t,e,i)},i.prototype.removeEventListener=function(t,e,i){this.img.removeEventListener(t,e,i)},Object.defineProperty(i.prototype,"fill",{get:function(){return this.img.fill},set:function(t){this.img.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoSize",{get:function(){return this.img.autoSize},set:function(t){this.img.autoSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"touchable",{get:function(){return this.img.touchable},set:function(t){this.img.touchable=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.img?this.img.parent:null},enumerable:!0,configurable:!0}),i.prototype.removeFromParent=function(){this.img&&this.img.removeFromParent()},i.prototype.setFairySource=function(t,e){this._url&&(this._url=null,this.texture=null);var i=fairygui.UIPackage.getItemURL(t,e);this.setFariyUrl(i)},i.prototype.setFariyUrl=function(e){this._url=e,this.texture=t.FairyTextureUtils.getTexture(e)},Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source=t,t instanceof egret.Texture?this.texture=t:this.url=t},enumerable:!0,configurable:!0}),i.prototype.loadImage=function(e,i,n){function r(t){o.texture=t,null!=i&&null!=n&&i.call(n)}void 0===i&&(i=null),void 0===n&&(n=null);var o=this;o._url!=e&&(o.clear(),o._url=e,null!=e&&t.LoaderManager.loadImageRes(e,this,r))},Object.defineProperty(i.prototype,"url",{get:function(){return this._url},set:function(e){var i=this,n=i._url;i._url=e,n!=e&&e?(i.texture=null,0==e.indexOf("ui:")?i.img.url=e:t.LoaderManager.loadImageRes(e,i,function(t){i.texture=t})):e||(i.texture=null)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"texture",{get:function(){return this.img.texture},set:function(t){null!=this.img&&(this.img.texture=t),null!=t&&this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},enumerable:!0,configurable:!0}),i.prototype.move=function(t,e,i){void 0===i&&(i=null),this.img.x=t,this.img.y=e,null!=i&&i.addChild(this.img)},Object.defineProperty(i.prototype,"visible",{get:function(){return this.img.visible},set:function(t){this.img.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"grayed",{get:function(){return this.img.grayed},set:function(t){this.img.grayed=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"alpha",{set:function(t){this.img.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleX",{get:function(){return this.img.scaleX},set:function(t){this.img.scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleY",{get:function(){return this.img.scaleY},set:function(t){this.img.scaleY=t},enumerable:!0,configurable:!0}),i.prototype.setScale=function(t,e){this.img.setScale(t,e)},Object.defineProperty(i.prototype,"x",{get:function(){return this.img.x},set:function(t){this.img.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.img.y},set:function(t){this.img.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.img?this.img.width:0},set:function(t){this.img.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.img?this.img.height:0},set:function(t){this.img.height=t},enumerable:!0,configurable:!0}),i.prototype.setSize=function(t,e){this.img&&this.img.setSize(t,e)},Object.defineProperty(i.prototype,"rotation",{get:function(){return this.img.rotation},set:function(t){this.img.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pixelHitTest",{get:function(){return this._pixelHitTest},set:function(t){var e=this.img;e.content instanceof egret.Bitmap&&(e.content.pixelHitTest=t),this._pixelHitTest=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"content",{get:function(){return this.img.content},enumerable:!0,configurable:!0}),i.prototype.clear=function(){e.prototype.clear.call(this),this._url="",this.texture=null},i.prototype.dispose=function(){e.prototype.dispose.call(this),null!=this.img&&(this.img.dispose(),this.img=null),this._texture=null,this._url=null,this._source=null},i}(t.BaseSprite);t.ELoader=e,__reflect(e.prototype,"fairui.ELoader")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.EButton);t.ESButton=e,__reflect(e.prototype,"fairui.ESButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.EButton);t.ESCButton=e,__reflect(e.prototype,"fairui.ESCButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(e,i){var n=t.call(this)||this;n._selectedIndex=-1,n._buttonArray=new Array,n._itemNum=0,n.initX=0,n.initY=0,n.maxIndex=0,n.minLayer=-1,n.tabGroup=e;for(var r,o=e.parent,s=o.numChildren,a=0;s>a;a++)o.getChildAt(a).group==e&&(r=o.getChildAt(a),n._buttonArray.push(r),r.addEventListener(egret.TouchEvent.TOUCH_TAP,n.onTabButtonClick,n),r.data=n._buttonArray.length-1,++n._itemNum,1==n._buttonArray.length&&(n.initX=r.x,n.initY=r.y),n.maxIndex=Math.max(n.maxIndex,a),-1==n.minLayer&&(n.minLayer=a));return n.callbackThisObj=i,n}return __extends(e,t),e.prototype.IsInited=function(){return!0},Object.defineProperty(e.prototype,"isReverse",{set:function(t){if(t){this._buttonArray=this._buttonArray.reverse();for(var e=0;e<this._buttonArray.length;e++)this._buttonArray[e].data=e;this.tabIndex=0}},enumerable:!0,configurable:!0}),e.prototype.setButtonArray=function(t){this._buttonArray=t;var e=0,i=null;for(e=0;e<this._buttonArray.length;e++)i=this._buttonArray[e],i.data=e,0==e?(this.initX=i.x,this.initY=i.y,this.minLayer=i.getIndex()):this.minLayer=Math.min(this.minLayer,i.getIndex())},e.prototype.sortBtnPoint=function(t,e){void 0===t&&(t=5),void 0===e&&(e=0);var i=0,n=null,r=null;for(i=0;i<this._buttonArray.length;i++)n=this._buttonArray[i],n&&n.visible&&(0==e?n.y=null==r?this.initY:r.y+r.height+t:1==e&&(n.x=null==r?this.initX:r.x+r.width+t),r=n)},Object.defineProperty(e.prototype,"buttonArray",{get:function(){return this._buttonArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this._selectedIndex},set:function(t){this.selectedIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickHandler",{set:function(t){this._selectedHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(t){t>this._itemNum||(this._selectedIndex>=0&&(this._buttonArray[this._selectedIndex].selected=!1),this._buttonArray[t].selected=!0,this.sortBtnLayers(t),this._selectedIndex=t,null!=this._selectedHandler&&this._selectedHandler.call(this.callbackThisObj,this._selectedIndex))},enumerable:!0,configurable:!0}),e.prototype.sortBtnLayers=function(t){for(var e=null,i=this._buttonArray.length,n=0;i>n;n++)e=this._buttonArray[n],e&&e.parent.setChildIndex(e,this.minLayer+i-n-1);e=this._buttonArray[t],e&&e.indexTo(this.minLayer+i-1)},e.prototype.onTabButtonClick=function(t){this.selectedIndex=t.target.data},Object.defineProperty(e.prototype,"x",{get:function(){return this.tabGroup.x},set:function(t){this.tabGroup.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.tabGroup.y},set:function(t){this.tabGroup.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.tabGroup.parent},enumerable:!0,configurable:!0}),e.prototype.clear=function(){t.prototype.clear.call(this)},e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this.tabGroup&&this.tabGroup.dispose(),this.tabGroup=null,this._buttonArray=null,this._selectedHandler=null,this.callbackThisObj=null,this._selectedIndex=-1,this.minLayer=-1,this.maxIndex=0,this.initX=0,this.initY=0,this._itemNum=0},e}(t.BaseSprite);t.ETab=e,__reflect(e.prototype,"fairui.ETab")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.lab_level.text},set:function(t){this.lab_level.text=t},enumerable:!0,configurable:!0}),e}(t.BaseSprite);t.ExpStar=e,__reflect(e.prototype,"fairui.ExpStar")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._lastTime=0,e._avatar=new view.fight.RoleAvatar,e._avatar.aniDirType=EnumAvatarPart.FIVE_DIR,e._avatar.addPart(EnumAvatarPart.BODY),e.addEgretChild(e._avatar),e.opaque=!0,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.addToStageHandler,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.removeFromStageHandler,e),e}return __extends(e,t),e.prototype.addToStageHandler=function(t){this._lastTime=egret.getTimer(),Global.timer.doFrameLoop(1,flash.bind(this.enterFrameHandler,this))},e.prototype.removeFromStageHandler=function(t){Global.timer.clearTimer(flash.bind(this.enterFrameHandler,this))},e.prototype.changePartPath=function(t,e){void 0===e&&(e=2);var i;switch(e){case 1:i=AssetPathManager.getInstance().getFightHeroPartPath(parseInt(t),EnumAvatarPart.BODY);break;case 2:i=AssetPathManager.getInstance().getPetPartPath(t);break;case 3:i=AssetPathManager.getInstance().getFightMonsterPartPath(t)}this.avatar.getPart(EnumAvatarPart.BODY).path=i},e.prototype.changeDirAction=function(t,e,i,n,r){void 0===e&&(e=-1),void 0===i&&(i=!0),void 0===n&&(n=!1),void 0===r&&(r=0),this._avatar.dir=-1==e?this._avatar.dir:e,this._avatar.changeAction(t,i,n,r),this._avatar.play()},Object.defineProperty(e.prototype,"playEndHanlder",{get:function(){return this._avatar.playEndHanlder},set:function(t){this._avatar.playEndHanlder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){return this._avatar.action},enumerable:!0,configurable:!0}),e.prototype.enterFrameHandler=function(t){var e=egret.getTimer(),i=e-this._lastTime;this.addvanceTime(i),this._lastTime=e},e.prototype.addvanceTime=function(t){this._avatar&&this._avatar.addvanceTime(t)},Object.defineProperty(e.prototype,"avatar",{get:function(){return this._avatar},enumerable:!0,configurable:!0}),e.prototype.stop=function(){this._avatar.stop()},e.prototype.clear=function(){this._avatar.clear()},e.prototype.dispose=function(e){void 0===e&&(e=!0),Global.timer.clearTimer(flash.bind(this.enterFrameHandler,this)),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addToStageHandler,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removeFromStageHandler,this),t.prototype.dispose.call(this),null!=this._avatar&&(this._avatar.dispose(),this._avatar=null),e&&App.asset.deleteAllResAsset()},e}(t.BaseSprite);t.FairyAvatar=e,__reflect(e.prototype,"fairui.FairyAvatar")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._elements=null,t.currentpage=0,t._selectedPage=null,t}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t),this.initUI()},i.prototype.initUI=function(){this.callbackThisObj=this,this.list.callbackThisObj=this,this.list.itemRenderer=this.listItemRender},i.prototype.listItemRender=function(t,e){0==t&&(this._elements=[]);var i=e;i&&void 0!=i.show&&i.show(this._array[t]),-1==this.elements.indexOf(i)&&this.elements.push(i);var n=new GameEvent(GameEvent.EGLIST_RENDER);if(n.data={index:t,obj:e},n.thisObject=this._thisObject,this.dispatchEvent(n),t==this._array.length-1){var r=new GameEvent(GameEvent.EGLIST_COMPLETE);r.thisObject=this._thisObject,this.dispatchEvent(r)}egret.is(e,"IComponent")&&this.addComponent(e)},Object.defineProperty(i.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"callbackThisObj",{get:function(){return this._thisObject},set:function(t){this._thisObject=t},enumerable:!0,configurable:!0}),i.prototype.setRenderItem=function(e,i){this.list.defaultItem=t.FairyTextureUtils.getUrl(e,i)},Object.defineProperty(i.prototype,"array",{get:function(){return this._array},set:function(t){this.removeAllComponent(),this.clearData(),this._array=t||[],this.updateList()},enumerable:!0,configurable:!0}),i.prototype.updateList=function(){null!=this.list&&(this.list.numItems=this._array.length)},i.prototype.clearData=function(){if(this.elements)for(var e in this.elements)this.elements[e]instanceof t.BaseSprite&&this.elements[e].hide();this._btn_left&&this._btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this),this._btn_right&&this._btn_right.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this),this._btn_left=null,this._btn_right=null,this._elements=[],this._array=[]},i.prototype.touchLeftBtnHandler=function(t){if(this.currentpage>0){var e=this.currentpage-1;this.toPage(e)}},i.prototype.touchRightBtnHandler=function(t){if(this.currentpage<this.array.length-1){var e=this.currentpage+1;this.toPage(e)}},i.prototype.toPage=function(t){t=0>t?0:t,this._selectedPage&&this._selectedPage.apply(this.callbackThisObj,0),this.scrollToView(t,!0)},Object.defineProperty(i.prototype,"btn_left",{set:function(t){t?(this._btn_left=t,this._btn_left.addEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this)):this._btn_left&&this._btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchLeftBtnHandler,this),this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"btn_right",{set:function(t){t?(this._btn_right=t,this._btn_right.addEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this)):this._btn_right&&this._btn_right.removeEventListener(egret.TouchEvent.TOUCH_TAP,flash.bind(this.touchRightBtnHandler,this),this)},enumerable:!0,configurable:!0}),i.prototype.scrollToView=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.list.scrollToView(t,e,i)},Object.defineProperty(i.prototype,"columnGap",{get:function(){return this.list.columnGap},set:function(t){this.list.columnGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isOverflow",{get:function(){for(var t=this.elements.length,e=0,i=0;t>i;i++)e+=this.elements[i]?this.elements[i].width:0;return e+=t>0?(t-1)*this.columnGap:0,e>this.list.width},enumerable:!0,configurable:!0}),i.prototype.scrollLeft=function(t,e){this.list&&this.list.scrollPane&&this.list.scrollPane.scrollLeft(t,e)},i.prototype.scrollRight=function(t,e){this.list&&this.list.scrollPane&&this.list.scrollPane.scrollRight(t,e)},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearData(),null!=this.list&&(this.list.dispose(),this.list=null),this._btn_left=null,this._btn_right=null,this._thisObject=null,this._selectedPage=null,this._array=null,this._elements=null},i}(t.BaseSprite);t.HEGList=e,__reflect(e.prototype,"fairui.HEGList")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.m_componentDic=null,e.m_eventPool=null,e._min=0,e.m_eventPool=new EventPool,e.m_componentDic=new flash.Dictionary,e}return __extends(e,t),e.prototype.constructExtension=function(e){t.prototype.constructExtension.call(this,e),this.init(null)},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e)},e.prototype.IsInited=function(){return!0},e.prototype.onSliderChangedHandler=function(t){},Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=t},enumerable:!0,configurable:!0}),e.prototype.addAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.relistenerAll(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.addAllListener()},this))},e.prototype.removeAllListener=function(){null!=this.m_eventPool&&(this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.removeAllListener()},this))},e.prototype.addGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.addListener(t,e,n,i)},e.prototype.removeGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.removeListener(t,e,n,i)},e.prototype.init=function(t){this.initUI(),this.addAllListener()},e.prototype.initUI=function(){},e.prototype.addComponent=function(t){if(t){var e=t.getHashCode();this.m_componentDic.setItem(e,t)}return t},e.prototype.removeComponent=function(t){if(null!=t){var e=t.getHashCode();this.m_componentDic.delItem(e)}},e.prototype.removeAllComponent=function(){this.m_componentDic.reset()},e.prototype.getHashCode=function(){return this.hashCode},e.prototype.clear=function(){null!=this.m_eventPool&&this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.clear()},this)},e.prototype.destroyComponent=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.dispose()},this)},e.prototype.dispose=function(){this.destroyComponent(),this.m_eventPool&&this.m_eventPool.dispose(),this.m_componentDic=null,this.m_eventPool=null,this.dispose()},e.prototype.GetHashCode=function(){return this.hashCode},e}(fairygui.GSlider);t.HSlider=e,__reflect(e.prototype,"fairui.HSlider",["IComponent","IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.lab=this.getChild("title").asTextField},e}(t.BaseButton);t.LabButton=e,__reflect(e.prototype,"fairui.LabButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t),this.img_loader=this.getElement("icon"),this.txt_title=this.getElement("title"),this.img=this.getElement("img"),this.img.visible=!1},Object.defineProperty(i.prototype,"title",{set:function(t){t=Global.lang.getLang(t),egret.superSetter(i,this,"title",t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selected",{set:function(t){this._selected2=t,egret.superSetter(i,this,"selected",t),null!=this.spriteSheet&&this.img_loader&&(this.img_loader.texture=this.spriteSheet.getTexture(t?"down":"up"))},enumerable:!0,configurable:!0}),i.prototype.setState=function(t){this._state=t,null!=this.spriteSheet&&this.img_loader&&(this._selected2?this.img_loader.texture=this.spriteSheet.getTexture("down"):t==fairygui.GButton.UP?this.img_loader.texture=this.spriteSheet.getTexture("up"):t==fairygui.GButton.DOWN||t==fairygui.GButton.SELECTED_DISABLED?this.img_loader.texture=this.spriteSheet.getTexture("down"):(t==fairygui.GButton.OVER||t==fairygui.GButton.SELECTED_OVER)&&(this.img_loader.texture=this.spriteSheet.getTexture("over")),e.prototype.setState.call(this,t))},Object.defineProperty(i.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skin",{get:function(){return this._url},set:function(t){this.url=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"url",{get:function(){return this._url},set:function(e){this._url!=e&&this._url&&t.LoaderManager.disposeTarget(this._url,this),e?t.LoaderManager.loadImageRes(e,this,function(i){var n=t.LoaderManager.getRes(e,this);this.setSpriteSheet(n)},null):this.setState(this._state),this._url=e},enumerable:!0,configurable:!0}),i.prototype.setSpriteSheet=function(t){t&&(this.width=t.textureWidth,this.height=parseInt(""+t.textureHeight/3),null!=this._spriteSheet&&(this._spriteSheet.dispose(),this._spriteSheet=null),this.img_loader&&null!=this.img_loader.texture&&(this.img_loader.texture.dispose(),this.img_loader.texture=null),null!=this.txt_title&&(this.txt_title.width=this.width,this.txt_title.y=this.height-this.txt_title.height>>1),this._spriteSheet=new egret.SpriteSheet(t),this._spriteSheet.createTexture("up",0,0,this.width,this.height),this._spriteSheet.createTexture("over",0,this.height,this.width,this.height),this._spriteSheet.createTexture("down",0,2*this.height,this.width,this.height),this._selected2?this.setState(fairygui.GButton.DOWN):this.setState(this._state||fairygui.GButton.UP))},Object.defineProperty(i.prototype,"spriteSheet",{get:function(){return this._spriteSheet},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),i.prototype.getElement=function(t){return this.getChild(t)},i.prototype.dispose=function(){this._url&&(t.LoaderManager.disposeTarget(this._url,this),this._url=null),null!=this._spriteSheet&&(this._spriteSheet.dispose(),this._spriteSheet=null),null!=this.img_loader&&(this.img_loader.dispose(),this.img_loader=null),null!=this.txt_title&&(this.txt_title.dispose(),this.txt_title=null),this._data=null,e.prototype.dispose.call(this)},i}(t.BaseButton);t.LoaderButton=e,__reflect(e.prototype,"fairui.LoaderButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._page=1,e._totalPages=1,e.pageItems=5,e._data=null,e.touchChildren=!0,e.touchEnabled=!1,e}return __extends(e,t),e.prototype.show=function(e){t.prototype.show.call(this,e),this.btn_left.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickLeftHandler,this),this.btn_left.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickRightHandler,this)},e.prototype.hide=function(){this.btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickLeftHandler,this),this.btn_left.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickRightHandler,this)
},e.prototype.clickLeftHandler=function(t){this._page>1&&(this._page--,this.updateBtnStates(),this.dispatchEvent(new GameEvent(GameEvent.SELECT)))},e.prototype.clickRightHandler=function(t){this._page<this._totalPages&&(this._page++,this.updateBtnStates(),this.dispatchEvent(new GameEvent(GameEvent.SELECT)))},e.prototype.setData=function(t,e){void 0===e&&(e=5),this._data=t||[],this.pageItems=e,this._totalPages=ArrayUtil.getPages(t,e),this._page=1,this.updateBtnStates(),this.dispatchEvent(new GameEvent(GameEvent.SELECT))},e.prototype.updateBtnStates=function(){this.title=this._page+"/"+this._totalPages,this.btn_left.enabled=!(this._page<=1),this.btn_right.enabled=!(this._page>=this._totalPages)},Object.defineProperty(e.prototype,"page",{get:function(){return this._page},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalPage",{get:function(){return this._totalPages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageData",{get:function(){return ArrayUtil.getPageList(this._data,this.page,this.pageItems)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this._data=null,this._page=0,this._totalPages=0,this.pageItems=0},e}(t.BaseButton);t.PageButton=e,__reflect(e.prototype,"fairui.PageButton")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._progress=0,e._barWidth=0,e._maximum=100,e._minimum=0,e._slideDuration2=500,e._isPlayTween=!1,e.tweenObj=null,e._slideDuration=0,e.touchable=!1,e}return __extends(e,t),e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e)},e.prototype.setup_afterAdd=function(e,i){this.bg=this.getElement("bg"),this.bar=this.getElement("icon"),this.titleTxt=this.getElement("title"),this._barWidth=this.bar.width,t.prototype.setup_afterAdd.call(this,e,i),this.selectedIcon&&this.selectedIcon.length>0&&(this.bg.url=this.selectedIcon),this.InitUI()},e.prototype.InitUI=function(){this.maximum=this._maximum>0?this._maximum:this.width},e.prototype.setLabel=function(t,e){void 0===e&&(e=-1),this.text=t,e>=0&&(this.textColor=e)},Object.defineProperty(e.prototype,"textColor",{get:function(){return this.titleTxt.color},set:function(t){this.titleTxt.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slideDuration2",{get:function(){return this._slideDuration2},set:function(t){this._slideDuration2=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayTween",{get:function(){return this._isPlayTween},set:function(t){this._isPlayTween=t,t?this.tweenObj=this.tweenObj||{}:null!=this.tweenObj&&(fairygui.GTween.kill(this.tweenObj),this.tweenObj=null)},enumerable:!0,configurable:!0}),e.prototype.setVal=function(t,e,i,n,r,o){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===n&&(n=!0),void 0===r&&(r=null),void 0===o&&(o=null);var s=this;e>=0&&(this._maximum=e,this.maximum=e),i>=0&&(this.minimum=i),this._slideDuration2=5e-4*(this.width-this.width*this.progress),this._isPlayTween&&n?(this.tweenObj.value=this.value,fairygui.GTween.kill(this.tweenObj),fairygui.GTween.to(this.value,t,this.slideDuration2).setTarget(this.tweenObj).onUpdate(this.onUpdate,this).onComplete(function(){var t=fairygui.GTween.getTween(s.tweenObj);t&&null!=r&&r.apply(o)},this)):this.value=t},e.prototype.onUpdate=function(t){this.value=this.tweenObj.value=t.value.x},Object.defineProperty(e.prototype,"minimum",{get:function(){return this._minimum},set:function(t){this._minimum=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this._maximum},set:function(t){this._maximum=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._minimum+(this._maximum-this._minimum)*this._progress},set:function(t){this.progress=(t-this._minimum)/(this._maximum-this._minimum)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},set:function(t){this._progress=t>1?1:0>t?0:t,this.bar&&(this.bar.width=this._barWidth*this._progress)},enumerable:!0,configurable:!0}),e.prototype.showProgress=function(t,e,i){void 0===i&&(i=!1),this.progress=0==e?0:t/e,i?this.text=parseInt(""+100*this.progress)+"%":this.text=parseInt(t.toString())+"/"+parseInt(e.toString())},Object.defineProperty(e.prototype,"text",{get:function(){return this.titleTxt.text},set:function(t){this.titleTxt.text=t},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),this.bar=null,this.titleTxt=null,this.bg=null},e}(t.BaseButton);t.ProgressBar=e,__reflect(e.prototype,"fairui.ProgressBar")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.constructFromXML=function(t){e.prototype.constructFromXML.call(this,t),this.eloader_title.addEventListener(egret.Event.COMPLETE,this.loadTitleComplete,this),this.btn_close.addEventListener(egret.TouchEvent.TOUCH_END,this.close,this);try{var i=JSON.parse(this.data);i&&i.hasOwnProperty("title")&&i.hasOwnProperty("pkg")&&this.setTitleSkin(i.pkg,i.title)}catch(n){}},i.prototype.setTitleSkin=function(e,i){var n=t.FairyTextureUtils.getUrl(e,i);null==n?Global.log.error(this,"没有对应标题资源 "+e+"_"+i+"!"):this.eloader_title.setFairySource(e,i)},i.prototype.loadTitleComplete=function(t){this.eloader_title.x=.5*(this.width-this.eloader_title.width),this.eloader_title.y=.5*(this.height-this.eloader_title.height)},i.prototype.clear=function(){e.prototype.clear.call(this)},i.prototype.close=function(){this.parent instanceof t.BasePanel?this.parent.close():this.parent&&this.parent.parent instanceof t.BasePanel&&this.parent.parent.close()},i.prototype.dispose=function(){this.eloader_title.removeEventListener(egret.Event.COMPLETE,this.loadTitleComplete,this),e.prototype.dispose.call(this),null!=this.eloader_title&&this.eloader_title.dispose(),this.eloader_title=null,this.img_bar=null,this.btn_close=null},i}(t.BaseSprite);t.TitleBar=e,__reflect(e.prototype,"fairui.TitleBar")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.maskClick=!0,t}return __extends(i,e),i.prototype.constructFromXML=function(e){t.FairyUtils.setVar(this,this)},i.prototype.init=function(t){this.param=t,this.initUI(),this.addAllListener(),this.initData(t),this.onResize(),this.maskClick&&EffectUtil.openWindowEffect(this)},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_END,this.stageHandler,this,Global.stage)},i.prototype.removeAllListener=function(){e.prototype.removeAllListener.call(this),this.removeGameListener(egret.TouchEvent.TOUCH_END,this.stageHandler,this,Global.stage)},i.prototype.stageHandler=function(e){var i=this.param?this.param.target:null;this.containsGlobalPoint(e.stageX,e.stageY)||(i instanceof t.UIEListRenderItem?i.containsGlobalPoint(e.stageX,e.stageY)||this.close():this.close())},i.prototype.close=function(){var t=this;UISystem.Inst.closeTipView(t.getCls())},Object.defineProperty(i.prototype,"isShowMask",{get:function(){var t=this.param&&this.param.hasOwnProperty("showMask")&&this.param.showMask;return t},enumerable:!0,configurable:!0}),i.prototype.OnResize=function(){var t=this.param&&this.param.hasOwnProperty("showMask")&&this.param.showMask;if(t)this.x=.5*(Global.stageWidth-this.width),this.y=.5*(Global.stageHeight-this.height);else{var e=this.param&&this.param.hasOwnProperty("target")?this.param.target:null;if(e){var i=e.parent.localToGlobal(e.x,e.y);this.x=i.x+e.width,this.y=i.y-.5*this.height,this.x<0?this.x=0:this.x+this.width>Global.stageWidth&&(this.x=Global.stageWidth-this.width),this.y<0?this.y=0:this.y+this.height>Global.stageHeight&&(this.y=Global.stageHeight-this.height)}}},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.View);t.UIBaseTip=e,__reflect(e.prototype,"fairui.UIBaseTip")}(fairui||(fairui={}));var com;!function(t){var e;!function(t){var e=function(){function t(){return this.SUFIX_MIN="_client_min.json",this.isComplete=!1,t._instances?void Global.log.error(this,"Error: DataConfigUtils an only use instances() to get an instance!"):(this._beanConfigPropertyErrorDict=new flash.Dictionary,void(this.sufix=this.SUFIX_MIN))}return t.instances=function(){return t._instances||(t._instances=new t),t._instances},t.prototype.start=function(t){this._complete=t,this._zip=new JSZip(RES.getRes("configCfg_map"));var e=this._zip.file("configCfg1.data").asText();egret.callLater(this.setupJsonData,this,e)},t.prototype.setupJsonData=function(t){this._jsonDataObj1=JSON.parse(t),egret.callLater(this.setupJsonData2,this)},t.prototype.setupJsonData2=function(t){var e=this._zip.file("configCfg2.data").asText();this._jsonDataObj2=JSON.parse(e),this.clear(),this.isComplete=!0,this._complete.apply(this._complete.owner)},t.prototype.clear=function(){this._zip=null,this._jsonDataObj1=null,this._jsonDataObj2=null},t.prototype.loadJsonFile=function(t,e){var i=t.replace("Bean",this.sufix);this.readJosnData(i,e)},t.prototype.readJosnData=function(t,e){var i=this._jsonDataObj[t];if(i){var n=i.split(/\n/gi);if(n){var r=void 0,o=void 0,s=void 0;n[0];if(this.sufix==this.SUFIX_MIN){var a=n[1];r=n[2],o=JSON.parse(r),s=JSON.parse(a)}else r=n[1],o=JSON.parse(r);e(t,o,s)}}},t.prototype.notHaveBean=function(t,e){var i=Global.lang.getLang("lang_client_721",t,e);egret.error(i)},t.prototype.beanConfigPropertyError=function(t,e){var i=this._beanConfigPropertyErrorDict.getItem(t);null==i&&(i=new flash.Dictionary,this._beanConfigPropertyErrorDict.setItem(t,i)),i.getItem(e)||i.setItem(e,e)},t._instances=null,t}();t.DataConfigUtils=e,__reflect(e.prototype,"com.bean.DataConfigUtils")}(e=t.bean||(t.bean={}))}(com||(com={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.touchable=!1,e}return __extends(e,t),e.prototype.loadImage=function(e,i,n){void 0===i&&(i=null),void 0===n&&(n=null),t.prototype.loadImage.call(this,e,i,n)},Object.defineProperty(e.prototype,"texture",{get:function(){return this._iconObject.texture},set:function(t){this._iconObject&&(this._iconObject.texture=t)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.dispose()},e}(t.UIBitmapIcon);t.UIBitmapIcon2=e,__reflect(e.prototype,"fairui.UIBitmapIcon2")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._dataList=null,e.m_componentDic=null,e.m_eventPool=null,e.m_eventPool=new EventPool,e.m_componentDic=new flash.Dictionary,e}return __extends(e,t),e.prototype.constructExtension=function(e){t.prototype.constructExtension.call(this,e),this.init(null)},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e)},e.prototype.IsInited=function(){return!0},e.prototype.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),this.visibleItemCount=fairygui.UIConfig.defaultComboBoxVisibleItemCount},Object.defineProperty(e.prototype,"array",{get:function(){return this._dataList},set:function(t){this._dataList=t;var e=[];if(null!=this._dataList)for(var i=0;i<this._dataList.length;i++){var n=this._dataList[i];egret.is(n,"string")?e.push(n):n.hasOwnProperty("label")&&e.push(n.label)}this.items=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectHandler",{get:function(){return this._selectHandler},set:function(t){this._selectHandler=t,t.isImmediatelyGc=!1},enumerable:!0,configurable:!0}),e.prototype.onItemTapHandler=function(t){var e=this.selectedIndex,i=this._dataList[e];i&&null!=this._selectHandler&&this._selectHandler.executeWith([i])},e.prototype.init=function(t){this.initUI(),this.addAllListener()},e.prototype.initUI=function(){},e.prototype.addAllListener=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.addAllListener()},this)},e.prototype.removeAllListener=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.removeAllListener()},this)},e.prototype.addGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.addListener(t,e,n,i)},e.prototype.removeGameListener=function(t,e,i,n){null!=this.m_eventPool&&this.m_eventPool.removeListener(t,e,n,i)},e.prototype.addComponent=function(t){return null==t||this.m_componentDic.hasOwnProperty(t.getHashCode())?t:(this.m_componentDic.setItem(t.getHashCode(),t),t)},e.prototype.removeComponent=function(t){if(null!=t){var e=this.m_componentDic[t.getHashCode()];null!=e&&delete this.m_componentDic[t.getHashCode()]}},e.prototype.removeAllComponent=function(){this.m_componentDic.reset()},e.prototype.clear=function(){null!=this.m_eventPool&&this.m_eventPool.removeAllListener(),this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.clear()},this)},e.prototype.destroyComponent=function(){this.m_componentDic.forEach(function(t,e){egret.is(e,"IComponent")&&e.dispose()},this)},e.prototype.getHashCode=function(){return this.hashCode},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disposed||(t.prototype.dispose.call(this),this.clear(),this.m_eventPool&&this.m_eventPool.dispose(),this.m_componentDic=null,this.m_eventPool=null)},e}(fairygui.GComboBox);t.UIDropDownList=e,__reflect(e.prototype,"fairui.UIDropDownList",["IComponent","IDispose"])}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.canSelect=!1,e.__data=null,e._select=!1,e}return __extends(e,t),e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e)},e.prototype.initComplete=function(){return this.isInited()?(this.isOpened||(this.isOpened=!0,this.initUI()),this.initData(this.param),this.isComplyed=!0,!0):!1},e.prototype.containsGlobalPoint=function(t,e){var i=this.globalToLocal(t,e),n=new egret.Rectangle(0,0,this.width,this.height);return n.contains(i.x,i.y)},Object.defineProperty(e.prototype,"select",{get:function(){return this.canSelect?"down"==this.currentState:!1},set:function(t){this.canSelect&&(this.currentState=t?"down":"up")},enumerable:!0,configurable:!0}),e.prototype.show=function(t){this.data=this._data=t,this.addAllListener()},e.prototype.hide=function(){this.clear()},e.prototype.clear=function(){t.prototype.clear.call(this),this.removeAllListener()},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(t.UIComponent);t.UIEListRenderItem=e,__reflect(e.prototype,"fairui.UIEListRenderItem")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.constructExtension=function(e){t.prototype.constructExtension.call(this,e)},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this._txt=this.getChild("title")},e.prototype.setText=function(t){this.text=Global.lang.getLang(t)||t},Object.defineProperty(e.prototype,"txt",{get:function(){return this._txt._textField},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"htmlText",{get:function(){return this._txt.text},set:function(t){this.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._txt.text},set:function(t){this._txt.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._txt.fontSize},set:function(t){this._txt.fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._txt.color},set:function(t){this._txt.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return this._txt.font},set:function(t){this._txt.font=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._txt.align},set:function(t){this._txt.align=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this._txt.verticalAlign},set:function(t){this._txt.verticalAlign=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"singleLine",{get:function(){return this._txt.singleLine},set:function(t){this._txt.singleLine=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this._txt.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this._txt.height},enumerable:!0,configurable:!0}),e}(t.BaseSprite);t.UILabel=e,__reflect(e.prototype,"fairui.UILabel")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._minVal=0,e._maxVal=100,e._add=1,e}return __extends(e,t),e.prototype.initUI=function(){t.prototype.initUI.call(this),this.lab_num=this.getChild("title").asTextField,this.lab_num.touchable=!0},e.prototype.addAllListener=function(){t.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchAddHandler,this,this.btn_add),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchRedHandler,this,this.btn_red),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchLabHandler,this,this.lab_num)},e.prototype.removeAllListener=function(){t.prototype.removeAllListener.call(this),this.removeGameListener(egret.TouchEvent.TOUCH_TAP,this.touchAddHandler,this,this.btn_add),this.removeGameListener(egret.TouchEvent.TOUCH_TAP,this.touchRedHandler,this,this.btn_red),this.removeGameListener(egret.TouchEvent.TOUCH_TAP,this.touchLabHandler,this,this.lab_num)},e.prototype.touchAddHandler=function(t){var e=this.value;e+this._add>this._maxVal?this.lab_num.text=this._maxVal+"":this.lab_num.text=""+(e+this._add),null!=this._addHandler&&this._addHandler.executeWith([this.value]),null!=this._changeHandler&&this._changeHandler.executeWith([this.value])},e.prototype.touchRedHandler=function(t){var e=this.value;e-this._add<this._minVal?this.lab_num.text=this._minVal+"":this.lab_num.text=""+(e-this._add),null!=this._redHandler&&this._redHandler.executeWith([this.value]),null!=this._changeHandler&&this._changeHandler.executeWith([this.value])},e.prototype.clickCounterHandler=function(t){var e=t.data.item;if(e==this){var i=t.data.index,n=this.lab_num.text;10>i?(n+=i,parseInt(n)>this._maxVal?n=this._maxVal.toString():parseInt(n)<this._minVal&&(n=this._minVal.toString()),this.lab_num.text=n):10==i?(n||(n=this._minVal.toString()),this.lab_num.text=n):11==i?(n=n.length>0?n.substr(0,n.length-1):"",parseInt(n)>this._maxVal?n=this._maxVal.toString():parseInt(n)<this._minVal&&(n=this._minVal.toString()),this.lab_num.text=n):12==i&&(this.lab_num.text=this._maxVal.toString()),null!=this._changeHandler&&this._changeHandler.executeWith([this.value])}},e.prototype.touchLabHandler=function(t){},Object.defineProperty(e.prototype,"addValue",{get:function(){return this._add},set:function(t){this._add=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minVal",{get:function(){return this._minVal},set:function(t){this._minVal=t,this.value<this._minVal&&(this.lab_num.text=this._minVal+"")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxVal",{get:function(){return this._maxVal},set:function(t){this._maxVal=t,this.value>this._maxVal&&(this.lab_num.text=this._maxVal+"")},enumerable:!0,configurable:!0}),e.prototype.setDefault=function(t){this.lab_num.text=t.toString()},Object.defineProperty(e.prototype,"addHandler",{get:function(){return this._addHandler},set:function(t){this._addHandler=t,t.isImmediatelyGc=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"redHandler",{get:function(){return this._redHandler},set:function(t){this._redHandler=t,t.isImmediatelyGc=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeHandler",{get:function(){return this._changeHandler},set:function(t){this._changeHandler=t,t.isImmediatelyGc=!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){var t=this.lab_num?parseInt(this.lab_num.text):0;return t},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){t.prototype.dispose.call(this),null!=this._addHandler&&this._addHandler.gc(),null!=this._redHandler&&this._redHandler.gc(),null!=this._changeHandler&&this._changeHandler.gc(),this._addHandler=null,this._redHandler=null,this._changeHandler=null,this._maxVal=0,this._minVal=0},e}(t.BaseButton);t.UINumberItemComp=e,__reflect(e.prototype,"fairui.UINumberItemComp")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._textColor=0/0,e._fillColor=0/0,e._fillAlpha=0/0,e._strokeColor=0/0,e._strokeAlpha=0/0,e._strokeWeight=0/0,e}return __extends(e,t),e.prototype.setup_afterAdd=function(e,i){t.prototype.setup_afterAdd.call(this,e,i),this.rect_bg&&(isNaN(this._textColor)||(this.textColor=this._textColor),this._fillColor=isNaN(this._fillColor)?this.rect_bg.color:this._fillColor,this._fillAlpha=isNaN(this._fillAlpha)?this.rect_bg._fillAlpha:this._fillAlpha,this._strokeColor=isNaN(this._strokeColor)?this.rect_bg._lineColor:this._strokeColor,this._strokeAlpha=isNaN(this._strokeAlpha)?this.rect_bg._lineAlpha:this._strokeAlpha,this._strokeWeight=isNaN(this._strokeWeight)?this.rect_bg._lineSize:this._strokeWeight,this.drawBg())},e.prototype.initUI=function(){t.prototype.initUI.call(this),this.rect_bg=this.getChild("icon"),this.titleTxt=this.getChild("title")},Object.defineProperty(e.prototype,"textColor",{get:function(){return isNaN(this._textColor)?65280:16777215},set:function(t){this._textColor=t,this.titleTxt.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"prompt",{get:function(){return this.titleTxt.promptText},set:function(t){this.titleTxt.promptText=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.titleTxt.text},set:function(t){this.titleTxt.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this.titleTxt.align},set:function(t){this.titleTxt.align=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.titleTxt.verticalAlign},set:function(t){this.titleTxt.verticalAlign=t},enumerable:!0,configurable:!0}),e.prototype.setFocus=function(){fairygui.GRoot.inst.focus=this.titleTxt;var t=this.titleTxt.displayObject;t&&t.$setSelection(t.selectionEndIndex,t.selectionEndIndex)},Object.defineProperty(e.prototype,"fillColor",{get:function(){return this._fillColor},set:function(t){this._fillColor=t,this.rect_bg&&(this.rect_bg.color=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillAlpha",{get:function(){return this._fillAlpha},set:function(t){this._fillAlpha=t,this.rect_bg&&(this.rect_bg.alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(t){this._strokeColor=t,this.rect_bg&&this.drawBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(t){this._strokeAlpha=t,this.rect_bg&&this.drawBg()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWeight",{get:function(){return this._strokeWeight},set:function(t){this._strokeWeight=t,this.rect_bg&&this.drawBg()},enumerable:!0,configurable:!0}),e.prototype.drawBg=function(){this.rect_bg.drawCommon()},e}(t.BaseButton);t.UITextInput=e,__reflect(e.prototype,"fairui.UITextInput")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this,"load","UILoadingView")||this;return t.index=1,t}return __extends(i,e),i.prototype.registerClasses=function(){t.PanelRegister.registerClass("load","ProgressBar",t.ProgressBar)},i.prototype.InitUI=function(){e.prototype.initUI.call(this),this.lab_tip.visible=!1,this.lab_tip.text=""},i.prototype.setViewStruct=function(){e.prototype.setViewStruct.call(this),this.viewStruct.isWindow=!1,this.viewStruct.layerType=UILayout.TYPE_TOP},i.prototype.initData=function(t){e.prototype.initData.call(this,t),this.proBar.progress=0,this.proBar.isPlayTween=!0,this.lab_tip.text="",this.changeBgImg(),Global.timer.doTimeLoop(6e3,flash.bind(this.changeBgImg,this)),t instanceof utils.Handler&&t.execute()},i.prototype.labelFunction=function(t,e){return""},i.prototype.advanceTime=function(t){},i.prototype.changeBgImg=function(){for(var t=0;t=MathUtil.makeRandom(1,3);)if(t!=this.index){this.index=t;break}this.eloader_bg.loadImage(UrlUtil.getPanelUrl("loading"+t,"loading"),null)},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnStartHandler,this,this)},i.prototype.removeAllListener=function(){e.prototype.removeAllListener.call(this),this.removeGameListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnStartHandler,this,this)},i.prototype.onComplete=function(){this.proBar.progress>=1&&Global.timer.doFrameOnce(1,flash.bind(this.OnDelayFrameComplete,this))},i.prototype.OnDelayFrameComplete=function(){this.btn_start.touchable=!0,this.proBar.progress=1,this.lab_pro.text="100%",this.currentState="loaded",EventManager.dispatchEvent(GameEvent.MAIN_LOAD_COMPLETE)},i.prototype.onImitateProgress=function(t,e){var i=t/e;this.proBar.setVal(t,e,0,!0,this.onComplete,this),this.proBar.setLabel(""),this.lab_pro.text=MathUtil.toInt(100*i)+"%"},i.prototype.clickBtnStartHandler=function(t){this.btn_start.touchable&&EventManager.dispatchEvent(GameEvent.START_GAME)},i.prototype.onResize=function(){e.prototype.onResize.call(this),this.btn_start.width=Global.stageWidth,this.group_start.y=Global.stageHeight-this.group_start.height;var t=Global.stageWidth/this.width,i=Global.stageHeight/this.height;this.eloader_bg.scaleX=t,this.eloader_bg.scaleY=i},i.prototype.clear=function(){e.prototype.clear.call(this),Global.timer.clearTimer(flash.bind(this.changeBgImg,this))},i}(t.UIBaseWindow);t.UILoadingView=e,__reflect(e.prototype,"fairui.UILoadingView")}(fairui||(fairui={}));var com;!function(t){var e;!function(e){var i=function(){function e(){}return Object.defineProperty(e.prototype,"q_itemContainer",{get:function(){return null==this._q_itemContainer&&(this._q_itemContainer=new t.game.data.container.Q_itemContainer,this._q_itemContainer.load()),this._q_itemContainer},enumerable:!0,configurable:!0}),e}();e.DataManager=i,__reflect(i.prototype,"com.bean.DataManager")}(e=t.bean||(t.bean={}))}(com||(com={}));var fairui;!function(t){var e=function(){function t(){}return t}();t.LoadingPanel=e,__reflect(e.prototype,"fairui.LoadingPanel")}(fairui||(fairui={}));var Global=function(){function t(){}return t.initStage=function(e){this.stage=e,this.stage.addEventListener(egret.Event.RESIZE,this.resizeHandler,this),t.timer=new com.time.TimeManager,t.lang=new LangManager,t.log=new LogManager,e.addEventListener(egret.Event.ACTIVATE,this.onActive,this),e.addEventListener(egret.Event.DEACTIVATE,this.onDeActive,this)},t.resizeHandler=function(){EventManager.dispatchEvent(GameEvent.STGAE_RESIZE)},t.onDeActive=function(e){t.isActive=!1,t.isMusic=!1,t.log.debug(this,"游戏进入缓慢运动状态")},t.onActive=function(e){t.isActive=!0,t.isMusic=!0,t.log.debug(this,"游戏进入正常运动状态")},Object.defineProperty(t,"stageWidth",{get:function(){return this.stage?this.stage.stageWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stageHeight",{get:function(){return this.stage?this.stage.stageHeight:0},enumerable:!0,configurable:!0}),t.version="0.0.1",t.isDebug=!0,t.isShowLog=!0,t.isActive=!0,t.isMusic=!0,t.defaultFont="方正粗圆_GBK",t.stage=null,t.timeMS=0,t.currentGameFps=30,t}();__reflect(Global.prototype,"Global");var UILayout=function(){function t(){}return t.setWindowLayout=function(e){var i=e.getViewStruct().layout;switch(i){case t.LEFT_TOP:e.x=0,e.y=0;break;case t.TOP_CENTER:e.x=.5*(Global.stageWidth-e.width),e.y=0;break;case t.TOP_RIGHT:e.x=Global.stageWidth-e.width,e.y=0;break;case t.LEFT_CENTER:e.x=0,e.y=.5*(Global.stageHeight-e.height);break;case t.CENTER:e.x=.5*(Global.stageWidth-e.width),e.y=.5*(Global.stageHeight-e.height);break;case t.RIGHT_CENTER:e.x=Global.stageWidth-e.width,e.y=.5*(Global.stageHeight-e.height);break;case t.LEFT_BOTTOM:e.x=0,e.y=Global.stageHeight-e.height;break;case t.BOTTOM_CENTER:e.x=.5*(Global.stageWidth-e.width),e.y=Global.stageHeight-e.height;break;case t.RIGHT_BOTTOM:e.x=Global.stageWidth-e.width,e.y=Global.stageHeight-e.height}},t.setWindowLayer=function(e){var i,n=0,r=0;switch(e.layerType){case t.TYPE_MAIN:for(r=fairui.FairyUIManager.windowLayer.numChildren,n=r-1;n>=0&&0!=fairui.FairyUIManager.windowLayer.numChildren;n--){try{i=fairui.FairyUIManager.windowLayer.getChildAt(n)}catch(o){console.log("xxx")}i instanceof fairui.UIBaseWindow&&!i.isNotDo&&UISystem.Inst.removeWindowView(i)}fairui.FairyUIManager.mainLayer.addChild(e);break;case t.TYPE_WINDOW:if(r=fairui.FairyUIManager.windowLayer.numChildren,e.isFirst)for(n=r-1;n>=0&&0!=fairui.FairyUIManager.windowLayer.numChildren;n--)i=fairui.FairyUIManager.windowLayer.getChildAt(n),i instanceof fairui.UIBaseWindow&&!i.isNotDo&&UISystem.Inst.removeWindowView(i);else if(e.isTwo){var s=e.mutexViews;for(n=r-1;n>=0&&0!=fairui.FairyUIManager.windowLayer.numChildren;n--)i=fairui.FairyUIManager.windowLayer.getChildAt(n),i instanceof fairui.UIBaseWindow&&i.isTwo&&s&&-1!=s.indexOf(i.panelId)&&UISystem.Inst.removeWindowView(i)}e.isShowMask&&t.showMsk(fairui.FairyUIManager.windowLayer),fairui.FairyUIManager.windowLayer.addChild(e);break;case t.TYPE_ALERT:e.isShowMask&&t.showMsk(fairui.FairyUIManager.alertLayer),fairui.FairyUIManager.alertLayer.addChild(e);break;case t.TYPE_TOP:fairui.FairyUIManager.topLayer.addChild(e)}},t.showMsk=function(e,i){void 0===i&&(i=-1),null==t.bgMsk&&(t.bgMsk=new fairui.ELoader,t.bgMsk.autoSize=!1,t.bgMsk.fill=fairygui.LoaderFillType.ScaleFree,t.bgMsk.setFairySource("common","common_BG"),t.bgMsk.width=Global.stageWidth,t.bgMsk.height=Global.stageHeight,t.bgMsk.touchable=!0,t.bgMsk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchEndHandler,this)),null!=t.bgMsk&&t.bgMsk.removeFromParent(),e&&(-1>=i?e.addChild(t.bgMsk.img):e.addChildAt(t.bgMsk.img,i))},t.touchEndHandler=function(t){var e,i=0;for(i=fairui.FairyUIManager.topLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.topLayer.getChildAt(i),e instanceof fairui.UIBaseTip&&e.maskClick&&e.isShowMask)return void e.close();for(i=fairui.FairyUIManager.alertLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.alertLayer.getChildAt(i),e instanceof fairui.UIBaseWindow&&e.maskClick&&e.isShowMask)return void e.close();for(i=fairui.FairyUIManager.windowLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.windowLayer.getChildAt(i),e instanceof fairui.UIBaseWindow&&e.maskClick&&e.isShowMask)return void e.close()},t.removeMsk=function(){null!=t.bgMsk&&t.bgMsk.removeFromParent();var e,i=0;for(i=fairui.FairyUIManager.topLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.topLayer.getChildAt(i),e instanceof fairui.UIBaseTip&&e.isShowMask)return void(i>=1?t.showMsk(fairui.FairyUIManager.topLayer,i):t.showMsk(fairui.FairyUIManager.topLayer,0));for(i=fairui.FairyUIManager.alertLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.alertLayer.getChildAt(i),e instanceof fairui.UIBaseWindow&&e.isShowMask)return void(i>=1?t.showMsk(fairui.FairyUIManager.alertLayer,i):t.showMsk(fairui.FairyUIManager.alertLayer,0));for(i=fairui.FairyUIManager.windowLayer.numChildren-1;i>=0;i--)if(e=fairui.FairyUIManager.windowLayer.getChildAt(i),e instanceof fairui.UIBaseWindow&&e.isShowMask)return void(i>=1?t.showMsk(fairui.FairyUIManager.windowLayer,i):t.showMsk(fairui.FairyUIManager.windowLayer,0))},t.resizeDisplay=function(){null!=t.bgMsk&&(t.bgMsk.width=Global.stageWidth,t.bgMsk.height=Global.stageHeight)
},t.TYPE_WINDOW=0,t.TYPE_MAIN=1,t.TYPE_ALERT=2,t.TYPE_TOP=3,t.VIEW_TYPE_0=0,t.VIEW_TYPE_1=1,t.VIEW_TYPE_2=2,t.VIEW_TYPE_ALERT=3,t.LEFT_TOP=7,t.TOP_CENTER=8,t.TOP_RIGHT=9,t.LEFT_CENTER=4,t.CENTER=5,t.RIGHT_CENTER=6,t.LEFT_BOTTOM=1,t.BOTTOM_CENTER=2,t.RIGHT_BOTTOM=3,t}();__reflect(UILayout.prototype,"UILayout");var UISystem=function(){function t(){this.m_view=new flash.Dictionary,this.m_gc_view=new flash.Dictionary,this.queueWindows=[];var t=12e4;Global.timer.doTimeLoop(t,flash.bind(this.checkCache,this))}return Object.defineProperty(t,"Inst",{get:function(){return null==this._Inst&&(this._Inst=new t),this._Inst},enumerable:!0,configurable:!0}),t.prototype.checkCache=function(){var t=this.getGcViewCache();t.forEach(function(e,i){i instanceof fairui.View&&i.isCanGc()&&(i.dispose(),t.delItem(e))},this)},t.prototype.getGcViewCache=function(){return this.m_gc_view},t.prototype.hasOpenView=function(t){return null!=t&&null!=this.m_view[t]&&null!=this.m_view[t].parent},t.prototype.getOpenWindow=function(t){var e=this.m_view[t];return null==e||null==e.parent?null:e},t.prototype.openWindow=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null),egret.is(t,"string")&&(t=parseInt(t))},t.prototype.getViewByGc=function(t){var e=this.m_gc_view[t];return null!=e?(delete this.m_gc_view[t],e):null},t.prototype.openWindowView=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=null);var n=this.m_view[t];return null==n&&(n=this.getViewByGc(t),null==n&&(n=new t,n.cls=t),this.m_view[t]=n),n.init(e,i),null==n.parent?UILayout.setWindowLayer(n):Global.log.error(this,"已打开该界面"),n},t.prototype.createWindowView=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=null),this.openWindowView(t,e,i)},t.prototype.createView=function(t,e){void 0===e&&(e=null);var i=new t;return i.cls=t,i.init(e),i},t.prototype.removeWindowClass=function(t){this.removeWindowView(this.m_view[t])},t.prototype.removeWindowView=function(t){function e(){i.removeView(t),n&&UILayout.removeMsk()}if(null==t)return null;var i=this,n=t.isShowMask,r=(t.isQueue,t.getViewStruct()?t.getViewStruct().isShowEffect:!1);r?t.playCloseEffect(e,null,this):e()},t.prototype.removeView=function(t){null!=t.parent&&t.parent.removeChild(t),t.removeAllListener(),t.clear(),t.cls in this.m_view&&(delete this.m_view[t.cls],this.m_gc_view[t.cls]=t)},t.prototype.openTipView=function(t,e,i){function n(){o.init(e);var i=e&&e.hasOwnProperty("showMask")&&e.showMask;i&&UILayout.showMsk(fairui.FairyUIManager.topLayer),null==o.parent&&fairui.FairyUIManager.topLayer.addChild(o),r.m_view[t]=o}void 0===e&&(e=null),void 0===i&&(i="");var r=this;if(null!=t){this.closeAllTip();var o=this.m_view[t];if(null==o)if(o=this.getViewByGc(t),null==o){var s=egret.getQualifiedClassName(t);-1!=s.lastIndexOf(".")&&(s=s.substr(s.lastIndexOf(".")+1)),fairui.PanelRegister.registerClass(i,s,t),Global.timer.doTimeOnce(100,function(){o=fairui.PanelRegister.createGObject(i,s),o.init(e),o.cls=t,n()})}else n();else n()}},t.prototype.closeTipView=function(t){var e=this,i=this.m_view[t]||this.getViewByGc(t);if(null!=i){var n=i.isShowMask;n?EffectUtil.closeWindowEffect(i,function(){e.removeView(i),UILayout.removeMsk()},e,null,!0):e.removeView(i)}},t.prototype.closeAllTip=function(){for(var t=fairui.FairyUIManager.topLayer.numChildren,e=null,i=t-1;i>=0;i--)if(e=fairui.FairyUIManager.topLayer.getChildAt(i),e instanceof fairui.UIBaseTip){var n=e.isShowMask;this.removeView(e),n&&UILayout.removeMsk()}},t}();__reflect(UISystem.prototype,"UISystem");var ViewStruct=function(){function t(){this.layerType=UILayout.TYPE_WINDOW,this.isWindow=!0}return Object.defineProperty(t.prototype,"layout",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panelId",{get:function(){return this.window?this.window.id:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNotDo",{get:function(){return this.window&&this.window.view_type==UILayout.VIEW_TYPE_0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFirst",{get:function(){return this.window&&this.window.view_type==UILayout.VIEW_TYPE_1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTwo",{get:function(){return this.window&&this.window.view_type==UILayout.VIEW_TYPE_2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAlert",{get:function(){return this.window&&this.window.view_type==UILayout.VIEW_TYPE_ALERT},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowMask",{get:function(){return this.window&&1==this.window.show_mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isQueue",{get:function(){return this.window&&1==this.window.isQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowEffect",{get:function(){return this.window&&0==this.window.isEffect},enumerable:!0,configurable:!0}),t}();__reflect(ViewStruct.prototype,"ViewStruct");var ADVideo=function(t){function e(){var e=t.call(this)||this;return e.firstPause=!1,e.addEventListener(egret.Event.COMPLETE,e.onVideoLoaded2,e),e}return __extends(e,t),e.prototype.load=function(t,e){void 0===e&&(e=!1);var i=this;if(void 0===e&&(e=!0),t=t||this.src,t||egret.$error(3002),!this.video||this.video.src!=t){this.src=t;var n;!this.video||egret.Capabilities.isMobile?(n=document.createElement("video"),this.video=n,n.controls=null):n=this.video,n.src=t,n.setAttribute("autoplay","autoplay"),n.setAttribute("webkit-playsinline","true"),n.setAttribute("x5-video-orientation","landscape"),n.addEventListener("canplay",this.onVideoLoaded),n.addEventListener("error",function(){return i.onVideoError()}),n.addEventListener("ended",function(){return i.onVideoEnded()}),n.addEventListener("progress",function(t){return i.loadProgress(t)}),n.addEventListener("loadedmetadata",function(){return i.onLoadedmetadata()}),n.addEventListener("durationchange",function(){return i.onDurationchange()}),n.load(),n.style.position="absolute",n.style.top="0px",n.style.zIndex="-88888",n.style.left="0px",n.height=1,n.width=1}},e.prototype.onVideoLoaded2=function(t){void 0===t&&(t=null);var e=this;this.removeEventListener(egret.Event.COMPLETE,this.onVideoLoaded2,this);var i=e.video;e.loaded=!0,i.currentTime=0,i.pause(),e.posterData&&(e.posterData.width=e.getPlayWidth(),e.posterData.height=e.getPlayHeight()),i.width=i.videoWidth,i.height=i.videoHeight,e.videoCanplay(),e.dispatchEvent(new GameEvent(GameEvent.LOAD_COMPLETE)),fairui.Notice.showMiddleMessage("----------------------------------------onVideoLoaded2---duration: "+this.video.duration+" currentTime: "+this.video.currentTime)},e.prototype.onLoadedmetadata=function(){fairui.Notice.showMiddleMessage("----------------------------------------onLoadedmetadata---duration: "+this.video.duration+" currentTime: "+this.video.currentTime)},e.prototype.onDurationchange=function(){fairui.Notice.showMiddleMessage("----------------------------------------onDurationchange---duration: "+this.video.duration+" currentTime: "+this.video.currentTime)},e.prototype.loadProgress=function(t){fairui.Notice.showMiddleMessage("----------------------------------------loadProgress: "+t.timeStamp)},e.prototype.videoCanplay=function(){var t=this;this.video;fairui.Notice.showMiddleMessage("----------------------------------------videoCanplay---0"),this.video.currentTime=0,t.pause()},e.prototype.pause=function(){this.userPlay=!1,this.userPause=!1,null!=this.video&&this.video.pause(),fairui.Notice.showMiddleMessage("----------------------------------------pause"),egret.stopTick(this.markDirty,this)},e.prototype.play=function(t,e){void 0===t&&(t=0),void 0===e&&(e=!1),fairui.Notice.showMiddleMessage("----------------------------------------play---0");var i=this;this.isPlayed=!0;var n=this.video;void 0!=t&&(n.currentTime=+t||0),n.loop=!!e,egret.Capabilities.isMobile?n.style.zIndex="-88888":n.style.zIndex="9999",n.style.position="absolute",n.height=n.videoHeight,n.width=n.videoWidth,"Windows PC"!=egret.Capabilities.os&&"Mac OS"!=egret.Capabilities.os&&(fairui.Notice.showMiddleMessage("----------------------------------------play---1"),window.setTimeout(function(){n.width=0},1e3)),fairui.Notice.showMiddleMessage("----------------------------------------play---2"),this.checkFullScreen(this._fullscreen),n.removeEventListener("timeupdate",function(){return i.onTimeUpdate()}),n.addEventListener("timeupdate",function(){return i.onTimeUpdate()})},e.prototype.checkFullScreen=function(t){fairui.Notice.showMiddleMessage("----------------------------------------checkFullScreen---:"+t);var e=this.video;if(t)null==e.parentElement&&(e.removeAttribute("webkit-playsinline"),document.body.appendChild(e)),egret.stopTick(this.markDirty,this),this.goFullscreen();else if(null!=e.parentElement&&e.parentElement.removeChild(e),e.setAttribute("webkit-playsinline","true"),this.setFullScreenMonitor(!1),egret.startTick(this.markDirty,this),egret.Capabilities.isMobile)return e.currentTime=0,void this.onVideoEnded();this.videoPlay()},e.prototype.videoPlay=function(){fairui.Notice.showMiddleMessage("----------------------------------------videoPlay---0"),this.userPause=!1,this.userPlay=!1,this.video.play(),fairui.Notice.showMiddleMessage("----------------------------------------videoPlay---2")},e.prototype.goFullscreen=function(){fairui.Notice.showMiddleMessage("----------------------------------------goFullscreen---0");var t=this.video;return t.removeAttribute("webkit-playsinline"),egret.Capabilities.isMobile&&(this.requestFullScreen(t),this.setFullScreenMonitor(!0),fairui.Notice.showMiddleMessage("----------------------------------------goFullscreen---3")),!0},e.prototype.requestFullScreen=function(t){var e=t;try{e.requestFullscreen?e.requestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()}catch(i){fairui.Notice.showMiddleMessage("----------------------------------------requestFullScreen error:"+i)}},e.prototype.setFullScreenMonitor=function(t){var e=this.video;t?(e.addEventListener("mozfullscreenchange",this.screenChanged),e.addEventListener("webkitfullscreenchange",this.screenChanged),e.addEventListener("mozfullscreenerror",this.screenError),e.addEventListener("webkitfullscreenerror",this.screenError)):(e.removeEventListener("mozfullscreenchange",this.screenChanged),e.removeEventListener("webkitfullscreenchange",this.screenChanged),e.removeEventListener("mozfullscreenerror",this.screenError),e.removeEventListener("webkitfullscreenerror",this.screenError))},e.prototype.screenChanged=function(t){var e=document.fullscreenEnabled||document.webkitIsFullScreen;e||(this.checkFullScreen(!1),egret.Capabilities.isMobile||(this._fullscreen=e))},e.prototype.screenError=function(){egret.$error(3014)},e.prototype.markDirty=function(){return this.$renderDirty=!0,!0},e.prototype.onVideoEnded=function(){this.pause(),this.isPlayed=!1,this.dispatchEventWith(egret.Event.ENDED),fairui.Notice.showMiddleMessage("----------------------------------------ADVideo onVideoEnded 播放完成")},e.prototype.onTimeUpdate=function(){if(null!=this.video){var t=this.video.currentTime;t>.1&&this.dispatchEvent(new GameEvent(GameEvent.RENDER,t))}},e.prototype.onVideoError=function(){fairui.Notice.showMiddleMessage("----------------------------------------ADVideo onVideoError:播放错误"),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR)},e.prototype.exitFullscreen=function(){fairui.Notice.showMiddleMessage("----------------------------------------exitFullscreen---0");var t=this.video;this.exitFullscreen;try{null!=t.exitFullscreen?t.exitFullscreen():null!=t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()}catch(e){fairui.Notice.showMiddleMessage("exitFullscreen error:"+e)}},e.prototype.close=function(){var t=this;this.fullscreen=!1,this.exitFullscreen(),this.closed=!0,this.video.removeEventListener("canplay",t.onVideoLoaded),this.video.removeEventListener("error",function(){return t.onVideoError()}),this.video.removeEventListener("ended",function(){return t.onVideoEnded()}),this.video.removeEventListener("timeupdate",function(){return t.onTimeUpdate()}),this.pause(),this.video&&(this.video.src="",this.video.removeAttribute("webkit-playsinline"),null!=this.video.parentElement&&this.video.parentElement.removeChild(this.video),this.video=null),this.src="",this.loaded=!1},e.prototype.setWH=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=this.video;r&&(r.width=t,r.height=e,r.style.left=i+"px",r.style.top=n+"px")},e.prototype.getPlayWidth=function(){return isNaN(this.widthSet)?this.bitmapData?this.bitmapData.width:this.posterData?this.posterData.width:0/0:this.widthSet},e.prototype.getPlayHeight=function(){return isNaN(this.heightSet)?this.bitmapData?this.bitmapData.height:this.posterData?this.posterData.height:0/0:this.heightSet},e.prototype.getElement=function(){return this.video.parentElement},e.prototype.removeFromParentElement=function(){null!=this.video.parentElement&&(this.video.removeAttribute("webkit-playsinline"),this.video.parentElement.removeChild(this.video))},e}(egret.Video);__reflect(ADVideo.prototype,"ADVideo");var fairui;!function(t){var e=function(e){function i(){var t=e.call(this,"common","UIAdVideoView")||this;return t._totalTime=0,t._playTime=0,t._isLoaded=!1,t._videoWidth=0,t._videoHeight=0,t.proTime=0,t.url="",t.fullscreenUrl="",t.inlineUrl="",t}return __extends(i,e),i.prototype.initUI=function(){e.prototype.initUI.call(this),this.pro.width=0},i.prototype.initData=function(t){e.prototype.initData.call(this,t),this.currentState="normal",this._playTime=0,this._isLoaded=!1,this.btn_play.visible=!1,this.btn_exit.visible=!1,this.url=UrlUtil.getVideoAdUrl("trailer"),this.fullscreenUrl=UrlUtil.getVideoAdImgUrl("posterfullscreen"),this.inlineUrl=UrlUtil.getVideoAdImgUrl("posterinline"),this.img_icon.loadImage(this.fullscreenUrl);var i=this;i.loadVideo(i.url,i.fullscreenUrl,i.inlineUrl),this.onResize()},i.prototype.addAllListener=function(){e.prototype.addAllListener.call(this),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchDetailHandler,this,this.btn_detail),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.touchPlayHandler,this,this.btn_play),this.addGameListener(egret.TouchEvent.TOUCH_TAP,this.closeHandler,this,this.btn_exit)},i.prototype.onLoadErr=function(e){t.Notice.showMiddleMessage("---------------------------------加载视频错误------------------------------")},i.prototype.touchPlayHandler=function(t){this.btn_play.visible=!1,this.play()},i.prototype.loadVideo=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=""),null==this._video&&(this._isLoaded=!1,this._video=new ADVideo,this.cont.addEgretChild(this._video),this._video.load(t,!1),this._video.addEventListener(GameEvent.LOAD_COMPLETE,this.loadComplete,this),this._video.addEventListener(GameEvent.RENDER,this.renderPlayVideo,this),this._video.addEventListener(egret.Event.ENDED,this.videoPlayEnd,this),this._video.once(egret.IOErrorEvent.IO_ERROR,this.onLoadErr,this))},i.prototype.loadComplete=function(t){this._isLoaded=!0,this.img_icon.clear(),this._video.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this._video.removeEventListener(GameEvent.LOAD_COMPLETE,this.loadComplete,this),this._videoWidth=this._video.measuredWidth,this._videoHeight=this._video.measuredHeight,this.updateVideoXY(),this._video.videoCanplay(),this.btn_play.visible=!0,egret.Capabilities.isMobile&&(this.btn_exit.visible=!0)},i.prototype.renderPlayVideo=function(t){var e=parseInt(""+t.data);this.setPlayTime(e)},i.prototype.play=function(){this._video.play(0,!1),this.pro.width=0,this._totalTime=this._playTime=parseInt(""+this._video.length),Global.timer.doTimeLoop(1e3,flash.bind(this.updateTime,this)),this.proTime=0,Global.timer.doTimeLoop(1,flash.bind(this.updateProgress,this))},i.prototype.updateTime=function(){this._playTime--,this._playTime<0&&(fairygui.GTween.kill(this.pro,!0),this.pro.width=this.bg.width,this.currentState="complete",Global.timer.clearTimer(flash.bind(this.updateTime,this)),Global.timer.clearTimer(flash.bind(this.updateProgress,this)),this.onComplete())},i.prototype.updateProgress=function(){var t=this.proTime/(1e3*this._totalTime);t=0>t?0:t>1?1:t,this.pro.width=this.bg.width*t,this.proTime++},i.prototype.onUpdate=function(){var t=fairygui.GTween.getTween(this.pro);null!=t&&(this.pro.width=parseInt(t.value.x+""))},i.prototype.setPlayTime=function(t){t>=0?this.txt_time.text=this._totalTime-t+"秒":this.txt_time.text=""},i.prototype.videoPlayEnd=function(){egret.Capabilities.isMobile&&"Android"==egret.Capabilities.os&&(t.Notice.showMiddleMessage("---------------------------------安卓播放完成------------------------------"),this.onComplete())},i.prototype.onComplete=function(e){void 0===e&&(e=null),t.Notice.showMiddleMessage("---------------------------------播放完成------------------------------"),this.currentState="complete";var i=UrlUtil.getVideoAdImgUrl("posterfullscreen");this.img_icon.loadImage(i),this.releaseVideo()},i.prototype.releaseVideo=function(){this._video&&(this._video.removeEventListener(egret.Event.COMPLETE,this.loadComplete,this),this._video.removeEventListener(egret.Event.ENDED,this.onComplete,this),this._video.close(),this.cont.removeEgretChild(this._video),this._video=null)},i.prototype.touchDetailHandler=function(t){},i.prototype.updateVideoXY=function(){if(null!=this._video&&this._isLoaded){var t=this._videoWidth,e=this._videoHeight,i=.5*(this.bg.width-t),n=.5*(this.bg.height-e);i=parseInt(""+i),n=parseInt(""+n),this._video.setWH(t,e,i,n),this.updateProgress()}},i.prototype.onResize=function(){e.prototype.onResize.call(this),this.bg.width=Global.stageWidth,this.bg.height=Global.stageHeight,this.updateVideoXY()},i.prototype.clear=function(){e.prototype.clear.call(this),this.currentState="normal",this.cont.removeChildren(),this.releaseVideo(),this._playTime=0,this._totalTime=0,this._isLoaded=!1,this._videoWidth=0,this._videoHeight=0,this.pro.width=0,this.proTime=0,this.btn_play.visible=!1,this.txt_time.text="",Global.timer.clearTimer(flash.bind(this.updateTime,this)),Global.timer.clearTimer(flash.bind(this.updateProgress,this)),EventManager.dispatchEvent(GameEvent.END_PLAY_AD)},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i}(t.UIBaseWindow);t.UIAdVideoView=e,__reflect(e.prototype,"fairui.UIAdVideoView")}(fairui||(fairui={}));var com;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return __extends(i,e),i.build=function(e,n,r){void 0===e&&(e="");var o=new i;if(r)for(var s in n){var a=r[s];o.hasOwnProperty("_"+a)?o["_"+a]=n[s]:t.bean.DataConfigUtils.instances().beanConfigPropertyError(e,a)}else for(s in n)o.hasOwnProperty("_"+s)?o["_"+s]=n[s]:t.bean.DataConfigUtils.instances().beanConfigPropertyError(e,s);return o.init(n),o},i.prototype.init=function(t){},i}(e.Q_itemBean);e.Q_itemExpandBean=i,__reflect(i.prototype,"com.game.data.bean.Q_itemExpandBean")}(i=e.bean||(e.bean={}))}(i=e.data||(e.data={}))}(e=t.game||(t.game={}))}(com||(com={}));var com;!function(t){var e;!function(e){var i;!function(e){var i;!function(e){var i=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=new Array,t.map=new flash.Dictionary,t.configName="",t}return __extends(i,e),i.prototype.load=function(){t.bean.DataConfigUtils.instances().loadJsonFile("Q_itemBean",flash.bind(this.onFinish,this))},i.prototype.onFinish=function(e,i,n){this.configName=e;for(var r=flash.As3As(i,Array),o=flash.checkInt(r.length),s=flash.checkInt(0);o>s;s++){var a=flash.As3As(r[s],Object),l=t.game.data.bean.Q_itemExpandBean.build(this.configName,a,n);this.map.setItem(l.q_id,l),this.list.push(l)}},i.prototype.getDataBean=function(e){return this.map.getItem(e)?flash.As3As(this.map.getItem(e),t.game.data.bean.Q_itemExpandBean):(t.bean.DataConfigUtils.instances().notHaveBean(this.configName,e),null)},i.prototype.hasDataBean=function(t){return flash.Boolean(this.map.getItem(t))},i.prototype.getList=function(){return this.list},i.prototype.getHashMap=function(){return this.map},i}(egret.HashObject);e.Q_itemContainer=i,__reflect(i.prototype,"com.game.data.container.Q_itemContainer")}(i=e.container||(e.container={}))}(i=e.data||(e.data={}))}(e=t.game||(t.game={}))}(com||(com={}));var base;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i._dir=0,i._partType=-1,i._partType=e,i}return __extends(e,t),Object.defineProperty(e.prototype,"action",{get:function(){return this._action},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this._dir},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"partType",{get:function(){return this._partType},set:function(t){this._partType=t},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype.checkContainPoint=function(){return!1},e.prototype.changeAnimator=function(t,e){return this._action!=t||this._dir!=e?(this._action=t,this._dir=e,!0):!1},e.prototype.clearActionAndDir=function(){this._dir=-1,this._action=null,this.resetAndClear()},e.prototype.dispose=function(){this._partType=-1,t.prototype.dispose.call(this)},e}(t.FramePlayer);t.AvatarPart=e,__reflect(e.prototype,"base.AvatarPart")}(base||(base={}));var base;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.getImage=function(e){var i;return 0==this.isDispose&&(i=t.prototype.getImage.call(this,e),i.bitmapData||(i.bitmapData=this.createTexture(i.imageName,i.x,i.y,i.width,i.height))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this)},e}(t.Animator);t.AysncAnimator=e,__reflect(e.prototype,"base.AysncAnimator")}(base||(base={}));var base;!function(t){var e=function(){function t(){}return t.getEventHandler=function(e,i,n,r,o){var s=new t;return s.type=e,s.listener=i,s.thisObject=n,s.useCapture=r,s.priority=o,s},t.prototype.dispose=function(t){this.type=null,this.listener=null,this.thisObject=null,this.useCapture=null,this.priority=null},t}();t.EventHandler=e,__reflect(e.prototype,"base.EventHandler")}(base||(base={}));var EnumAvatarPart=function(){function t(){}return t.getFiveDir=function(e,i){var n=i,r=1;switch(i){case t.LEFTTOP:n=t.RIGHTTOP,r=-1;break;case t.LEFT:n=t.RIGHT,r=-1;break;case t.LEFTBOTTOM:n=t.RIGHTBOTTOM,r=-1}return e&&(e.scaleX=r),n},t.getPartName=function(t){return this._partNameList[t]},t.BODY=1,t.WEAPON=2,t.HORSE=3,t.HORSE_HEAD=4,t.WING=5,t.SUB_WEAPON=6,t.HEAD=7,t.NO_DIR=0,t.FIVE_DIR=1,t.EIGHT_DIR=2,t.TOP=0,t.BOTTOM=4,t.LEFT=6,t.RIGHT=2,t.RIGHTBOTTOM=3,t.LEFTBOTTOM=5,t.RIGHTTOP=1,t.LEFTTOP=7,t.ACTION_TYPE_NO="0",t.ACTION_TYPE_STAND="1",t.ACTION_TYPE_MOVE="2",t.ACTION_TYPE_SPRINT="3",t.ACTION_TYPE_DEF="4",t.ACTION_TYPE_ACTSKILL1="5",t.ACTION_TYPE_ACT1="8",t.ACTION_TYPE_BEINJURED="10",t.ACTION_TYPE_DIE="11",t.ACTION_TYPE_GETUP="15",t.ACTION_TYPE_VERTIGO="16",t.ACTION_TYPE_JIFEI="17",t._partNameList=[null,"body"],t}();__reflect(EnumAvatarPart.prototype,"EnumAvatarPart");var EnumLoader=function(){function t(){}return t.IMG=0,t.RES=1,t.TXT=2,t.BYTE=3,t}();__reflect(EnumLoader.prototype,"EnumLoader");var base;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._isCache=!0,i._bitmap=new t.GBitmap,i.addChild(i._bitmap),i.addEventListener(egret.Event.ADDED_TO_STAGE,i.addtoStageHandler,i),i}return __extends(i,e),Object.defineProperty(i.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isChche",{get:function(){return this._isCache},set:function(t){this._isCache=t},enumerable:!0,configurable:!0}),i.prototype.addtoStageHandler=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addtoStageHandler,this)},i.prototype.source=function(e,i,n,r,o){var s=this;if(e)if(s._thisObject=i,s._complete=n,s._progress=r,s._error=o,s._bitmap||(s._bitmap=new t.GBitmap,s.addChild(s._bitmap)),"string"==typeof e){if(s._url==e)return;s._url=e,com.loader.GLoaderManager.getInstance().load(e,EnumLoader.IMG,s,s.onComplete,s.onProgress,s.onLoadError,null,s._isCache)}else{if(s._bitmap.texture==e)return;s._url=null,s._bitmap.texture=e}else s.dispose(!1)},i.prototype.scale9Grid=function(t,e,i,n){this._bitmap.scale9Grid=new egret.Rectangle(t,e,i,n)},i.prototype.onComplete=function(t){this._bitmap&&(this._bitmap.texture=t.data),this._complete&&this._complete.apply(this._thisObject)},i.prototype.onLoadError=function(t){this._error&&this._error.apply(this._thisObject)},i.prototype.onProgress=function(t){this._progress&&this._progress.apply(this._thisObject,[t])},Object.defineProperty(i.prototype,"width",{get:function(){return this._bitmap.width},set:function(t){this._bitmap.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._bitmap.height},set:function(t){this._bitmap.height=t},enumerable:!0,configurable:!0}),i.prototype.dispose=function(t){e.prototype.dispose.call(this,t);var i=this;i.removeAllEventListener(),i._bitmap&&(i._bitmap.texture=null,i.removeChild(i._bitmap)),i._bitmap=null,i._url&&(com.loader.GLoaderManager.getInstance().unLoad(i._url,i,i.onComplete),t&&(App.asset.deleteImgAsset(i._url),i._url=null)),i._complete=null,i._progress=null,i._error=null,i._thisObject=null},i}(t.GSprite);t.GImage=e,__reflect(e.prototype,"base.GImage")}(base||(base={}));var base;!function(t){var e=function(t){function e(e){return t.call(this)||this}return __extends(e,t),e}(egret.TextField);t.GLabel=e,__reflect(e.prototype,"base.GLabel")}(base||(base={}));var base;!function(t){var e=function(t){function e(e,i){var n=t.call(this)||this;return n._playType=!0,n.init(e,i),n}return __extends(e,t),e.prototype.init=function(t,e){this._url1=t,this._url2=e,Config.useParticleType&&(RES.getResByUrl(t,function(t){this._texture=t,this.create()},this,RES.ResourceItem.TYPE_IMAGE),RES.getResByUrl(e,function(t){this._config=t,this.create()},this,RES.ResourceItem.TYPE_JSON))},e.prototype.create=function(){this._texture&&this._config&&(this.system=new particle.GravityParticleSystem(this._texture,this._config),this.addChild(this.system),this._playType&&this.system.start())},e.prototype.play=function(){this.system&&this.system.start(),this._playType=!0},e.prototype.stop=function(){this.system&&this.system.stop(),this._playType=!1},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),this._texture=null,this._config=null,this.system=null,e&&(RES.destroyRes(this._url1),RES.destroyRes(this._url2))},e}(t.GSprite);t.GParticle=e,__reflect(e.prototype,"base.GParticle")}(base||(base={}));var EnumPanel=function(){function t(){}return t.TYPE_BOTTOM=0,t.TYPE_WINDOW1=1,t.TYPE_WINDOW2=2,t.TYPE_MAIUI=3,t.TYPE_ALERT=4,t.TYPE_TIPS=5,t.TYPE_Guide=6,t}();__reflect(EnumPanel.prototype,"EnumPanel");var view;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),Object.defineProperty(e.prototype,"camps",{set:function(t){this._camps=t,this._waitAvatar.texture=RES.getRes("heiying_png"),this._waitAvatar.x=.5*-this._waitAvatar.measuredWidth,this._waitAvatar.y=-this._waitAvatar.measuredHeight},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.prototype.init.call(this),this.makeWaitAvatar()},e.prototype.onAddToStage=function(e){t.prototype.onAddToStage.call(this,e),this._waitAvatar&&!this._waitAvatar.parent&&this.addChild(this._waitAvatar)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e)},e}(base.Avatar);t.RoleAvatar=e,__reflect(e.prototype,"view.fight.RoleAvatar")}(e=t.fight||(t.fight={}))}(view||(view={}));var EnumPanelID=function(){function t(){}return t.LOGIN=1,t.MAIN_LOADING=5,t.ALERT=6,t}();__reflect(EnumPanelID.prototype,"EnumPanelID");var fairui;!function(t){var e=base.SingleImage,i=function(){function t(){this._currentPasstime=0,this._speed=1,this._aniLength=-1,this._x=0,this._y=0,this._isDisposed=!1,this._isPlaying=!1,this._currentIndex=0,this.init()}return t.prototype.init=function(){},t.prototype.deleteAnimator=function(){this._ani=null,this._aniLength=0,this._currentIndex=0},Object.defineProperty(t.prototype,"aniLength",{get:function(){return this._aniLength},enumerable:!0,configurable:!0}),t.prototype.addAnimatior=function(t){null==t?this.deleteAnimator():(this._ani=t,this._aniLength=this._ani.length,this.updateViewBmd())},Object.defineProperty(t.prototype,"animator",{get:function(){return this._ani},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0}),t.prototype.restart=function(){this._currentIndex=0},t.prototype.updateViewBmd=function(){if(this._ani&&0==this._ani.isDispose){var t=flash.As3As(this._ani.getImage(this._currentIndex),e);t&&this._view&&t.bitmapData&&this.setViewSingleImage(t)}},t.prototype.setViewSingleImage=function(t){},Object.defineProperty(t.prototype,"isDispose",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){this._currentIndex!=t&&(this._currentIndex=t,this.updateViewBmd())},enumerable:!0,configurable:!0}),t.prototype.addParent=function(t){this._parent!=t&&(this._parent=t,this._parent.addChild(this.view))},Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),t.prototype.removeParent=function(){this.view&&this.view.parent&&this.view.parent.removeChild(this.view),this._parent=null},t.prototype.setTo=function(t,e){if(this._x=t,this._y=e,this.animator){var i=this.animator.getImage(this._currentIndex);i&&(this.view.x=i.offsetX*this.view.scaleX+this.x,this.view.y=i.offsetY+this.y)}},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){if(this._x!=t&&(this._x=t,this.animator)){var e=this.animator.getImage(this._currentIndex);e&&(this.view.x=e.offsetX*this.view.scaleX+this.x)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){if(this._y!=t&&(this._y=t,this.animator)){var e=this.animator.getImage(this._currentIndex);e&&(this.view.y=e.offsetY+this.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.view?this.view.alpha:1},set:function(t){this.view&&(this.view.alpha=t)},enumerable:!0,configurable:!0}),t.prototype.play=function(){this._isPlaying=!0},t.prototype.stop=function(){this._isPlaying=!1},t.prototype.updateFrame=function(t){if(this._currentPasstime+=t,null!=this.animator&&!this.animator.isDispose){var e=this._currentPasstime/this.animator.totalMovieTime;this._currentPasstime=this._currentPasstime%this.animator.totalMovieTime;for(var i=this.currentIndex,n=this.animator.getImage(i);n&&this._currentPasstime>=n.delayTime*this.speed;)this._currentPasstime-=n.delayTime*this.speed,i++,i>=this.aniLength&&(i=0,e++),n=this.animator.getImage(i);if(this.currentIndex=i,e>0&&this.aniLength>0)for(var r=0;e>r;r++)this.lastFrameHandler()}},t.prototype.lastFrameHandler=function(){},Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed!=t&&(this._speed=t)},enumerable:!0,configurable:!0}),t.prototype.addvanceTime=function(t){this._isPlaying&&this.updateFrame(t)},t.prototype.resetAndClear=function(){this.removeParent(),this.deleteAnimator(),this._x=0,this._y=0,this._currentPasstime=0,this._speed=1,this.stop()},t.prototype.dispose=function(){this.resetAndClear(),this._view=null,this._isDisposed=!0},t}();t.AbstractSimpleEffect=i,__reflect(i.prototype,"fairui.AbstractSimpleEffect")}(fairui||(fairui={}));var fairui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._lastFrameParams=null,e.initY=0,e}return __extends(e,t),e.prototype.checkMousePoint=function(){var t=!1;return t},Object.defineProperty(e.prototype,"lastFrameHanderCallBack",{get:function(){return this._lastFrameHanderCallBack
},set:function(t){this._lastFrameHanderCallBack=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastFrameParams",{get:function(){return this._lastFrameParams},set:function(t){this._lastFrameParams=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resType",{get:function(){return EnumLoader.RES},enumerable:!0,configurable:!0}),e.prototype.play=function(){0==this._isPlaying&&this.addToFrameController(),t.prototype.play.call(this)},e.prototype.stop=function(){this.removeToFrameController(),t.prototype.stop.call(this)},e.prototype.addToFrameController=function(){i.instance.addEffect(this)},e.prototype.removeToFrameController=function(){i.instance.deleteEffect(this)},e.prototype.lastFrameHandler=function(){null!=this._lastFrameHanderCallBack&&this._lastFrameHanderCallBack.apply(this,this._lastFrameParams)},e.prototype.resetAndClear=function(){this.removeToFrameController(),this._lastFrameHanderCallBack=null,t.prototype.resetAndClear.call(this)},e}(t.NetEffect);t.CEffect=e,__reflect(e.prototype,"fairui.CEffect");var i=function(){function t(){this._effectHash=new flash.Dictionary,this._isStart=!1,this._gapTime=0}return Object.defineProperty(t,"instance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.addEffect=function(t){this._effectHash.setItem(t,t),0==this._isStart&&(Global.timer.doFrameLoop(1,flash.bind(this.onEnterFrame,this)),this._isStart=!0)},t.prototype.onEnterFrame=function(){var t=Global.timer.frametime;this._gapTime+=t,this._gapTime>50&&(this._effectHash.forEach(function(t,e){e.addvanceTime(this._gapTime)},this),this._gapTime=0)},t.prototype.deleteEffect=function(t){this._effectHash.delItem(t)},t}();__reflect(i.prototype,"EffectAdvanceTimeCenter")}(fairui||(fairui={}));var EventObj=function(){function t(t,e,i,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this._type=t,this._listener=e,this._target=i,this._thisObj=n}return t.create=function(e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var o=t.pool.shift();return null==o&&(o=new t),o.type=e,o.listener=i,o.target=n,o.thisObj=r,o},t.recover=function(e){null!=e&&-1==t.pool.indexOf(e)&&t.pool.push(e)},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listener",{get:function(){return this._listener},set:function(t){this._listener=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thisObj",{get:function(){return this._thisObj},set:function(t){this._thisObj=t},enumerable:!0,configurable:!0}),t.prototype.recover=function(){this._type="",this._listener=null,this._target=null,this._thisObj=null,t.recover(this)},t.pool=[],t}();__reflect(EventObj.prototype,"EventObj");var fairui;!function(t){var e=function(t){function e(e){var i=t.call(this)||this;return i._fatherEffect=e,i}return __extends(e,t),Object.defineProperty(e.prototype,"father",{get:function(){return this._fatherEffect},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._fatherEffect=null},e}(base.GBitmap);t.EffectBitmap=e,__reflect(e.prototype,"fairui.EffectBitmap")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;i._playing=!1;var n=i;return n._effect=new t.CEffect,n._effect.father=n,n.addChild(n._effect.view),n.touchEnabled=!1,n.touchChildren=!1,i}return __extends(i,e),Object.defineProperty(i.prototype,"effect",{get:function(){return this._effect},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isCache",{get:function(){return this._effect.isCache},set:function(t){this._effect.isCache=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastFrameHanderCallBack",{get:function(){return this._effect.lastFrameHanderCallBack},set:function(t){this._effect.lastFrameHanderCallBack=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lastFrameParams",{get:function(){return this._effect.lastFrameParams},set:function(t){this._effect.lastFrameParams=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"url",{get:function(){return this._effect.url},set:function(t){this._effect.url=t},enumerable:!0,configurable:!0}),i.prototype.palyOnceStop=function(){this._effect.lastFrameHanderCallBack=this.onPlayComplete,this.restart()},i.prototype.onPlayComplete=function(){this.stop(),Global.timer.doTimeOnce(2e3,flash.bind(this.onEnterFrame,this))},i.prototype.onEnterFrame=function(){this.palyOnceStop()},i.prototype.play=function(){this._playing||(this._playing=!0,this._effect.play())},i.prototype.stop=function(){this._playing&&(this._playing=!1,this._effect.stop())},i.prototype.restart=function(){this._effect.restart(),this.play()},i.prototype.move=function(t,e,i){void 0===i&&(i=null),this.x=t,this.y=e,null!=i&&i.addChild(this)},i.prototype.playOnce=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._effect.lastFrameParams=e,this._effect.lastFrameHanderCallBack=t||flash.bind(this.onComplete,this),this.restart()},i.prototype.onComplete=function(){this.dispose()},Object.defineProperty(i.prototype,"currentIndex",{get:function(){return this._effect.currentIndex},enumerable:!0,configurable:!0}),i.prototype.clear=function(){Global.timer.clearTimer(flash.bind(this.onEnterFrame,this)),this.stop(),this._effect.restart(),this._effect.url=""},i.prototype.dispose=function(){Global.timer.clearTimer(flash.bind(this.onEnterFrame,this)),this.stop(),null!=this.parent&&this.parent.removeChild(this),this._effect&&(this._effect.dispose(),this._effect=null)},Object.defineProperty(i.prototype,"width",{get:function(){return this._effect.view.width},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this._effect.view.height},enumerable:!0,configurable:!0}),i}(egret.Sprite);t.GameEffect=e,__reflect(e.prototype,"fairui.GameEffect")}(fairui||(fairui={}));var EventPool=function(){function t(){this._eventObjList=null,this._eventObjList=[]}return t.create=function(){var e=t.pool.shift();return null==e&&(e=new t),e},t.recover=function(e){null!=e&&-1==t.pool.indexOf(e)&&t.pool.push(e)},t.prototype.addListener=function(t,e,i,n){if(void 0===i&&(i=null),!this.hasEventListener(t,e,i,n)){var r=EventObj.create(t,e,i,n);this._eventObjList.push(r),EventManager.addEventListener(t,e,n,i)}},t.prototype.removeListener=function(t,e,i,n){void 0===i&&(i=null);for(var r=null,o=0;o<this._eventObjList.length;o++)if(r=this._eventObjList[o],r&&r.type==t&&r.listener==e&&r.thisObj==n){this._eventObjList.splice(o,1);break}EventManager.removeEventListener(t,e,n,i)},t.prototype.removeAllListener=function(){for(var t=null,e=0;e<this._eventObjList.length;e++)t=this._eventObjList[e],t&&EventManager.removeEventListener(t.type,t.listener,t.thisObj,t.target)},t.prototype.relistenerAll=function(){for(var t=null,e=0;e<this._eventObjList.length;e++)t=this._eventObjList[e],t&&EventManager.addEventListener(t.type,t.listener,t.thisObj,t.target)},t.prototype.hasEventListener=function(t,e,i,n){void 0===i&&(i=null);for(var r=null,o=0,s=this._eventObjList;o<s.length;o++)if(r=s[o],r&&r.type==t&&r.listener==e)return null==i?r.thisObj==n:r.target==i&&r.thisObj==n;return!1},t.prototype.dispose=function(){for(;this._eventObjList&&this._eventObjList.length>0;){var e=this._eventObjList.shift();e&&(EventManager.removeEventListener(e.type,e.listener,e.thisObj,e.target),e.recover())}this._eventObjList=[],t.recover(this)},t.pool=[],t}();__reflect(EventPool.prototype,"EventPool");var fairui;!function(t){var e=function(){function e(){}return e.play=function(e,i,n,r,o){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),null!=i){var s=[5,2,6,4,1,2,2,5,3,1,5,4,6,3,1];null==e&&(e=new egret.Point(App.stageX,App.stageY)),null==o&&(o=t.FairyUIManager.tipLayer);for(var a=null,l=0;l<s.length;l++)a=new t.ELoader,a.setFairySource("common","img_particle_"+s[l]),(2==s[l]||3==s[l]||4==s[l])&&(a.scaleX=.6,a.scaleY=.6),a.x=e.x-.5*a.width,a.y=e.y-.5*a.height,o.addEgretChild(a.displayObject)}},e}();t.SpringEffect=e,__reflect(e.prototype,"fairui.SpringEffect")}(fairui||(fairui={}));var fairui;!function(t){var e=function(){function t(){this._isDispose=!1,this.init()}return t.prototype.init=function(){this._animatorDict=new flash.Dictionary},t.prototype.getAnimator=function(t,e){return this._animatorDict.getItem(t)?flash.As3As(this._animatorDict.getItem(t),flash.Dictionary).getItem(e):null},t.prototype.addAnimator=function(t,e,i){var n=flash.As3As(this._animatorDict.getItem(t),flash.Dictionary);null==n&&this._animatorDict.setItem(t,n=new flash.Dictionary),n.setItem(e,i)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDispose},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){for(var t in this._animatorDict.map){var e=this._animatorDict.map[t][1];for(var i in e.map){var n=e.map[i][1];n.dispose()}}this._animatorDict=null,this._isDispose=!0},t}();t.Animation=e,__reflect(e.prototype,"fairui.Animation",["IDispose"])}(fairui||(fairui={}));var GameEvent=function(t){function e(e,i,n,r){var o=t.call(this,e,n,r,i)||this;return o.thisObject=null,o}return __extends(e,t),e.SELECT="GameEvent.select",e.RENDER="GameEvent.render",e.LOAD_COMPLETE="GameEvent.loadComplete",e.STGAE_RESIZE="GameEvent.stageResize",e.LOAD_PROGRESS="GameEvent.loadProgress",e.EGLIST_RENDER="GameEvent.EGlistRender",e.EGLIST_COMPLETE="GameEvent.EGlistComplete",e.GUIDE_END="GameEvent.guideEnd",e.GUIDE_SEARCH_TARGET="GameEvent.guideSearchTarget",e.GUIDE_TARGET="GameEvent.guideTarget",e.MAIN_LOAD_COMPLETE="GameEvent.mainLoadComplete",e.START_GAME="GameEvent.stageGame",e.ADD_MESSAGE="GameEvent.addMessage",e.END_PLAY_AD="GameEvent.endPlayAd",e}(egret.Event);__reflect(GameEvent.prototype,"GameEvent");var fairui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.MSGHEIGHT=260,i.DELAYTIME=400,i.DELAYTIME2=100,i.H=60,i.TOTALNUM=4,i._showIndex=0,i._count=0,i._msgAry=[],i._bgImageAry=[],i._clearIdDic=new flash.Dictionary,i._alphaIdDic=new flash.Dictionary,i._begin=!0,i._msgContainer=new t.BaseSprite,i.addChild(i._msgContainer),i.touchable=!1,i}return __extends(i,e),i.prototype.show=function(){var t=this;this._begin&&(this._begin=!1,Global.timer.clearTimer(this.showBottomMessage),Global.timer.doTimeLoop(this.DELAYTIME,flash.bind(this.showBottomMessage,t),[t]),EventManager.addEventListener(GameEvent.STGAE_RESIZE,this.setPos,this),this.setPos())},i.prototype.show2=function(){var t=this;this._begin||(this._begin=!0,Global.timer.clearTimer(this.showBottomMessage),Global.timer.doTimeLoop(this.DELAYTIME2,flash.bind(this.showBottomMessage,t),[t]))},i.prototype.showBottomMessage=function(e){var i=t.Notice.bottomAry.shift();if(null==i)return Global.timer.clearTimer(e.showBottomMessage),void(e._begin=!0);var n=i[0],r=(i[1],i[2],i[3]);t.FairyUIManager.tipLayer.contains(e)||t.FairyUIManager.tipLayer.addChild(e),e._msgAry.push(n),e.addLabelItem(r)},i.prototype.addLabelItem=function(t){var e=this._msgAry[this._showIndex];if(null!=e&&e.length>0){this._count>=this.TOTALNUM&&this.removeBaseSpriteChild(this._bgImageAry[0]);var i=this.getImage();i.alpha=i.scaleX=i.scaleY=1,i.show(e),this._msgContainer.addChild(i),++this._count,++this._showIndex,this._bgImageAry.push(i),this.refreshPos(),this.showTime(i)}},i.prototype.heightLightSameMsg=function(t){for(var e=null,i=0;i<this._bgImageAry.length;i++)if(e=this._bgImageAry[i],e.text==t)return this.removeBaseSpriteChildNew(e),!0;return!1},i.prototype.showTime=function(t){var e=this,i=Global.timer.doTimeOnce(4e3,flash.bind(this.scale1Time,this),[t,e],!1);this._clearIdDic.setItem(t,i)},i.prototype.scale1Time=function(t,e){var i=Global.timer.doFrameLoop(1,flash.bind(e.resumeAlpha,this),[t,e],!1);e._alphaIdDic.setItem(t,i)},i.prototype.resumeAlpha=function(t,e){t.alpha-=.03,t.alpha<=.01&&e.removeBaseSpriteChildNew(t)},i.prototype.clearTimerDic=function(t){null!=t&&(this._alphaIdDic.hasOwnProperty(t)&&(Global.timer.clearTimer(this._alphaIdDic.getItem(t)),this._alphaIdDic.setItem(t,null),this._alphaIdDic.delItem(t)),this._clearIdDic.hasOwnProperty(t)&&(Global.timer.clearTimer(this._clearIdDic.getItem(t)),this._clearIdDic.setItem(t,null),this._clearIdDic.delItem(t)))},i.prototype.clearAllTimerDic=function(){this._alphaIdDic.forEach(function(t,e){Global.timer.clearTimer(e)},this),this._alphaIdDic=new flash.Dictionary,this._clearIdDic.forEach(function(t,e){Global.timer.clearTimer(e)},this),this._clearIdDic=new flash.Dictionary},i.prototype.removeBaseSpriteChildNew=function(t){var e=this._bgImageAry.indexOf(t);-1==e?(null!=t&&null!=t.parent&&(t.parent.removeChild(t),this.refreshPos()),this.clearTimerDic(t),t=null):null!=t&&null!=t.parent&&(this.clearTimerDic(t),t.parent.removeChild(t),t=null,this._bgImageAry.splice(e,1),--this._count,this.refreshPos()),0==this._count&&this.removeAll()},i.prototype.removeBaseSpriteChild=function(t){if(t&&t.parent)t.alpha=1,this.clearTimerDic(t),t.parent.removeChild(t),t=null,this._bgImageAry.shift(),--this._count,this.refreshPos();else{var e=this._bgImageAry.shift();if(e&&e.parent)e.alpha=1,e.parent.removeChild(e),e=null,--this._count,this.refreshPos();else{var i=0;for(i=0;i<this._bgImageAry.length;i++)e=this._bgImageAry[i],e&&e.parent&&(e.parent.removeChild(e),e.alpha=1,e=null);this._count=0}}0==this._count&&this.removeAll()},i.prototype.removeAll=function(){this._count=0,this._bgImageAry=[],this._msgAry=[],this._showIndex=0,this.clearAllTimerDic(),t.FairyUIManager.tipLayer.contains(this)&&(EventManager.removeEventListener(GameEvent.STGAE_RESIZE,this.setPos,this),t.FairyUIManager.tipLayer.removeChild(this))},i.prototype.setPos=function(){this.x=.5*(Global.stageWidth-this.width),this.y=Global.stageHeight-this.MSGHEIGHT-12},i.prototype.refreshPos=function(){for(var t=this._bgImageAry.length,e=0;t>e;e++){var i=this._bgImageAry[e];i&&fairygui.GTween.to(i.y,-e*this.H,.1).setDelay(.05*e).onUpdate(function(t){i.y=t.value.x},this)}},Object.defineProperty(i.prototype,"width",{get:function(){return 790},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return 60},enumerable:!0,configurable:!0}),i.prototype.getImage=function(){return t.PanelRegister.createGObject("tip","TipBottomItem")},i.prototype.getBaseTextField=function(){return new t.BaseTextField},i}(t.BaseSprite);t.BottomMessageView=e,__reflect(e.prototype,"fairui.BottomMessageView")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._type=1,t.filters=[new egret.GlowFilter(16711680,1,16,16,2,1,!1)],t.autoSize=fairygui.AutoSizeType.None,t.fontSize=30,EventManager.addEventListener(GameEvent.STGAE_RESIZE,t.reSetPos,t),t}return __extends(i,e),i.prototype.showGuideMessage=function(e){null==parent&&t.FairyUIManager.tipLayer.addChild(this),this._type=1,this.text=Global.lang.getLang(e),this.setPos(),this.clear(),this._obj=Global.timer.doTimeOnce(4e3,this.dispose1,[this])},i.prototype.showNoticeMessage=function(e){null==parent&&t.FairyUIManager.tipLayer.addChild(this),this._type=2,this.text=e,this.setNoticePos(),this.clear(),this._obj=Global.timer.doTimeOnce(4e3,this.dispose1,[this])},i.prototype.dispose1=function(t){void 0===t&&(t=null),t=t||this,t.dispose()},i.prototype.dispose=function(){EventManager.removeEventListener(GameEvent.STGAE_RESIZE,this.reSetPos,this),this.clear(),e.prototype.dispose.call(this)},i.prototype.clear=function(){null!=this._obj&&(Global.timer.clearTimer(this._obj),this._obj=null)},i.prototype.reSetPos=function(){1==this._type?this.setPos():2==this._type?this.setNoticePos():this.setPos()},i.prototype.setPos=function(){this.x=Global.stageWidth-this.width>>1,this.y=Global.stageHeight-200},i.prototype.setNoticePos=function(){this.x=Global.stageWidth-this.width>>1,this.y=Global.stageHeight-this.height>>1},i}(fairygui.GTextField);t.GuideMessageView=e,__reflect(e.prototype,"fairui.GuideMessageView")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.TOTALNUM=4,t.DELAYTIME=300,t.H=60,t._showIndex=0,t._count=0,t._msgAry=[],t._imageAry=[],t._clearIdAry=[],t.touchable=!1,t}return __extends(i,e),i.prototype.showMiddleMessage=function(e,i){t.FairyUIManager.tipLayer.contains(this)||(t.FairyUIManager.tipLayer.addChild(this),EventManager.addEventListener(GameEvent.STGAE_RESIZE,this.setPos,this)),this.setPos(),this._msgAry.push(e),Global.timer.doTimeOnce(this.DELAYTIME,this.addLabelItem,[this])},i.prototype.addLabelItem=function(e){if(void 0===e&&(e=null),e=e||this,e._count<e.TOTALNUM){var i=e._msgAry[e._showIndex];if(i){var n=t.TipBottomItem.create();n.show(i),e.addChild(n),e._showIndex++,++e._count,e._imageAry.push(n),e.refreshPos()}}},i.prototype.scale2Time=function(t,e){},i.prototype.showTime=function(t,e){e.refreshPos(),Global.timer.doTimeOnce(e.DELAYTIME,e.addLabelItem);var i=Global.timer.doTimeOnce(4e3,flash.bind(e.scale1Time,this),[t,e],!1);e._clearIdAry.push(i)},i.prototype.scale1Time=function(t,e){void 0===e&&(e=null),e=e||this,Global.timer.clearTimer(e._clearIdAry.shift())},i.prototype.removeImage=function(e,i){void 0===i&&(i=null),i.removeLabelChild(e),i.refreshPos(),i._count<i.TOTALNUM&&i._count>0&&Global.timer.doTimeOnce(i.DELAYTIME,i.addLabelItem,[i]),0==i._count&&(i._imageAry=[],i._msgAry=[],i._showIndex=0,t.FairyUIManager.tipLayer.contains(i)&&(t.FairyUIManager.tipLayer.removeChild(i),EventManager.removeEventListener(GameEvent.STGAE_RESIZE,i.setPos,i)))},i.prototype.removeLabelChild=function(e){e&&e.parent?(e.recover(),e=null,this._imageAry.shift(),--this._count):(this._imageAry=this._msgAry=[],this._count=this._showIndex=0,t.FairyUIManager.tipLayer.contains(this)&&(EventManager.removeEventListener(GameEvent.STGAE_RESIZE,this.setPos,this),t.FairyUIManager.tipLayer.removeChild(this)))},i.prototype.setPos=function(t){void 0===t&&(t=null),this.x=(Global.stageWidth-this.width)/2,this.y=.18*Global.stageHeight},i.prototype.refreshPos=function(){for(var t=0;t<this._imageAry.length;t++);},Object.defineProperty(i.prototype,"width",{get:function(){return 790},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return 60},enumerable:!0,configurable:!0}),i}(t.BaseSprite);t.MiddleMessageView=e,__reflect(e.prototype,"fairui.MiddleMessageView")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._prePosY=0,t.FRAME=2,t.TIME=1,t.UPHEIGHT=40,t._gp=null,t}return __extends(i,e),i.recover=function(t){-1==this.pool.indexOf(t)&&this.pool.push(t)},i.create=function(){return this.pool.length>0?this.pool.pop():new i},i.prototype.showMousePosMessage=function(e,i,n,r,o){void 0===i&&(i=16724736),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=0);var s=this;if(this._gp=r,!this._isLoading){this._isLoading=!0,null==n?this.thisParent=t.FairyUIManager.tipLayer:(this.thisParent=n.parent,this._pChild=n,null==this.thisParent&&(this.thisParent=t.FairyUIManager.tipLayer));var a=new t.BaseTextField;a.singleLine=!0,a.autoSize=fairygui.AutoSizeType.Both,a.align=fairygui.AlignType.Center,a.fontSize=18,a.color=i,a.stroke=1,a.strokeColor=0,a.text=Global.lang.getLang(e),a.bold=!0,this.addChild(a),this.thisParent.addChild(this),this.width=a.width,this.setPos(),o>0?(this.alpha=0,fairygui.GTween.to(s.alpha,1,o).setTarget(this,this).setEase(fairygui.EaseType.SineInOut).onUpdate(function(t){s.alpha=t.value.x},s).onComplete(function(){fairygui.GTween.to(s.y,s._prePosY-s.UPHEIGHT,s.TIME).setEase(fairygui.EaseType.Linear).onUpdate(function(t){s.alpha=t.value.x},s).onComplete(function(){s.moveOver.apply(s,[a])},s)},s)):fairygui.GTween.to(s.y,s._prePosY-s.UPHEIGHT,s.TIME).setTarget(this,this).setEase(fairygui.EaseType.Linear).onUpdate(function(t){s.y=t.value.x},s).onComplete(function(){s.moveOver.apply(s,[a])},s)}},i.prototype.moveOver=function(t){null!=t&&t.removeFromParent(),null!=this.parent&&(this._isLoading=!1,this.removeFromParent(),this.setPos(),i.recover(this))},i.prototype.setPos=function(e){void 0===e&&(e=null);var i=this._gp||new egret.Point(fairygui.GRoot.mouseX,fairygui.GRoot.mouseY);this.thisParent==t.FairyUIManager.tipLayer?(this.x=i.x-.5*this.width,this.x<0&&(this.x=0),i.x>Global.stageWidth-this.width&&(this.x=Global.stageWidth-this.width),this._prePosY=this.y=i.y-10):(this.x=this._pChild.x+(this._pChild.width-this.width>>1),this._prePosY=this.y=this._pChild.y-10)},i.pool=[],i}(t.BaseSprite);t.MousePosMessageView=e,__reflect(e.prototype,"fairui.MousePosMessageView")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.create=function(){var e=i.pool.shift();return null==e&&(e=t.PanelRegister.createGObject("common","TipBottomItem")),e.create(),e},i.recover=function(t){t&&-1==i.pool.indexOf(t)&&(t.clear(),i.pool.push(t))},i.prototype.create=function(){this.alpha=this.scaleX=this.scaleY=1},i.prototype.initUI=function(){e.prototype.initUI.call(this)},i.prototype.show=function(t){e.prototype.show.call(this,t),null!=this._titleObject&&(this._titleObject.text=t)},Object.defineProperty(i.prototype,"text",{get:function(){return this._titleObject&&this._titleObject.text},enumerable:!0,configurable:!0}),i.prototype.hide=function(){e.prototype.hide.call(this),this._titleObject.text=""},i.prototype.clear=function(){e.prototype.clear.call(this),this.hide()},i.prototype.recover=function(){e.prototype.recover.call(this),null!=this.parent&&this.parent.removeChild(this),i.recover(this)},i.prototype.dispose=function(){e.prototype.dispose.call(this)},i.pool=[],i}(t.BaseButton);t.TipBottomItem=e,__reflect(e.prototype,"fairui.TipBottomItem")}(fairui||(fairui={}));var fairui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.DELAYTIME=100,i.FRAME=20,i.TIME=10,i._showIndex=0,i._count=0,i._msgAry=[],i._colorAry=[],i._textFieldAry=[],i._clearIdAry=[],i._textFieldPool=new Array,i.touchable=!1,i._labelSprite=new t.BaseSprite,i.addChild(i._labelSprite),i.mask=new egret.Rectangle(5,0,i.width,i.height),EventManager.addEventListener(GameEvent.STGAE_RESIZE,i.setPos,i),t.FairyUIManager.tipLayer.contains(i)||t.FairyUIManager.tipLayer.addChild(i),i}return __extends(i,e),i.prototype.showTopMessage=function(e,i){t.FairyUIManager.tipLayer.contains(this)||(t.FairyUIManager.tipLayer.addChild(this),EventManager.addEventListener(GameEvent.STGAE_RESIZE,this.setPos,this)),this.setPos(),this._msgAry.length>10&&this.removeAllLabelItem(),this._msgAry.push(e),this._colorAry.push(i),Global.timer.doTimeOnce(this.DELAYTIME,this.addLabelItem,[this])},i.prototype.removeAllLabelItem=function(){this._msgAry.splice(0,this._msgAry.length),this._colorAry.splice(0,this._colorAry.length);for(var t=this._clearIdAry.length,e=0;t>e;e++)Global.timer.clearTimer(this._clearIdAry.shift());this._textFieldAry.splice(0,this._textFieldAry.length);for(var i=this._labelSprite.numChildren,n=0;i>n;n++)this._labelSprite.removeChildAt(0);this._showIndex=0,this._count=0,this._msgAry=[],this._colorAry=[],this._preLabel=null},i.prototype.addLabelItem=function(e){void 0===e&&(e=null),e=e||this;var i=e._msgAry[e._showIndex];if(null!=i){var n=e.getBaseTextField();n.alpha=1,n.color=null==e._colorAry[e._showIndex]?t.Notice.TOP_COLOR:e._colorAry[e._showIndex],n.autoSize=fairygui.AutoSizeType.Both,n.fontSize=18,n.align=fairygui.AlignType.Center,n.singleLine=!0,n.touchable=!1,n.text=i,n.width=n.textWidth,n.filters=[new egret.GlowFilter(3604480,1,2,2,5,1)],n.y=.5*(e.height-n.height)+3,null==e._preLabel?n.x=e.width:n.x=e._preLabel.x+e._preLabel.width<e.width?e.width:e._preLabel.x+e._preLabel.width+20,e._preLabel=n,e._labelSprite.addChild(n),++e._count,++e._showIndex,e._textFieldAry.push(n),e.showTime(n)}},i.prototype.showTime=function(t){Global.timer.doTimeOnce(this.DELAYTIME,this.addLabelItem,[this]);var e=Global.timer.doTimeLoop(this.FRAME,flash.bind(this.moveTo,this),[t,this],!1);this._clearIdAry.push(e)},i.prototype.moveTo=function(t,e){t.x-=e.width/(1e3/e.FRAME*e.TIME),t.x<=2*-t.width?(Global.timer.clearTimer(e._clearIdAry.shift()),fairygui.GTween.to(1,.01,.1).setTarget(t).onUpdate(function(e){t.alpha=e.value.x},e).onComplete(function(){null!=e.removeLabel&&e.removeLabel.apply(e,[t,e])},e)):t.x<e.width-t.width&&e.addLabelItem()},i.prototype.removeLabel=function(e,i){if(!e||!e.parent){for(var n=0;n<i._textFieldAry.length;n++)e=i._textFieldAry[n],e&&e.parent&&(e.parent.removeChild(e),i._textFieldPool.push(e),e=null,--i._count);return i._textFieldAry=i._msgAry=i._colorAry=[],void(i._count=i._showIndex=0)}e.parent.removeChild(e),i._textFieldPool.push(e),e=null,i._textFieldAry.shift(),--i._count,i._count>0&&Global.timer.doTimeOnce(i.DELAYTIME,i.addLabelItem,[i]),0==i._count&&(i._msgAry=[],i._colorAry=[],i._showIndex=0,i._preLabel=null,t.FairyUIManager.tipLayer.contains(i)&&t.FairyUIManager.tipLayer.removeChild(i))},i.prototype.setPos=function(t){void 0===t&&(t=null),this.y=135,this.x=Global.stageWidth-this.width>>1},Object.defineProperty(i.prototype,"width",{get:function(){return 790},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return 60},enumerable:!0,configurable:!0}),i.prototype.getBaseTextField=function(){return this._textFieldPool.length>0?this._textFieldPool.pop():new fairygui.GTextField},i}(t.View);t.TopMessageView=e,__reflect(e.prototype,"fairui.TopMessageView")}(fairui||(fairui={}));